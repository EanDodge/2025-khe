function Cs(We,Ve){for(var xe=0;xe<Ve.length;xe++){const Ae=Ve[xe];if(typeof Ae!="string"&&!Array.isArray(Ae)){for(const me in Ae)if(me!=="default"&&!(me in We)){const V=Object.getOwnPropertyDescriptor(Ae,me);V&&Object.defineProperty(We,me,V.get?V:{enumerable:!0,get:()=>Ae[me]})}}}return Object.freeze(Object.defineProperty(We,Symbol.toStringTag,{value:"Module"}))}(function(){const Ve=document.createElement("link").relList;if(Ve&&Ve.supports&&Ve.supports("modulepreload"))return;for(const me of document.querySelectorAll('link[rel="modulepreload"]'))Ae(me);new MutationObserver(me=>{for(const V of me)if(V.type==="childList")for(const G of V.addedNodes)G.tagName==="LINK"&&G.rel==="modulepreload"&&Ae(G)}).observe(document,{childList:!0,subtree:!0});function xe(me){const V={};return me.integrity&&(V.integrity=me.integrity),me.referrerPolicy&&(V.referrerPolicy=me.referrerPolicy),me.crossOrigin==="use-credentials"?V.credentials="include":me.crossOrigin==="anonymous"?V.credentials="omit":V.credentials="same-origin",V}function Ae(me){if(me.ep)return;me.ep=!0;const V=xe(me);fetch(me.href,V)}})();function No(We){return We&&We.__esModule&&Object.prototype.hasOwnProperty.call(We,"default")?We.default:We}var mo={exports:{}},fn={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var To;function Rs(){if(To)return fn;To=1;var We=Symbol.for("react.transitional.element"),Ve=Symbol.for("react.fragment");function xe(Ae,me,V){var G=null;if(V!==void 0&&(G=""+V),me.key!==void 0&&(G=""+me.key),"key"in me){V={};for(var t in me)t!=="key"&&(V[t]=me[t])}else V=me;return me=V.ref,{$$typeof:We,type:Ae,key:G,ref:me!==void 0?me:null,props:V}}return fn.Fragment=Ve,fn.jsx=xe,fn.jsxs=xe,fn}var Eo;function Bo(){return Eo||(Eo=1,mo.exports=Rs()),mo.exports}Bo();var yo={exports:{}},jt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ko;function Ls(){if(ko)return jt;ko=1;var We=Symbol.for("react.transitional.element"),Ve=Symbol.for("react.portal"),xe=Symbol.for("react.fragment"),Ae=Symbol.for("react.strict_mode"),me=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),G=Symbol.for("react.context"),t=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),i=Symbol.iterator;function l(L){return L===null||typeof L!="object"?null:(L=i&&L[i]||L["@@iterator"],typeof L=="function"?L:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,n={};function o(L,z,Y){this.props=L,this.context=z,this.refs=n,this.updater=Y||g}o.prototype.isReactComponent={},o.prototype.setState=function(L,z){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,z,"setState")},o.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function s(){}s.prototype=o.prototype;function r(L,z,Y){this.props=L,this.context=z,this.refs=n,this.updater=Y||g}var a=r.prototype=new s;a.constructor=r,y(a,o.prototype),a.isPureReactComponent=!0;var d=Array.isArray,h={H:null,A:null,T:null,S:null},c=Object.prototype.hasOwnProperty;function p(L,z,Y,Z,ee,te){return Y=te.ref,{$$typeof:We,type:L,key:z,ref:Y!==void 0?Y:null,props:te}}function m(L,z){return p(L.type,z,void 0,void 0,void 0,L.props)}function b(L){return typeof L=="object"&&L!==null&&L.$$typeof===We}function A(L){var z={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Y){return z[Y]})}var T=/\/+/g;function x(L,z){return typeof L=="object"&&L!==null&&L.key!=null?A(""+L.key):z.toString(36)}function R(){}function S(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(R,R):(L.status="pending",L.then(function(z){L.status==="pending"&&(L.status="fulfilled",L.value=z)},function(z){L.status==="pending"&&(L.status="rejected",L.reason=z)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function C(L,z,Y,Z,ee){var te=typeof L;(te==="undefined"||te==="boolean")&&(L=null);var oe=!1;if(L===null)oe=!0;else switch(te){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(L.$$typeof){case We:case Ve:oe=!0;break;case f:return oe=L._init,C(oe(L._payload),z,Y,Z,ee)}}if(oe)return ee=ee(L),oe=Z===""?"."+x(L,0):Z,d(ee)?(Y="",oe!=null&&(Y=oe.replace(T,"$&/")+"/"),C(ee,z,Y,"",function(K){return K})):ee!=null&&(b(ee)&&(ee=m(ee,Y+(ee.key==null||L&&L.key===ee.key?"":(""+ee.key).replace(T,"$&/")+"/")+oe)),z.push(ee)),1;oe=0;var U=Z===""?".":Z+":";if(d(L))for(var q=0;q<L.length;q++)Z=L[q],te=U+x(Z,q),oe+=C(Z,z,Y,te,ee);else if(q=l(L),typeof q=="function")for(L=q.call(L),q=0;!(Z=L.next()).done;)Z=Z.value,te=U+x(Z,q++),oe+=C(Z,z,Y,te,ee);else if(te==="object"){if(typeof L.then=="function")return C(S(L),z,Y,Z,ee);throw z=String(L),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return oe}function D(L,z,Y){if(L==null)return L;var Z=[],ee=0;return C(L,Z,"","",function(te){return z.call(Y,te,ee++)}),Z}function N(L){if(L._status===-1){var z=L._result;z=z(),z.then(function(Y){(L._status===0||L._status===-1)&&(L._status=1,L._result=Y)},function(Y){(L._status===0||L._status===-1)&&(L._status=2,L._result=Y)}),L._status===-1&&(L._status=0,L._result=z)}if(L._status===1)return L._result.default;throw L._result}var F=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function M(){}return jt.Children={map:D,forEach:function(L,z,Y){D(L,function(){z.apply(this,arguments)},Y)},count:function(L){var z=0;return D(L,function(){z++}),z},toArray:function(L){return D(L,function(z){return z})||[]},only:function(L){if(!b(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},jt.Component=o,jt.Fragment=xe,jt.Profiler=me,jt.PureComponent=r,jt.StrictMode=Ae,jt.Suspense=O,jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=h,jt.act=function(){throw Error("act(...) is not supported in production builds of React.")},jt.cache=function(L){return function(){return L.apply(null,arguments)}},jt.cloneElement=function(L,z,Y){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var Z=y({},L.props),ee=L.key,te=void 0;if(z!=null)for(oe in z.ref!==void 0&&(te=void 0),z.key!==void 0&&(ee=""+z.key),z)!c.call(z,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&z.ref===void 0||(Z[oe]=z[oe]);var oe=arguments.length-2;if(oe===1)Z.children=Y;else if(1<oe){for(var U=Array(oe),q=0;q<oe;q++)U[q]=arguments[q+2];Z.children=U}return p(L.type,ee,void 0,void 0,te,Z)},jt.createContext=function(L){return L={$$typeof:G,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:V,_context:L},L},jt.createElement=function(L,z,Y){var Z,ee={},te=null;if(z!=null)for(Z in z.key!==void 0&&(te=""+z.key),z)c.call(z,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ee[Z]=z[Z]);var oe=arguments.length-2;if(oe===1)ee.children=Y;else if(1<oe){for(var U=Array(oe),q=0;q<oe;q++)U[q]=arguments[q+2];ee.children=U}if(L&&L.defaultProps)for(Z in oe=L.defaultProps,oe)ee[Z]===void 0&&(ee[Z]=oe[Z]);return p(L,te,void 0,void 0,null,ee)},jt.createRef=function(){return{current:null}},jt.forwardRef=function(L){return{$$typeof:t,render:L}},jt.isValidElement=b,jt.lazy=function(L){return{$$typeof:f,_payload:{_status:-1,_result:L},_init:N}},jt.memo=function(L,z){return{$$typeof:_,type:L,compare:z===void 0?null:z}},jt.startTransition=function(L){var z=h.T,Y={};h.T=Y;try{var Z=L(),ee=h.S;ee!==null&&ee(Y,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(M,F)}catch(te){F(te)}finally{h.T=z}},jt.unstable_useCacheRefresh=function(){return h.H.useCacheRefresh()},jt.use=function(L){return h.H.use(L)},jt.useActionState=function(L,z,Y){return h.H.useActionState(L,z,Y)},jt.useCallback=function(L,z){return h.H.useCallback(L,z)},jt.useContext=function(L){return h.H.useContext(L)},jt.useDebugValue=function(){},jt.useDeferredValue=function(L,z){return h.H.useDeferredValue(L,z)},jt.useEffect=function(L,z){return h.H.useEffect(L,z)},jt.useId=function(){return h.H.useId()},jt.useImperativeHandle=function(L,z,Y){return h.H.useImperativeHandle(L,z,Y)},jt.useInsertionEffect=function(L,z){return h.H.useInsertionEffect(L,z)},jt.useLayoutEffect=function(L,z){return h.H.useLayoutEffect(L,z)},jt.useMemo=function(L,z){return h.H.useMemo(L,z)},jt.useOptimistic=function(L,z){return h.H.useOptimistic(L,z)},jt.useReducer=function(L,z,Y){return h.H.useReducer(L,z,Y)},jt.useRef=function(L){return h.H.useRef(L)},jt.useState=function(L){return h.H.useState(L)},jt.useSyncExternalStore=function(L,z,Y){return h.H.useSyncExternalStore(L,z,Y)},jt.useTransition=function(){return h.H.useTransition()},jt.version="19.0.0",jt}var Mo;function dn(){return Mo||(Mo=1,yo.exports=Ls()),yo.exports}dn();var Hn={exports:{}},Ds=Hn.exports,Ao;function Is(){return Ao||(Ao=1,function(We,Ve){(function(xe,Ae){We.exports=Ae(dn())})(Ds,function(xe){return function(Ae){var me={};function V(G){if(me[G])return me[G].exports;var t=me[G]={i:G,l:!1,exports:{}};return Ae[G].call(t.exports,t,t.exports,V),t.l=!0,t.exports}return V.m=Ae,V.c=me,V.d=function(G,t,O){V.o(G,t)||Object.defineProperty(G,t,{enumerable:!0,get:O})},V.r=function(G){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})},V.t=function(G,t){if(1&t&&(G=V(G)),8&t||4&t&&typeof G=="object"&&G&&G.__esModule)return G;var O=Object.create(null);if(V.r(O),Object.defineProperty(O,"default",{enumerable:!0,value:G}),2&t&&typeof G!="string")for(var _ in G)V.d(O,_,(function(f){return G[f]}).bind(null,_));return O},V.n=function(G){var t=G&&G.__esModule?function(){return G.default}:function(){return G};return V.d(t,"a",t),t},V.o=function(G,t){return Object.prototype.hasOwnProperty.call(G,t)},V.p="",V(V.s=2)}([function(Ae,me){Ae.exports=xe},function(Ae,me,V){(function(G){(function(t){Ae.exports=t()})(function(){return function t(O,_,f){function i(y,n){if(!_[y]){if(!O[y]){var o=!1;if(!n&&o)return(void 0)(y,!0);if(l)return l(y,!0);throw(n=new Error("Cannot find module '"+y+"'")).code="MODULE_NOT_FOUND",n}o=_[y]={exports:{}},O[y][0].call(o.exports,function(s){return i(O[y][1][s]||s)},o,o.exports,t,O,_,f)}return _[y].exports}for(var l=!1,g=0;g<f.length;g++)i(f[g]);return i}({1:[function(t,O,_){_.byteLength=function(s){return 3*((s=o(s))[0]+(s=s[1]))/4-s},_.toByteArray=function(s){var r,a,d=(h=o(s))[0],h=h[1],c=new l(function(b,A){return 3*(b+A)/4-A}(d,h)),p=0,m=0<h?d-4:d;for(a=0;a<m;a+=4)r=i[s.charCodeAt(a)]<<18|i[s.charCodeAt(a+1)]<<12|i[s.charCodeAt(a+2)]<<6|i[s.charCodeAt(a+3)],c[p++]=r>>16&255,c[p++]=r>>8&255,c[p++]=255&r;return h===2&&(r=i[s.charCodeAt(a)]<<2|i[s.charCodeAt(a+1)]>>4,c[p++]=255&r),h===1&&(r=i[s.charCodeAt(a)]<<10|i[s.charCodeAt(a+1)]<<4|i[s.charCodeAt(a+2)]>>2,c[p++]=r>>8&255,c[p++]=255&r),c},_.fromByteArray=function(s){for(var r,a=s.length,d=a%3,h=[],c=0,p=a-d;c<p;c+=16383)h.push(function(m,b,A){for(var T,x=[],R=b;R<A;R+=3)T=(m[R]<<16&16711680)+(m[R+1]<<8&65280)+(255&m[R+2]),x.push(function(S){return f[S>>18&63]+f[S>>12&63]+f[S>>6&63]+f[63&S]}(T));return x.join("")}(s,c,p<c+16383?p:c+16383));return d==1?(r=s[a-1],h.push(f[r>>2]+f[r<<4&63]+"==")):d==2&&(r=(s[a-2]<<8)+s[a-1],h.push(f[r>>10]+f[r>>4&63]+f[r<<2&63]+"=")),h.join("")};for(var f=[],i=[],l=typeof Uint8Array<"u"?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=0,n=g.length;y<n;++y)f[y]=g[y],i[g.charCodeAt(y)]=y;function o(s){var r=s.length;if(0<r%4)throw new Error("Invalid string. Length must be a multiple of 4");return r=(s=(s=s.indexOf("="))===-1?r:s)===r?0:4-s%4,[s,r]}i[45]=62,i[95]=63},{}],2:[function(t,O,_){},{}],3:[function(t,O,_){arguments[4][2][0].apply(_,arguments)},{dup:2}],4:[function(t,O,_){(function(o){var i=t("base64-js"),l=t("ieee754"),g=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,y=(_.Buffer=o,_.SlowBuffer=function(U){return+U!=U&&(U=0),o.alloc(+U)},_.INSPECT_MAX_BYTES=50,2147483647);function n(U){if(y<U)throw new RangeError('The value "'+U+'" is invalid for option "size"');return U=new Uint8Array(U),Object.setPrototypeOf(U,o.prototype),U}function o(U,q,K){if(typeof U!="number")return s(U,q,K);if(typeof q=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return a(U)}function s(U,q,K){if(typeof U=="string"){var se=U,ie=q;if(o.isEncoding(ie=typeof ie=="string"&&ie!==""?ie:"utf8"))return(se=($=n(le=0|c(se,ie))).write(se,ie))!==le?$.slice(0,se):$;throw new TypeError("Unknown encoding: "+ie)}if(ArrayBuffer.isView(U))return d(U);if(U!=null){if(ee(U,ArrayBuffer)||U&&ee(U.buffer,ArrayBuffer)){var le=U,$=K;if((se=q)<0||le.byteLength<se)throw new RangeError('"offset" is outside of buffer bounds');if(le.byteLength<se+($||0))throw new RangeError('"length" is outside of buffer bounds');return le=se===void 0&&$===void 0?new Uint8Array(le):$===void 0?new Uint8Array(le,se):new Uint8Array(le,se,$),Object.setPrototypeOf(le,o.prototype),le}if(typeof U=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if((ie=U.valueOf&&U.valueOf())!=null&&ie!==U)return o.from(ie,q,K);var ce=function(ye){var _e,he;return o.isBuffer(ye)?((he=n(_e=0|h(ye.length))).length!==0&&ye.copy(he,0,0,_e),he):ye.length!==void 0?typeof ye.length!="number"||te(ye.length)?n(0):d(ye):ye.type==="Buffer"&&Array.isArray(ye.data)?d(ye.data):void 0}(U);if(ce)return ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof U[Symbol.toPrimitive]=="function")return o.from(U[Symbol.toPrimitive]("string"),q,K)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}function r(U){if(typeof U!="number")throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function a(U){return r(U),n(U<0?0:0|h(U))}function d(U){for(var q=U.length<0?0:0|h(U.length),K=n(q),se=0;se<q;se+=1)K[se]=255&U[se];return K}function h(U){if(y<=U)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+y.toString(16)+" bytes");return 0|U}function c(U,q){if(o.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||ee(U,ArrayBuffer))return U.byteLength;if(typeof U!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);var K=U.length,se=2<arguments.length&&arguments[2]===!0;if(!se&&K===0)return 0;for(var ie=!1;;)switch(q){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":return z(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*K;case"hex":return K>>>1;case"base64":return Y(U).length;default:if(ie)return se?-1:z(U).length;q=(""+q).toLowerCase(),ie=!0}}function p(U,q,K){var se,ie=!1;if((q=q===void 0||q<0?0:q)>this.length||(K=K===void 0||K>this.length?this.length:K)<=0||(K>>>=0)<=(q>>>=0))return"";for(U=U||"utf8";;)switch(U){case"hex":var le=q,$=K,ce=this.length;(!$||$<0||ce<$)&&($=ce);for(var ye="",_e=le=!le||le<0?0:le;_e<$;++_e)ye+=oe[this[_e]];return ye;case"utf8":case"utf-8":return R(this,q,K);case"ascii":ce=q;var he=K,ve="";he=Math.min(this.length,he);for(var Ee=ce;Ee<he;++Ee)ve+=String.fromCharCode(127&this[Ee]);return ve;case"latin1":case"binary":le=q;var Fe=K,Oe="";Fe=Math.min(this.length,Fe);for(var Ge=le;Ge<Fe;++Ge)Oe+=String.fromCharCode(this[Ge]);return Oe;case"base64":return $e=this,se=K,(Je=q)===0&&se===$e.length?i.fromByteArray($e):i.fromByteArray($e.slice(Je,se));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var $e=q,Je=K,mt=this.slice($e,Je),tt="",de=0;de<mt.length;de+=2)tt+=String.fromCharCode(mt[de]+256*mt[de+1]);return tt;default:if(ie)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),ie=!0}}function m(U,q,K){var se=U[q];U[q]=U[K],U[K]=se}function b(U,q,K,se,ie){if(U.length===0)return-1;if(typeof K=="string"?(se=K,K=0):2147483647<K?K=2147483647:K<-2147483648&&(K=-2147483648),(K=(K=te(K=+K)?ie?0:U.length-1:K)<0?U.length+K:K)>=U.length){if(ie)return-1;K=U.length-1}else if(K<0){if(!ie)return-1;K=0}if(typeof q=="string"&&(q=o.from(q,se)),o.isBuffer(q))return q.length===0?-1:A(U,q,K,se,ie);if(typeof q=="number")return q&=255,typeof Uint8Array.prototype.indexOf=="function"?(ie?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(U,q,K):A(U,[q],K,se,ie);throw new TypeError("val must be string, number or Buffer")}function A(U,q,K,se,ie){var le=1,$=U.length,ce=q.length;if(se!==void 0&&((se=String(se).toLowerCase())==="ucs2"||se==="ucs-2"||se==="utf16le"||se==="utf-16le")){if(U.length<2||q.length<2)return-1;$/=le=2,ce/=2,K/=2}function ye(Fe,Oe){return le===1?Fe[Oe]:Fe.readUInt16BE(Oe*le)}if(ie)for(var _e=-1,he=K;he<$;he++)if(ye(U,he)===ye(q,_e===-1?0:he-_e)){if(he-(_e=_e===-1?he:_e)+1===ce)return _e*le}else _e!==-1&&(he-=he-_e),_e=-1;else for(he=K=$<K+ce?$-ce:K;0<=he;he--){for(var ve=!0,Ee=0;Ee<ce;Ee++)if(ye(U,he+Ee)!==ye(q,Ee)){ve=!1;break}if(ve)return he}return-1}function T(U,q,K,se){return Z(function(ie){for(var le=[],$=0;$<ie.length;++$)le.push(255&ie.charCodeAt($));return le}(q),U,K,se)}function x(U,q,K,se){return Z(function(ie,le){for(var $,ce,ye=[],_e=0;_e<ie.length&&!((le-=2)<0);++_e)$=(ce=ie.charCodeAt(_e))>>8,ce%=256,ye.push(ce),ye.push($);return ye}(q,U.length-K),U,K,se)}function R(U,q,K){K=Math.min(U.length,K);for(var se=[],ie=q;ie<K;){var le,$,ce,ye,_e=U[ie],he=null,ve=239<_e?4:223<_e?3:191<_e?2:1;if(ie+ve<=K)switch(ve){case 1:_e<128&&(he=_e);break;case 2:(192&(le=U[ie+1]))==128&&127<(ye=(31&_e)<<6|63&le)&&(he=ye);break;case 3:le=U[ie+1],$=U[ie+2],(192&le)==128&&(192&$)==128&&2047<(ye=(15&_e)<<12|(63&le)<<6|63&$)&&(ye<55296||57343<ye)&&(he=ye);break;case 4:le=U[ie+1],$=U[ie+2],ce=U[ie+3],(192&le)==128&&(192&$)==128&&(192&ce)==128&&65535<(ye=(15&_e)<<18|(63&le)<<12|(63&$)<<6|63&ce)&&ye<1114112&&(he=ye)}he===null?(he=65533,ve=1):65535<he&&(he-=65536,se.push(he>>>10&1023|55296),he=56320|1023&he),se.push(he),ie+=ve}var Ee=se,Fe=Ee.length;if(Fe<=S)return String.fromCharCode.apply(String,Ee);for(var Oe="",Ge=0;Ge<Fe;)Oe+=String.fromCharCode.apply(String,Ee.slice(Ge,Ge+=S));return Oe}_.kMaxLength=y,(o.TYPED_ARRAY_SUPPORT=function(){try{var U=new Uint8Array(1),q={foo:function(){return 42}};return Object.setPrototypeOf(q,Uint8Array.prototype),Object.setPrototypeOf(U,q),U.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=s,Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(U,q,K){return q=q,K=K,r(U=U),U<=0||q===void 0?n(U):typeof K=="string"?n(U).fill(q,K):n(U).fill(q)},o.allocUnsafe=a,o.allocUnsafeSlow=a,o.isBuffer=function(U){return U!=null&&U._isBuffer===!0&&U!==o.prototype},o.compare=function(U,q){if(ee(U,Uint8Array)&&(U=o.from(U,U.offset,U.byteLength)),ee(q,Uint8Array)&&(q=o.from(q,q.offset,q.byteLength)),!o.isBuffer(U)||!o.isBuffer(q))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(U===q)return 0;for(var K=U.length,se=q.length,ie=0,le=Math.min(K,se);ie<le;++ie)if(U[ie]!==q[ie]){K=U[ie],se=q[ie];break}return K<se?-1:se<K?1:0},o.isEncoding=function(U){switch(String(U).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(U,q){if(!Array.isArray(U))throw new TypeError('"list" argument must be an Array of Buffers');if(U.length===0)return o.alloc(0);if(q===void 0)for(ie=q=0;ie<U.length;++ie)q+=U[ie].length;for(var K=o.allocUnsafe(q),se=0,ie=0;ie<U.length;++ie){var le=U[ie];if(ee(le,Uint8Array)&&(le=o.from(le)),!o.isBuffer(le))throw new TypeError('"list" argument must be an Array of Buffers');le.copy(K,se),se+=le.length}return K},o.byteLength=c,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var U=this.length;if(U%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var q=0;q<U;q+=2)m(this,q,q+1);return this},o.prototype.swap32=function(){var U=this.length;if(U%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var q=0;q<U;q+=4)m(this,q,q+3),m(this,q+1,q+2);return this},o.prototype.swap64=function(){var U=this.length;if(U%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var q=0;q<U;q+=8)m(this,q,q+7),m(this,q+1,q+6),m(this,q+2,q+5),m(this,q+3,q+4);return this},o.prototype.toLocaleString=o.prototype.toString=function(){var U=this.length;return U===0?"":arguments.length===0?R(this,0,U):p.apply(this,arguments)},o.prototype.equals=function(U){if(o.isBuffer(U))return this===U||o.compare(this,U)===0;throw new TypeError("Argument must be a Buffer")},o.prototype.inspect=function(){var U="",q=_.INSPECT_MAX_BYTES;return U=this.toString("hex",0,q).replace(/(.{2})/g,"$1 ").trim(),this.length>q&&(U+=" ... "),"<Buffer "+U+">"},g&&(o.prototype[g]=o.prototype.inspect),o.prototype.compare=function(U,q,K,se,ie){if(ee(U,Uint8Array)&&(U=o.from(U,U.offset,U.byteLength)),!o.isBuffer(U))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof U);if(K===void 0&&(K=U?U.length:0),se===void 0&&(se=0),ie===void 0&&(ie=this.length),(q=q===void 0?0:q)<0||K>U.length||se<0||ie>this.length)throw new RangeError("out of range index");if(ie<=se&&K<=q)return 0;if(ie<=se)return-1;if(K<=q)return 1;if(this===U)return 0;for(var le=(ie>>>=0)-(se>>>=0),$=(K>>>=0)-(q>>>=0),ce=Math.min(le,$),ye=this.slice(se,ie),_e=U.slice(q,K),he=0;he<ce;++he)if(ye[he]!==_e[he]){le=ye[he],$=_e[he];break}return le<$?-1:$<le?1:0},o.prototype.includes=function(U,q,K){return this.indexOf(U,q,K)!==-1},o.prototype.indexOf=function(U,q,K){return b(this,U,q,K,!0)},o.prototype.lastIndexOf=function(U,q,K){return b(this,U,q,K,!1)},o.prototype.write=function(U,q,K,se){if(q===void 0)se="utf8",K=this.length,q=0;else if(K===void 0&&typeof q=="string")se=q,K=this.length,q=0;else{if(!isFinite(q))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");q>>>=0,isFinite(K)?(K>>>=0,se===void 0&&(se="utf8")):(se=K,K=void 0)}var ie=this.length-q;if((K===void 0||ie<K)&&(K=ie),0<U.length&&(K<0||q<0)||q>this.length)throw new RangeError("Attempt to write outside buffer bounds");se=se||"utf8";for(var le,$,ce,ye=!1;;)switch(se){case"hex":var _e=U,he=q,ve=K,Ee=(he=Number(he)||0,this.length-he);(!ve||Ee<(ve=Number(ve)))&&(ve=Ee),(Ee=_e.length)/2<ve&&(ve=Ee/2);for(var Fe=0;Fe<ve;++Fe){var Oe=parseInt(_e.substr(2*Fe,2),16);if(te(Oe))return Fe;this[he+Fe]=Oe}return Fe;case"utf8":case"utf-8":return Ee=q,ce=K,Z(z(U,($=this).length-Ee),$,Ee,ce);case"ascii":return T(this,U,q,K);case"latin1":case"binary":return T(this,U,q,K);case"base64":return $=this,ce=q,le=K,Z(Y(U),$,ce,le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,U,q,K);default:if(ye)throw new TypeError("Unknown encoding: "+se);se=(""+se).toLowerCase(),ye=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function C(U,q,K){if(U%1!=0||U<0)throw new RangeError("offset is not uint");if(K<U+q)throw new RangeError("Trying to access beyond buffer length")}function D(U,q,K,se,ie,le){if(!o.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(ie<q||q<le)throw new RangeError('"value" argument is out of bounds');if(K+se>U.length)throw new RangeError("Index out of range")}function N(U,q,K,se){if(K+se>U.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function F(U,q,K,se,ie){return q=+q,K>>>=0,ie||N(U,0,K,4),l.write(U,q,K,se,23,4),K+4}function M(U,q,K,se,ie){return q=+q,K>>>=0,ie||N(U,0,K,8),l.write(U,q,K,se,52,8),K+8}o.prototype.slice=function(U,q){var K=this.length;return(U=~~U)<0?(U+=K)<0&&(U=0):K<U&&(U=K),(q=q===void 0?K:~~q)<0?(q+=K)<0&&(q=0):K<q&&(q=K),q<U&&(q=U),K=this.subarray(U,q),Object.setPrototypeOf(K,o.prototype),K},o.prototype.readUIntLE=function(U,q,K){U>>>=0,q>>>=0,K||C(U,q,this.length);for(var se=this[U],ie=1,le=0;++le<q&&(ie*=256);)se+=this[U+le]*ie;return se},o.prototype.readUIntBE=function(U,q,K){U>>>=0,q>>>=0,K||C(U,q,this.length);for(var se=this[U+--q],ie=1;0<q&&(ie*=256);)se+=this[U+--q]*ie;return se},o.prototype.readUInt8=function(U,q){return U>>>=0,q||C(U,1,this.length),this[U]},o.prototype.readUInt16LE=function(U,q){return U>>>=0,q||C(U,2,this.length),this[U]|this[U+1]<<8},o.prototype.readUInt16BE=function(U,q){return U>>>=0,q||C(U,2,this.length),this[U]<<8|this[U+1]},o.prototype.readUInt32LE=function(U,q){return U>>>=0,q||C(U,4,this.length),(this[U]|this[U+1]<<8|this[U+2]<<16)+16777216*this[U+3]},o.prototype.readUInt32BE=function(U,q){return U>>>=0,q||C(U,4,this.length),16777216*this[U]+(this[U+1]<<16|this[U+2]<<8|this[U+3])},o.prototype.readIntLE=function(U,q,K){U>>>=0,q>>>=0,K||C(U,q,this.length);for(var se=this[U],ie=1,le=0;++le<q&&(ie*=256);)se+=this[U+le]*ie;return(ie*=128)<=se&&(se-=Math.pow(2,8*q)),se},o.prototype.readIntBE=function(U,q,K){U>>>=0,q>>>=0,K||C(U,q,this.length);for(var se=q,ie=1,le=this[U+--se];0<se&&(ie*=256);)le+=this[U+--se]*ie;return(ie*=128)<=le&&(le-=Math.pow(2,8*q)),le},o.prototype.readInt8=function(U,q){return U>>>=0,q||C(U,1,this.length),128&this[U]?-1*(255-this[U]+1):this[U]},o.prototype.readInt16LE=function(U,q){return U>>>=0,q||C(U,2,this.length),32768&(q=this[U]|this[U+1]<<8)?4294901760|q:q},o.prototype.readInt16BE=function(U,q){return U>>>=0,q||C(U,2,this.length),32768&(q=this[U+1]|this[U]<<8)?4294901760|q:q},o.prototype.readInt32LE=function(U,q){return U>>>=0,q||C(U,4,this.length),this[U]|this[U+1]<<8|this[U+2]<<16|this[U+3]<<24},o.prototype.readInt32BE=function(U,q){return U>>>=0,q||C(U,4,this.length),this[U]<<24|this[U+1]<<16|this[U+2]<<8|this[U+3]},o.prototype.readFloatLE=function(U,q){return U>>>=0,q||C(U,4,this.length),l.read(this,U,!0,23,4)},o.prototype.readFloatBE=function(U,q){return U>>>=0,q||C(U,4,this.length),l.read(this,U,!1,23,4)},o.prototype.readDoubleLE=function(U,q){return U>>>=0,q||C(U,8,this.length),l.read(this,U,!0,52,8)},o.prototype.readDoubleBE=function(U,q){return U>>>=0,q||C(U,8,this.length),l.read(this,U,!1,52,8)},o.prototype.writeUIntLE=function(U,q,K,se){U=+U,q>>>=0,K>>>=0,se||D(this,U,q,K,Math.pow(2,8*K)-1,0);var ie=1,le=0;for(this[q]=255&U;++le<K&&(ie*=256);)this[q+le]=U/ie&255;return q+K},o.prototype.writeUIntBE=function(U,q,K,se){U=+U,q>>>=0,K>>>=0,se||D(this,U,q,K,Math.pow(2,8*K)-1,0);var ie=K-1,le=1;for(this[q+ie]=255&U;0<=--ie&&(le*=256);)this[q+ie]=U/le&255;return q+K},o.prototype.writeUInt8=function(U,q,K){return U=+U,q>>>=0,K||D(this,U,q,1,255,0),this[q]=255&U,q+1},o.prototype.writeUInt16LE=function(U,q,K){return U=+U,q>>>=0,K||D(this,U,q,2,65535,0),this[q]=255&U,this[q+1]=U>>>8,q+2},o.prototype.writeUInt16BE=function(U,q,K){return U=+U,q>>>=0,K||D(this,U,q,2,65535,0),this[q]=U>>>8,this[q+1]=255&U,q+2},o.prototype.writeUInt32LE=function(U,q,K){return U=+U,q>>>=0,K||D(this,U,q,4,4294967295,0),this[q+3]=U>>>24,this[q+2]=U>>>16,this[q+1]=U>>>8,this[q]=255&U,q+4},o.prototype.writeUInt32BE=function(U,q,K){return U=+U,q>>>=0,K||D(this,U,q,4,4294967295,0),this[q]=U>>>24,this[q+1]=U>>>16,this[q+2]=U>>>8,this[q+3]=255&U,q+4},o.prototype.writeIntLE=function(U,q,K,se){U=+U,q>>>=0,se||D(this,U,q,K,(se=Math.pow(2,8*K-1))-1,-se);var ie=0,le=1,$=0;for(this[q]=255&U;++ie<K&&(le*=256);)U<0&&$===0&&this[q+ie-1]!==0&&($=1),this[q+ie]=(U/le>>0)-$&255;return q+K},o.prototype.writeIntBE=function(U,q,K,se){U=+U,q>>>=0,se||D(this,U,q,K,(se=Math.pow(2,8*K-1))-1,-se);var ie=K-1,le=1,$=0;for(this[q+ie]=255&U;0<=--ie&&(le*=256);)U<0&&$===0&&this[q+ie+1]!==0&&($=1),this[q+ie]=(U/le>>0)-$&255;return q+K},o.prototype.writeInt8=function(U,q,K){return U=+U,q>>>=0,K||D(this,U,q,1,127,-128),this[q]=255&(U=U<0?255+U+1:U),q+1},o.prototype.writeInt16LE=function(U,q,K){return U=+U,q>>>=0,K||D(this,U,q,2,32767,-32768),this[q]=255&U,this[q+1]=U>>>8,q+2},o.prototype.writeInt16BE=function(U,q,K){return U=+U,q>>>=0,K||D(this,U,q,2,32767,-32768),this[q]=U>>>8,this[q+1]=255&U,q+2},o.prototype.writeInt32LE=function(U,q,K){return U=+U,q>>>=0,K||D(this,U,q,4,2147483647,-2147483648),this[q]=255&U,this[q+1]=U>>>8,this[q+2]=U>>>16,this[q+3]=U>>>24,q+4},o.prototype.writeInt32BE=function(U,q,K){return U=+U,q>>>=0,K||D(this,U,q,4,2147483647,-2147483648),this[q]=(U=U<0?4294967295+U+1:U)>>>24,this[q+1]=U>>>16,this[q+2]=U>>>8,this[q+3]=255&U,q+4},o.prototype.writeFloatLE=function(U,q,K){return F(this,U,q,!0,K)},o.prototype.writeFloatBE=function(U,q,K){return F(this,U,q,!1,K)},o.prototype.writeDoubleLE=function(U,q,K){return M(this,U,q,!0,K)},o.prototype.writeDoubleBE=function(U,q,K){return M(this,U,q,!1,K)},o.prototype.copy=function(U,q,K,se){if(!o.isBuffer(U))throw new TypeError("argument should be a Buffer");if(K=K||0,se||se===0||(se=this.length),q>=U.length&&(q=U.length),(se=0<se&&se<K?K:se)===K||U.length===0||this.length===0)return 0;if((q=q||0)<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("sourceEnd out of bounds");se>this.length&&(se=this.length);var ie=(se=U.length-q<se-K?U.length-q+K:se)-K;if(this===U&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(q,K,se);else if(this===U&&K<q&&q<se)for(var le=ie-1;0<=le;--le)U[le+q]=this[le+K];else Uint8Array.prototype.set.call(U,this.subarray(K,se),q);return ie},o.prototype.fill=function(U,q,K,se){if(typeof U=="string"){if(typeof q=="string"?(se=q,q=0,K=this.length):typeof K=="string"&&(se=K,K=this.length),se!==void 0&&typeof se!="string")throw new TypeError("encoding must be a string");if(typeof se=="string"&&!o.isEncoding(se))throw new TypeError("Unknown encoding: "+se);var ie;U.length===1&&(ie=U.charCodeAt(0),(se==="utf8"&&ie<128||se==="latin1")&&(U=ie))}else typeof U=="number"?U&=255:typeof U=="boolean"&&(U=Number(U));if(q<0||this.length<q||this.length<K)throw new RangeError("Out of range index");var le;if(!(K<=q))if(q>>>=0,K=K===void 0?this.length:K>>>0,typeof(U=U||0)=="number")for(le=q;le<K;++le)this[le]=U;else{var $=o.isBuffer(U)?U:o.from(U,se),ce=$.length;if(ce===0)throw new TypeError('The value "'+U+'" is invalid for argument "value"');for(le=0;le<K-q;++le)this[le+q]=$[le%ce]}return this};var L=/[^+/0-9A-Za-z-_]/g;function z(U,q){q=q||1/0;for(var K,se=U.length,ie=null,le=[],$=0;$<se;++$){if(55295<(K=U.charCodeAt($))&&K<57344){if(!ie){if(56319<K){-1<(q-=3)&&le.push(239,191,189);continue}if($+1===se){-1<(q-=3)&&le.push(239,191,189);continue}ie=K;continue}if(K<56320){-1<(q-=3)&&le.push(239,191,189),ie=K;continue}K=65536+(ie-55296<<10|K-56320)}else ie&&-1<(q-=3)&&le.push(239,191,189);if(ie=null,K<128){if(--q<0)break;le.push(K)}else if(K<2048){if((q-=2)<0)break;le.push(K>>6|192,63&K|128)}else if(K<65536){if((q-=3)<0)break;le.push(K>>12|224,K>>6&63|128,63&K|128)}else{if(!(K<1114112))throw new Error("Invalid code point");if((q-=4)<0)break;le.push(K>>18|240,K>>12&63|128,K>>6&63|128,63&K|128)}}return le}function Y(U){return i.toByteArray(function(q){if((q=(q=q.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;q.length%4!=0;)q+="=";return q}(U))}function Z(U,q,K,se){for(var ie=0;ie<se&&!(ie+K>=q.length||ie>=U.length);++ie)q[ie+K]=U[ie];return ie}function ee(U,q){return U instanceof q||U!=null&&U.constructor!=null&&U.constructor.name!=null&&U.constructor.name===q.name}function te(U){return U!=U}var oe=function(){for(var U="0123456789abcdef",q=new Array(256),K=0;K<16;++K)for(var se=16*K,ie=0;ie<16;++ie)q[se+ie]=U[K]+U[ie];return q}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:244}],5:[function(t,O,_){O.exports=function(f){if(typeof f!="function")throw TypeError(String(f)+" is not a function");return f}},{}],6:[function(t,O,_){var f=t("../internals/is-object");O.exports=function(i){if(f(i)||i===null)return i;throw TypeError("Can't set "+String(i)+" as a prototype")}},{"../internals/is-object":74}],7:[function(t,O,_){var f=t("../internals/well-known-symbol"),i=t("../internals/object-create"),l=(t=t("../internals/object-define-property"),f("unscopables")),g=Array.prototype;g[l]==null&&t.f(g,l,{configurable:!0,value:i(null)}),O.exports=function(y){g[l][y]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],8:[function(t,O,_){var f=t("../internals/string-multibyte").charAt;O.exports=function(i,l,g){return l+(g?f(i,l).length:1)}},{"../internals/string-multibyte":123}],9:[function(t,O,_){O.exports=function(f,i,l){if(f instanceof i)return f;throw TypeError("Incorrect "+(l?l+" ":"")+"invocation")}},{}],10:[function(t,O,_){var f=t("../internals/is-object");O.exports=function(i){if(f(i))return i;throw TypeError(String(i)+" is not an object")}},{"../internals/is-object":74}],11:[function(t,O,_){O.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(t,O,_){function f(F){return n(F)&&o(N,s(F))}var i,l=t("../internals/array-buffer-native"),g=t("../internals/descriptors"),y=t("../internals/global"),n=t("../internals/is-object"),o=t("../internals/has"),s=t("../internals/classof"),r=t("../internals/create-non-enumerable-property"),a=t("../internals/redefine"),d=t("../internals/object-define-property").f,h=t("../internals/object-get-prototype-of"),c=t("../internals/object-set-prototype-of"),p=t("../internals/well-known-symbol"),m=(t=t("../internals/uid"),y.Int8Array),b=m&&m.prototype,A=(A=y.Uint8ClampedArray)&&A.prototype,T=m&&h(m),x=b&&h(b),R=Object.prototype,S=R.isPrototypeOf,C=(p=p("toStringTag"),t("TYPED_ARRAY_TAG")),D=l&&!!c&&s(y.opera)!=="Opera",N=(t=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(i in N)y[i]||(D=!1);if((!D||typeof T!="function"||T===Function.prototype)&&(T=function(){throw TypeError("Incorrect invocation")},D))for(i in N)y[i]&&c(y[i],T);if((!D||!x||x===R)&&(x=T.prototype,D))for(i in N)y[i]&&c(y[i].prototype,x);if(D&&h(A)!==x&&c(A,x),g&&!o(x,p))for(i in t=!0,d(x,p,{get:function(){return n(this)?this[C]:void 0}}),N)y[i]&&r(y[i],C,i);O.exports={NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_TAG:t&&C,aTypedArray:function(F){if(f(F))return F;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(F){if(c){if(S.call(T,F))return F}else for(var M in N)if(o(N,i)&&(M=y[M])&&(F===M||S.call(M,F)))return F;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(F,M,L){if(g){if(L)for(var z in N)(z=y[z])&&o(z.prototype,F)&&delete z.prototype[F];x[F]&&!L||a(x,F,!L&&D&&b[F]||M)}},exportTypedArrayStaticMethod:function(F,M,L){var z,Y;if(g){if(c){if(L)for(z in N)(Y=y[z])&&o(Y,F)&&delete Y[F];if(T[F]&&!L)return;try{return a(T,F,!L&&D&&m[F]||M)}catch{}}for(z in N)!(Y=y[z])||Y[F]&&!L||a(Y,F,M)}},isView:function(F){return(F=s(F))==="DataView"||o(N,F)},isTypedArray:f,TypedArray:T,TypedArrayPrototype:x}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":145,"../internals/well-known-symbol":148}],13:[function(t,O,_){function f(he){return[255&he]}function i(he){return[255&he,he>>8&255]}function l(he){return[255&he,he>>8&255,he>>16&255,he>>24&255]}function g(he){return he[3]<<24|he[2]<<16|he[1]<<8|he[0]}function y(he){return ie(he,23,4)}function n(he){return ie(he,52,8)}function o(he,ve){N(he[ee],ve,{get:function(){return L(this)[ve]}})}function s(he,ve,Ee,Fe){if((Ee=x(Ee))+ve>(he=L(he)).byteLength)throw se(te);var Oe=L(he.buffer).bytes;return Ee+=he.byteOffset,he=Oe.slice(Ee,Ee+ve),Fe?he:he.reverse()}function r(he,ve,Ee,Fe,Oe,Ge){if((Ee=x(Ee))+ve>(he=L(he)).byteLength)throw se(te);for(var $e=L(he.buffer).bytes,Je=Ee+he.byteOffset,mt=Fe(+Oe),tt=0;tt<ve;tt++)$e[Je+tt]=mt[Ge?tt:ve-tt-1]}var a=t("../internals/global"),d=t("../internals/descriptors"),h=t("../internals/array-buffer-native"),c=t("../internals/create-non-enumerable-property"),p=t("../internals/redefine-all"),m=t("../internals/fails"),b=t("../internals/an-instance"),A=t("../internals/to-integer"),T=t("../internals/to-length"),x=t("../internals/to-index"),R=t("../internals/ieee754"),S=t("../internals/object-get-prototype-of"),C=t("../internals/object-set-prototype-of"),D=t("../internals/object-get-own-property-names").f,N=t("../internals/object-define-property").f,F=t("../internals/array-fill"),M=t("../internals/set-to-string-tag"),L=(t=t("../internals/internal-state")).get,z=t.set,Y="ArrayBuffer",Z="DataView",ee="prototype",te="Wrong index",oe=a[Y],U=oe,q=a[Z],K=(t=q&&q[ee],Object.prototype),se=a.RangeError,ie=R.pack,le=R.unpack;if(h){if(!m(function(){oe(1)})||!m(function(){new oe(-1)})||m(function(){return new oe,new oe(1.5),new oe(NaN),oe.name!=Y})){a=(U=function(he){return b(this,U),new oe(x(he))})[ee]=oe[ee];for(var $,ce=D(oe),ye=0;ce.length>ye;)($=ce[ye++])in U||c(U,$,oe[$]);a.constructor=U}C&&S(t)!==K&&C(t,K),R=new q(new U(2));var _e=t.setInt8;R.setInt8(0,2147483648),R.setInt8(1,2147483649),!R.getInt8(0)&&R.getInt8(1)||p(t,{setInt8:function(he,ve){_e.call(this,he,ve<<24>>24)},setUint8:function(he,ve){_e.call(this,he,ve<<24>>24)}},{unsafe:!0})}else U=function(he){b(this,U,Y),he=x(he),z(this,{bytes:F.call(new Array(he),0),byteLength:he}),d||(this.byteLength=he)},q=function(he,ve,Ee){b(this,q,Z),b(he,U,Z);var Fe=L(he).byteLength;if((ve=A(ve))<0||Fe<ve)throw se("Wrong offset");if(Fe<ve+(Ee=Ee===void 0?Fe-ve:T(Ee)))throw se("Wrong length");z(this,{buffer:he,byteLength:Ee,byteOffset:ve}),d||(this.buffer=he,this.byteLength=Ee,this.byteOffset=ve)},d&&(o(U,"byteLength"),o(q,"buffer"),o(q,"byteLength"),o(q,"byteOffset")),p(q[ee],{getInt8:function(he){return s(this,1,he)[0]<<24>>24},getUint8:function(he){return s(this,1,he)[0]},getInt16:function(he){return((he=s(this,2,he,1<arguments.length?arguments[1]:void 0))[1]<<8|he[0])<<16>>16},getUint16:function(he){return(he=s(this,2,he,1<arguments.length?arguments[1]:void 0))[1]<<8|he[0]},getInt32:function(he){return g(s(this,4,he,1<arguments.length?arguments[1]:void 0))},getUint32:function(he){return g(s(this,4,he,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(he){return le(s(this,4,he,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(he){return le(s(this,8,he,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(he,ve){r(this,1,he,f,ve)},setUint8:function(he,ve){r(this,1,he,f,ve)},setInt16:function(he,ve){r(this,2,he,i,ve,2<arguments.length?arguments[2]:void 0)},setUint16:function(he,ve){r(this,2,he,i,ve,2<arguments.length?arguments[2]:void 0)},setInt32:function(he,ve){r(this,4,he,l,ve,2<arguments.length?arguments[2]:void 0)},setUint32:function(he,ve){r(this,4,he,l,ve,2<arguments.length?arguments[2]:void 0)},setFloat32:function(he,ve){r(this,4,he,y,ve,2<arguments.length?arguments[2]:void 0)},setFloat64:function(he,ve){r(this,8,he,n,ve,2<arguments.length?arguments[2]:void 0)}});M(U,Y),M(q,Z),O.exports={ArrayBuffer:U,DataView:q}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":133,"../internals/to-integer":135,"../internals/to-length":136}],14:[function(t,O,_){var f=t("../internals/to-object"),i=t("../internals/to-absolute-index"),l=t("../internals/to-length"),g=Math.min;O.exports=[].copyWithin||function(y,n){var o=f(this),s=l(o.length),r=i(y,s),a=i(n,s),d=g(((y=2<arguments.length?arguments[2]:void 0)===void 0?s:i(y,s))-a,s-r),h=1;for(a<r&&r<a+d&&(h=-1,a+=d-1,r+=d-1);0<d--;)a in o?o[r]=o[a]:delete o[r],r+=h,a+=h;return o}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],15:[function(t,O,_){var f=t("../internals/to-object"),i=t("../internals/to-absolute-index"),l=t("../internals/to-length");O.exports=function(g){for(var y,n=f(this),o=l(n.length),s=i(1<(y=arguments.length)?arguments[1]:void 0,o),r=(y=2<y?arguments[2]:void 0)===void 0?o:i(y,o);s<r;)n[s++]=g;return n}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],16:[function(t,O,_){var f=t("../internals/array-iteration").forEach,i=t("../internals/array-method-is-strict");t=t("../internals/array-method-uses-to-length"),i=i("forEach"),t=t("forEach"),O.exports=i&&t?[].forEach:function(l){return f(this,l,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,O,_){var f=t("../internals/function-bind-context"),i=t("../internals/to-object"),l=t("../internals/call-with-safe-iteration-closing"),g=t("../internals/is-array-iterator-method"),y=t("../internals/to-length"),n=t("../internals/create-property"),o=t("../internals/get-iterator-method");O.exports=function(s){var r,a,d,h,c,p,m=i(s),b=(s=typeof this=="function"?this:Array,arguments.length),A=1<b?arguments[1]:void 0,T=A!==void 0,x=o(m),R=0;if(T&&(A=f(A,2<b?arguments[2]:void 0,2)),x==null||s==Array&&g(x))for(a=new s(r=y(m.length));R<r;R++)p=T?A(m[R],R):m[R],n(a,R,p);else for(c=(h=x.call(m)).next,a=new s;!(d=c.call(h)).done;R++)p=T?l(h,A,[d.value,R],!0):d.value,n(a,R,p);return a.length=R,a}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],18:[function(t,O,_){function f(y){return function(n,o,s){var r,a=i(n),d=l(a.length),h=g(s,d);if(y&&o!=o){for(;h<d;)if((r=a[h++])!=r)return!0}else for(;h<d;h++)if((y||h in a)&&a[h]===o)return y||h||0;return!y&&-1}}var i=t("../internals/to-indexed-object"),l=t("../internals/to-length"),g=t("../internals/to-absolute-index");O.exports={includes:f(!0),indexOf:f(!1)}},{"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136}],19:[function(t,O,_){function f(s){var r=s==1,a=s==2,d=s==3,h=s==4,c=s==6,p=s==5||c;return function(m,b,A,T){for(var x,R,S=g(m),C=l(S),D=i(b,A,3),N=y(C.length),F=0,M=(b=T||n,r?b(m,N):a?b(m,0):void 0);F<N;F++)if((p||F in C)&&(R=D(x=C[F],F,S),s)){if(r)M[F]=R;else if(R)switch(s){case 3:return!0;case 5:return x;case 6:return F;case 2:o.call(M,x)}else if(h)return!1}return c?-1:d||h?h:M}}var i=t("../internals/function-bind-context"),l=t("../internals/indexed-object"),g=t("../internals/to-object"),y=t("../internals/to-length"),n=t("../internals/array-species-create"),o=[].push;O.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],20:[function(t,O,_){var f=t("../internals/to-indexed-object"),i=t("../internals/to-integer"),l=t("../internals/to-length"),g=t("../internals/array-method-is-strict"),y=(t=t("../internals/array-method-uses-to-length"),Math.min),n=[].lastIndexOf,o=!!n&&1/[1].lastIndexOf(1,-0)<0;g=g("lastIndexOf"),t=t("indexOf",{ACCESSORS:!0,1:0}),O.exports=!o&&g&&t?n:function(s){if(o)return n.apply(this,arguments)||0;var r=f(this),a=l(r.length),d=a-1;for((d=1<arguments.length?y(d,i(arguments[1])):d)<0&&(d=a+d);0<=d;d--)if(d in r&&r[d]===s)return d||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":134,"../internals/to-integer":135,"../internals/to-length":136}],21:[function(t,O,_){var f=t("../internals/fails"),i=t("../internals/well-known-symbol"),l=t("../internals/engine-v8-version"),g=i("species");O.exports=function(y){return 51<=l||!f(function(){var n=[];return(n.constructor={})[g]=function(){return{foo:1}},n[y](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":148}],22:[function(t,O,_){var f=t("../internals/fails");O.exports=function(i,l){var g=[][i];return!!g&&f(function(){g.call(null,l||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,O,_){function f(o){throw o}var i=t("../internals/descriptors"),l=t("../internals/fails"),g=t("../internals/has"),y=Object.defineProperty,n={};O.exports=function(o,s){var r,a,d,h;return g(n,o)?n[o]:(r=[][o],a=!!g(s=s||{},"ACCESSORS")&&s.ACCESSORS,d=g(s,0)?s[0]:f,h=g(s,1)?s[1]:void 0,n[o]=!!r&&!l(function(){if(a&&!i)return!0;var c={length:-1};a?y(c,1,{enumerable:!0,get:f}):c[1]=1,r.call(c,d,h)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":60}],24:[function(t,O,_){function f(n){return function(o,s,r,a){i(s);var d=l(o),h=g(d),c=y(d.length),p=n?c-1:0,m=n?-1:1;if(r<2)for(;;){if(p in h){a=h[p],p+=m;break}if(p+=m,n?p<0:c<=p)throw TypeError("Reduce of empty array with no initial value")}for(;n?0<=p:p<c;p+=m)p in h&&(a=s(a,h[p],p,d));return a}}var i=t("../internals/a-function"),l=t("../internals/to-object"),g=t("../internals/indexed-object"),y=t("../internals/to-length");O.exports={left:f(!1),right:f(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],25:[function(t,O,_){var f=t("../internals/is-object"),i=t("../internals/is-array"),l=t("../internals/well-known-symbol")("species");O.exports=function(g,y){var n;return new((n=i(g)&&(typeof(n=g.constructor)=="function"&&(n===Array||i(n.prototype))||f(n)&&(n=n[l])===null)?void 0:n)===void 0?Array:n)(y===0?0:y)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":148}],26:[function(t,O,_){var f=t("../internals/an-object");O.exports=function(i,l,g,y){try{return y?l(f(g)[0],g[1]):l(g)}catch(n){throw(y=i.return)!==void 0&&f(y.call(i)),n}}},{"../internals/an-object":10}],27:[function(t,O,_){var f=t("../internals/well-known-symbol")("iterator"),i=!1;try{var l=0,g={next:function(){return{done:!!l++}},return:function(){i=!0}};g[f]=function(){return this},Array.from(g,function(){throw 2})}catch{}O.exports=function(y,n){if(!n&&!i)return!1;var o=!1;try{var s={};s[f]=function(){return{next:function(){return{done:o=!0}}}},y(s)}catch{}return o}},{"../internals/well-known-symbol":148}],28:[function(t,O,_){var f={}.toString;O.exports=function(i){return f.call(i).slice(8,-1)}},{}],29:[function(t,O,_){var f=t("../internals/to-string-tag-support"),i=t("../internals/classof-raw"),l=t("../internals/well-known-symbol")("toStringTag"),g=i(function(){return arguments}())=="Arguments";O.exports=f?i:function(y){var n;return y===void 0?"Undefined":y===null?"Null":typeof(n=function(o,s){try{return o[s]}catch{}}(y=Object(y),l))=="string"?n:g?i(y):(n=i(y))=="Object"&&typeof y.callee=="function"?"Arguments":n}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":141,"../internals/well-known-symbol":148}],30:[function(t,O,_){var f=t("../internals/object-define-property").f,i=t("../internals/object-create"),l=t("../internals/redefine-all"),g=t("../internals/function-bind-context"),y=t("../internals/an-instance"),n=t("../internals/iterate"),o=t("../internals/define-iterator"),s=t("../internals/set-species"),r=t("../internals/descriptors"),a=t("../internals/internal-metadata").fastKey,d=(t=t("../internals/internal-state")).set,h=t.getterFor;O.exports={getConstructor:function(c,p,m,b){function A(S,C,D){var N,F=R(S),M=T(S,C);return M?M.value=D:(F.last=M={index:N=a(C,!0),key:C,value:D,previous:C=F.last,next:void 0,removed:!1},F.first||(F.first=M),C&&(C.next=M),r?F.size++:S.size++,N!=="F"&&(F.index[N]=M)),S}function T(S,C){S=R(S);var D,N=a(C);if(N!=="F")return S.index[N];for(D=S.first;D;D=D.next)if(D.key==C)return D}var x=c(function(S,C){y(S,x,p),d(S,{type:p,index:i(null),first:void 0,last:void 0,size:0}),r||(S.size=0),C!=null&&n(C,S[b],S,m)}),R=h(p);return l(x.prototype,{clear:function(){for(var S=R(this),C=S.index,D=S.first;D;)D.removed=!0,D.previous&&(D.previous=D.previous.next=void 0),delete C[D.index],D=D.next;S.first=S.last=void 0,r?S.size=0:this.size=0},delete:function(S){var C,D,N=R(this);return(S=T(this,S))&&(C=S.next,D=S.previous,delete N.index[S.index],S.removed=!0,D&&(D.next=C),C&&(C.previous=D),N.first==S&&(N.first=C),N.last==S&&(N.last=D),r?N.size--:this.size--),!!S},forEach:function(S){for(var C,D=R(this),N=g(S,1<arguments.length?arguments[1]:void 0,3);C=C?C.next:D.first;)for(N(C.value,C.key,this);C&&C.removed;)C=C.previous},has:function(S){return!!T(this,S)}}),l(x.prototype,m?{get:function(S){return(S=T(this,S))&&S.value},set:function(S,C){return A(this,S===0?0:S,C)}}:{add:function(S){return A(this,S=S===0?0:S,S)}}),r&&f(x.prototype,"size",{get:function(){return R(this).size}}),x},setStrong:function(c,p,m){var b=p+" Iterator",A=h(p),T=h(b);o(c,p,function(x,R){d(this,{type:b,target:x,state:A(x),kind:R,last:void 0})},function(){for(var x=T(this),R=x.kind,S=x.last;S&&S.removed;)S=S.previous;return x.target&&(x.last=S=S?S.next:x.state.first)?R=="keys"?{value:S.key,done:!1}:R=="values"?{value:S.value,done:!1}:{value:[S.key,S.value],done:!1}:{value:x.target=void 0,done:!0}},m?"entries":"values",!m,!0),s(p)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(t,O,_){function f(A){return A.frozen||(A.frozen=new i)}function i(){this.entries=[]}function l(A,T){return p(A.entries,function(x){return x[0]===T})}var g=t("../internals/redefine-all"),y=t("../internals/internal-metadata").getWeakData,n=t("../internals/an-object"),o=t("../internals/is-object"),s=t("../internals/an-instance"),r=t("../internals/iterate"),a=t("../internals/array-iteration"),d=t("../internals/has"),h=(t=t("../internals/internal-state")).set,c=t.getterFor,p=a.find,m=a.findIndex,b=0;i.prototype={get:function(A){if(A=l(this,A))return A[1]},has:function(A){return!!l(this,A)},set:function(A,T){var x=l(this,A);x?x[1]=T:this.entries.push([A,T])},delete:function(A){var T=m(this.entries,function(x){return x[0]===A});return~T&&this.entries.splice(T,1),!!~T}},O.exports={getConstructor:function(A,T,x,R){function S(N,F,M){var L=D(N),z=y(n(F),!0);return z===!0?f(L).set(F,M):z[L.id]=M,N}var C=A(function(N,F){s(N,C,T),h(N,{type:T,id:b++,frozen:void 0}),F!=null&&r(F,N[R],N,x)}),D=c(T);return g(C.prototype,{delete:function(N){var F,M=D(this);return!!o(N)&&((F=y(N))===!0?f(M).delete(N):F&&d(F,M.id)&&delete F[M.id])},has:function(N){var F,M=D(this);return!!o(N)&&((F=y(N))===!0?f(M).has(N):F&&d(F,M.id))}}),g(C.prototype,x?{get:function(N){var F,M=D(this);if(o(N))return(F=y(N))===!0?f(M).get(N):F?F[M.id]:void 0},set:function(N,F){return S(this,N,F)}}:{add:function(N){return S(this,N,!0)}}),C}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":60,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine-all":107}],32:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/global"),l=t("../internals/is-forced"),g=t("../internals/redefine"),y=t("../internals/internal-metadata"),n=t("../internals/iterate"),o=t("../internals/an-instance"),s=t("../internals/is-object"),r=t("../internals/fails"),a=t("../internals/check-correctness-of-iteration"),d=t("../internals/set-to-string-tag"),h=t("../internals/inherit-if-required");O.exports=function(c,p,m){function b(Y){var Z=M[Y];g(M,Y,Y=="add"?function(ee){return Z.call(this,ee===0?0:ee),this}:Y=="delete"?function(ee){return!(D&&!s(ee))&&Z.call(this,ee===0?0:ee)}:Y=="get"?function(ee){return D&&!s(ee)?void 0:Z.call(this,ee===0?0:ee)}:Y=="has"?function(ee){return!(D&&!s(ee))&&Z.call(this,ee===0?0:ee)}:function(ee,te){return Z.call(this,ee===0?0:ee,te),this})}var A,T,x,R,S,C=c.indexOf("Map")!==-1,D=c.indexOf("Weak")!==-1,N=C?"set":"add",F=i[c],M=F&&F.prototype,L=F,z={};return l(c,typeof F!="function"||!(D||M.forEach&&!r(function(){new F().entries().next()})))?(L=m.getConstructor(p,c,C,N),y.REQUIRED=!0):l(c,!0)&&(T=(A=new L)[N](D?{}:-0,1)!=A,x=r(function(){A.has(1)}),R=a(function(Y){new F(Y)}),S=!D&&r(function(){for(var Y=new F,Z=5;Z--;)Y[N](Z,Z);return!Y.has(-0)}),R||(((L=p(function(Y,Z){return o(Y,L,c),Y=h(new F,Y,L),Z!=null&&n(Z,Y[N],Y,C),Y})).prototype=M).constructor=L),(x||S)&&(b("delete"),b("has"),C&&b("get")),(S||T)&&b(N),D&&M.clear&&delete M.clear),z[c]=L,f({global:!0,forced:L!=F},z),d(L,c),D||m.setStrong(L,c,C),L}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],33:[function(t,O,_){var f=t("../internals/has"),i=t("../internals/own-keys"),l=t("../internals/object-get-own-property-descriptor"),g=t("../internals/object-define-property");O.exports=function(y,n){for(var o=i(n),s=g.f,r=l.f,a=0;a<o.length;a++){var d=o[a];f(y,d)||s(y,d,r(n,d))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],34:[function(t,O,_){var f=t("../internals/well-known-symbol")("match");O.exports=function(i){var l=/./;try{"/./"[i](l)}catch{try{return l[f]=!1,"/./"[i](l)}catch{}}return!1}},{"../internals/well-known-symbol":148}],35:[function(t,O,_){t=t("../internals/fails"),O.exports=!t(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},{"../internals/fails":51}],36:[function(t,O,_){var f=t("../internals/require-object-coercible"),i=/"/g;O.exports=function(l,g,y,n){l=String(f(l));var o="<"+g;return y!==""&&(o+=" "+y+'="'+String(n).replace(i,"&quot;")+'"'),o+">"+l+"</"+g+">"}},{"../internals/require-object-coercible":113}],37:[function(t,O,_){function f(){return this}var i=t("../internals/iterators-core").IteratorPrototype,l=t("../internals/object-create"),g=t("../internals/create-property-descriptor"),y=t("../internals/set-to-string-tag"),n=t("../internals/iterators");O.exports=function(o,s,r){return s+=" Iterator",o.prototype=l(i,{next:g(1,r)}),y(o,s,!1,!0),n[s]=f,o}},{"../internals/create-property-descriptor":39,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],38:[function(t,O,_){var f=t("../internals/descriptors"),i=t("../internals/object-define-property"),l=t("../internals/create-property-descriptor");O.exports=f?function(g,y,n){return i.f(g,y,l(1,n))}:function(g,y,n){return g[y]=n,g}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":92}],39:[function(t,O,_){O.exports=function(f,i){return{enumerable:!(1&f),configurable:!(2&f),writable:!(4&f),value:i}}},{}],40:[function(t,O,_){var f=t("../internals/to-primitive"),i=t("../internals/object-define-property"),l=t("../internals/create-property-descriptor");O.exports=function(g,y,n){(y=f(y))in g?i.f(g,y,l(0,n)):g[y]=n}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":92,"../internals/to-primitive":140}],41:[function(t,O,_){function f(){return this}var i=t("../internals/export"),l=t("../internals/create-iterator-constructor"),g=t("../internals/object-get-prototype-of"),y=t("../internals/object-set-prototype-of"),n=t("../internals/set-to-string-tag"),o=t("../internals/create-non-enumerable-property"),s=t("../internals/redefine"),r=t("../internals/well-known-symbol"),a=t("../internals/is-pure"),d=t("../internals/iterators"),h=(t=t("../internals/iterators-core")).IteratorPrototype,c=t.BUGGY_SAFARI_ITERATORS,p=r("iterator"),m="values",b="entries";O.exports=function(A,T,x,R,S,C,D){function N(te){if(te===S&&Z)return Z;if(!c&&te in z)return z[te];switch(te){case"keys":case m:case b:return function(){return new x(this,te)}}return function(){return new x(this)}}l(x,T,R),R=T+" Iterator";var F,M,L=!1,z=A.prototype,Y=z[p]||z["@@iterator"]||S&&z[S],Z=!c&&Y||N(S),ee=T=="Array"&&z.entries||Y;if(ee&&(ee=g(ee.call(new A)),h!==Object.prototype&&ee.next&&(a||g(ee)===h||(y?y(ee,h):typeof ee[p]!="function"&&o(ee,p,f)),n(ee,R,!0,!0),a&&(d[R]=f))),S==m&&Y&&Y.name!==m&&(L=!0,Z=function(){return Y.call(this)}),a&&!D||z[p]===Z||o(z,p,Z),d[T]=Z,S)if(F={values:N(m),keys:C?Z:N("keys"),entries:N(b)},D)for(M in F)!c&&!L&&M in z||s(z,M,F[M]);else i({target:T,proto:!0,forced:c||L},F);return F}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148}],42:[function(t,O,_){var f=t("../internals/path"),i=t("../internals/has"),l=t("../internals/well-known-symbol-wrapped"),g=t("../internals/object-define-property").f;O.exports=function(y){var n=f.Symbol||(f.Symbol={});i(n,y)||g(n,y,{value:l.f(y)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":147}],43:[function(t,O,_){t=t("../internals/fails"),O.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(t,O,_){var f=t("../internals/global"),i=(t=t("../internals/is-object"),f.document),l=t(i)&&t(i.createElement);O.exports=function(g){return l?i.createElement(g):{}}},{"../internals/global":59,"../internals/is-object":74}],45:[function(t,O,_){O.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,O,_){t=t("../internals/engine-user-agent"),O.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,O,_){t=t("../internals/get-built-in"),O.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":56}],48:[function(t,O,_){var f,i,l=t("../internals/global");t=t("../internals/engine-user-agent"),(l=(l=(l=l.process)&&l.versions)&&l.v8)?i=(f=l.split("."))[0]+f[1]:t&&(!(f=t.match(/Edge\/(\d+)/))||74<=f[1])&&(f=t.match(/Chrome\/(\d+)/))&&(i=f[1]),O.exports=i&&+i},{"../internals/engine-user-agent":47,"../internals/global":59}],49:[function(t,O,_){O.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,O,_){var f=t("../internals/global"),i=t("../internals/object-get-own-property-descriptor").f,l=t("../internals/create-non-enumerable-property"),g=t("../internals/redefine"),y=t("../internals/set-global"),n=t("../internals/copy-constructor-properties"),o=t("../internals/is-forced");O.exports=function(s,r){var a,d,h,c=s.target,p=s.global,m=s.stat,b=p?f:m?f[c]||y(c,{}):(f[c]||{}).prototype;if(b)for(a in r){if(d=r[a],h=s.noTargetGet?(h=i(b,a))&&h.value:b[a],!o(p?a:c+(m?".":"#")+a,s.forced)&&h!==void 0){if(typeof d==typeof h)continue;n(d,h)}(s.sham||h&&h.sham)&&l(d,"sham",!0),g(b,a,d,s)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],51:[function(t,O,_){O.exports=function(f){try{return!!f()}catch{return!0}}},{}],52:[function(t,O,_){t("../modules/es.regexp.exec");var f=t("../internals/redefine"),i=t("../internals/fails"),l=t("../internals/well-known-symbol"),g=t("../internals/regexp-exec"),y=t("../internals/create-non-enumerable-property"),n=l("species"),o=!i(function(){var d=/./;return d.exec=function(){var h=[];return h.groups={a:"7"},h},"".replace(d,"$<a>")!=="7"}),s="a".replace(/./,"$0")==="$0",r=!!/./[t=l("replace")]&&/./[t]("a","$0")==="",a=!i(function(){var d,h=(d=/(?:)/).exec;return(d=(d.exec=function(){return h.apply(this,arguments)},"ab".split(d))).length!==2||d[0]!=="a"||d[1]!=="b"});O.exports=function(d,h,c,p){var m,b,A=l(d),T=!i(function(){var R={};return R[A]=function(){return 7},""[d](R)!=7}),x=T&&!i(function(){var R=!1,S=/a/;return d==="split"&&((S={constructor:{}}).constructor[n]=function(){return S},S.flags="",S[A]=/./[A]),S.exec=function(){return R=!0,null},S[A](""),!R});T&&x&&(d!=="replace"||o&&s&&!r)&&(d!=="split"||a)||(m=/./[A],c=(x=c(A,""[d],function(R,S,C,D,N){return S.exec===g?T&&!N?{done:!0,value:m.call(S,C,D)}:{done:!0,value:R.call(C,S,D)}:{done:!1}},{REPLACE_KEEPS_$0:s,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:r}))[0],b=x[1],f(String.prototype,d,c),f(RegExp.prototype,A,h==2?function(R,S){return b.call(R,this,S)}:function(R){return b.call(R,this)})),p&&y(RegExp.prototype[A],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":148,"../modules/es.regexp.exec":185}],53:[function(t,O,_){t=t("../internals/fails"),O.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],54:[function(t,O,_){var f=t("../internals/a-function");O.exports=function(i,l,g){if(f(i),l===void 0)return i;switch(g){case 0:return function(){return i.call(l)};case 1:return function(y){return i.call(l,y)};case 2:return function(y,n){return i.call(l,y,n)};case 3:return function(y,n,o){return i.call(l,y,n,o)}}return function(){return i.apply(l,arguments)}}},{"../internals/a-function":5}],55:[function(t,O,_){var f=t("../internals/a-function"),i=t("../internals/is-object"),l=[].slice,g={};O.exports=Function.bind||function(y){var n=f(this),o=l.call(arguments,1),s=function(){var r=o.concat(l.call(arguments));if(this instanceof s){var a=n,d=r.length,h=r;if(!(d in g)){for(var c=[],p=0;p<d;p++)c[p]="a["+p+"]";g[d]=Function("C,a","return new C("+c.join(",")+")")}return g[d](a,h)}return n.apply(y,r)};return i(n.prototype)&&(s.prototype=n.prototype),s}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(t,O,_){function f(g){return typeof g=="function"?g:void 0}var i=t("../internals/path"),l=t("../internals/global");O.exports=function(g,y){return arguments.length<2?f(i[g])||f(l[g]):i[g]&&i[g][y]||l[g]&&l[g][y]}},{"../internals/global":59,"../internals/path":104}],57:[function(t,O,_){var f=t("../internals/classof"),i=t("../internals/iterators"),l=t("../internals/well-known-symbol")("iterator");O.exports=function(g){if(g!=null)return g[l]||g["@@iterator"]||i[f(g)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":148}],58:[function(t,O,_){var f=t("../internals/an-object"),i=t("../internals/get-iterator-method");O.exports=function(l){var g=i(l);if(typeof g!="function")throw TypeError(String(l)+" is not iterable");return f(g.call(l))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(t,O,_){(function(f){function i(l){return l&&l.Math==Math&&l}O.exports=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof f=="object"&&f)||Function("return this")()}).call(this,G!==void 0?G:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(t,O,_){var f={}.hasOwnProperty;O.exports=function(i,l){return f.call(i,l)}},{}],61:[function(t,O,_){O.exports={}},{}],62:[function(t,O,_){var f=t("../internals/global");O.exports=function(i,l){var g=f.console;g&&g.error&&(arguments.length===1?g.error(i):g.error(i,l))}},{"../internals/global":59}],63:[function(t,O,_){t=t("../internals/get-built-in"),O.exports=t("document","documentElement")},{"../internals/get-built-in":56}],64:[function(t,O,_){var f=t("../internals/descriptors"),i=t("../internals/fails"),l=t("../internals/document-create-element");O.exports=!f&&!i(function(){return Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],65:[function(t,O,_){var f=Math.abs,i=Math.pow,l=Math.floor,g=Math.log,y=Math.LN2;O.exports={pack:function(n,o,s){var r,a,d,h=new Array(s),c=8*s-o-1,p=(s=(1<<c)-1)>>1,m=o===23?i(2,-24)-i(2,-77):0,b=n<0||n===0&&1/n<0?1:0,A=0;for((n=f(n))!=n||n===1/0?(a=n!=n?1:0,r=s):(r=l(g(n)/y),n*(d=i(2,-r))<1&&(r--,d*=2),2<=(n+=1<=r+p?m/d:m*i(2,1-p))*d&&(r++,d/=2),s<=r+p?(a=0,r=s):1<=r+p?(a=(n*d-1)*i(2,o),r+=p):(a=n*i(2,p-1)*i(2,o),r=0));8<=o;h[A++]=255&a,a/=256,o-=8);for(r=r<<o|a,c+=o;0<c;h[A++]=255&r,r/=256,c-=8);return h[--A]|=128*b,h},unpack:function(n,o){var s,r,a=n.length,d=(1<<(r=8*a-o-1))-1,h=d>>1,c=r-7,p=a-1,m=127&(r=n[p--]);for(r>>=7;0<c;m=256*m+n[p],p--,c-=8);for(s=m&(1<<-c)-1,m>>=-c,c+=o;0<c;s=256*s+n[p],p--,c-=8);if(m===0)m=1-h;else{if(m===d)return s?NaN:r?-1/0:1/0;s+=i(2,o),m-=h}return(r?-1:1)*s*i(2,m-o)}}},{}],66:[function(t,O,_){var f=t("../internals/fails"),i=t("../internals/classof-raw"),l="".split;O.exports=f(function(){return!Object("z").propertyIsEnumerable(0)})?function(g){return i(g)=="String"?l.call(g,""):Object(g)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],67:[function(t,O,_){var f=t("../internals/is-object"),i=t("../internals/object-set-prototype-of");O.exports=function(l,g,y){return i&&typeof(g=g.constructor)=="function"&&g!==y&&f(g=g.prototype)&&g!==y.prototype&&i(l,g),l}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(t,O,_){t=t("../internals/shared-store");var f=Function.toString;typeof t.inspectSource!="function"&&(t.inspectSource=function(i){return f.call(i)}),O.exports=t.inspectSource},{"../internals/shared-store":119}],69:[function(t,O,_){function f(h){y(h,s,{value:{objectID:"O"+ ++r,weakData:{}}})}var i=t("../internals/hidden-keys"),l=t("../internals/is-object"),g=t("../internals/has"),y=t("../internals/object-define-property").f,n=t("../internals/uid"),o=t("../internals/freezing"),s=n("meta"),r=0,a=Object.isExtensible||function(){return!0},d=O.exports={REQUIRED:!1,fastKey:function(h,c){if(!l(h))return typeof h=="symbol"?h:(typeof h=="string"?"S":"P")+h;if(!g(h,s)){if(!a(h))return"F";if(!c)return"E";f(h)}return h[s].objectID},getWeakData:function(h,c){if(!g(h,s)){if(!a(h))return!0;if(!c)return!1;f(h)}return h[s].weakData},onFreeze:function(h){return o&&d.REQUIRED&&a(h)&&!g(h,s)&&f(h),h}};i[s]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":145}],70:[function(t,O,_){var f,i,l,g,y,n,o,s,r=t("../internals/native-weak-map"),a=t("../internals/global"),d=t("../internals/is-object"),h=t("../internals/create-non-enumerable-property"),c=t("../internals/has"),p=t("../internals/shared-key");t=t("../internals/hidden-keys"),a=a.WeakMap,o=r?(f=new a,i=f.get,l=f.has,g=f.set,y=function(m,b){return g.call(f,m,b),b},n=function(m){return i.call(f,m)||{}},function(m){return l.call(f,m)}):(t[s=p("state")]=!0,y=function(m,b){return h(m,s,b),b},n=function(m){return c(m,s)?m[s]:{}},function(m){return c(m,s)}),O.exports={set:y,get:n,has:o,enforce:function(m){return o(m)?n(m):y(m,{})},getterFor:function(m){return function(b){if(d(b)&&(b=n(b)).type===m)return b;throw TypeError("Incompatible receiver, "+m+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(t,O,_){var f=t("../internals/well-known-symbol"),i=t("../internals/iterators"),l=f("iterator"),g=Array.prototype;O.exports=function(y){return y!==void 0&&(i.Array===y||g[l]===y)}},{"../internals/iterators":79,"../internals/well-known-symbol":148}],72:[function(t,O,_){var f=t("../internals/classof-raw");O.exports=Array.isArray||function(i){return f(i)=="Array"}},{"../internals/classof-raw":28}],73:[function(t,O,_){function f(s,r){return(s=y[g(s)])==o||s!=n&&(typeof r=="function"?i(r):!!r)}var i=t("../internals/fails"),l=/#|\.prototype\./,g=f.normalize=function(s){return String(s).replace(l,".").toLowerCase()},y=f.data={},n=f.NATIVE="N",o=f.POLYFILL="P";O.exports=f},{"../internals/fails":51}],74:[function(t,O,_){O.exports=function(f){return typeof f=="object"?f!==null:typeof f=="function"}},{}],75:[function(t,O,_){O.exports=!1},{}],76:[function(t,O,_){var f=t("../internals/is-object"),i=t("../internals/classof-raw"),l=t("../internals/well-known-symbol")("match");O.exports=function(g){var y;return f(g)&&((y=g[l])!==void 0?!!y:i(g)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":148}],77:[function(t,O,_){function f(s,r){this.stopped=s,this.result=r}var i=t("../internals/an-object"),l=t("../internals/is-array-iterator-method"),g=t("../internals/to-length"),y=t("../internals/function-bind-context"),n=t("../internals/get-iterator-method"),o=t("../internals/call-with-safe-iteration-closing");(O.exports=function(s,r,a,d,h){var c,p,m,b,A,T,x=y(r,a,d?2:1);if(h)c=s;else{if(typeof(r=n(s))!="function")throw TypeError("Target is not iterable");if(l(r)){for(p=0,m=g(s.length);p<m;p++)if((b=d?x(i(T=s[p])[0],T[1]):x(s[p]))&&b instanceof f)return b;return new f(!1)}c=r.call(s)}for(A=c.next;!(T=A.call(c)).done;)if(typeof(b=o(c,x,T.value,d))=="object"&&b&&b instanceof f)return b;return new f(!1)}).stop=function(s){return new f(!0,s)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136}],78:[function(t,O,_){var f,i,l=t("../internals/object-get-prototype-of"),g=t("../internals/create-non-enumerable-property"),y=t("../internals/has"),n=t("../internals/well-known-symbol"),o=(t=t("../internals/is-pure"),n=n("iterator"),!1);[].keys&&("next"in(i=[].keys())?(l=l(l(i)))!==Object.prototype&&(f=l):o=!0),f==null&&(f={}),t||y(f,n)||g(f,n,function(){return this}),O.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:o}},{"../internals/create-non-enumerable-property":38,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":148}],79:[function(t,O,_){O.exports={}},{}],80:[function(t,O,_){O.exports=Math.sign||function(f){return(f=+f)==0||f!=f?f:f<0?-1:1}},{}],81:[function(t,O,_){var f,i,l,g,y,n,o,s,r=t("../internals/global"),a=t("../internals/object-get-own-property-descriptor").f,d=t("../internals/classof-raw"),h=t("../internals/task").set,c=(t=t("../internals/engine-is-ios"),r.MutationObserver||r.WebKitMutationObserver),p=r.process,m=r.Promise,b=d(p)=="process";d=a(r,"queueMicrotask"),(a=d&&d.value)||(f=function(){var A,T;for(b&&(A=p.domain)&&A.exit();i;){T=i.fn,i=i.next;try{T()}catch(x){throw i?g():l=void 0,x}}l=void 0,A&&A.enter()},g=b?function(){p.nextTick(f)}:c&&!t?(y=!0,n=document.createTextNode(""),new c(f).observe(n,{characterData:!0}),function(){n.data=y=!y}):m&&m.resolve?(o=m.resolve(void 0),s=o.then,function(){s.call(o,f)}):function(){h.call(r,f)}),O.exports=a||function(A){A={fn:A,next:void 0},l&&(l.next=A),i||(i=A,g()),l=A}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":130}],82:[function(t,O,_){t=t("../internals/global"),O.exports=t.Promise},{"../internals/global":59}],83:[function(t,O,_){t=t("../internals/fails"),O.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],84:[function(t,O,_){var f=t("../internals/fails"),i=t("../internals/well-known-symbol"),l=t("../internals/is-pure"),g=i("iterator");O.exports=!f(function(){var y=new URL("b?a=1&b=2&c=3","http://a"),n=y.searchParams,o="";return y.pathname="c%20d",n.forEach(function(s,r){n.delete("b"),o+=r+s}),l&&!y.toJSON||!n.sort||y.href!=="http://a/c%20d?a=1&c=3"||n.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!n[g]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||o!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":75,"../internals/well-known-symbol":148}],85:[function(t,O,_){var f=t("../internals/global");t=t("../internals/inspect-source"),f=f.WeakMap,O.exports=typeof f=="function"&&/native code/.test(t(f))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(t,O,_){function f(l){var g,y;this.promise=new l(function(n,o){if(g!==void 0||y!==void 0)throw TypeError("Bad Promise constructor");g=n,y=o}),this.resolve=i(g),this.reject=i(y)}var i=t("../internals/a-function");O.exports.f=function(l){return new f(l)}},{"../internals/a-function":5}],87:[function(t,O,_){var f=t("../internals/is-regexp");O.exports=function(i){if(f(i))throw TypeError("The method doesn't accept regular expressions");return i}},{"../internals/is-regexp":76}],88:[function(t,O,_){var f=t("../internals/global").isFinite;O.exports=Number.isFinite||function(i){return typeof i=="number"&&f(i)}},{"../internals/global":59}],89:[function(t,O,_){var f=t("../internals/descriptors"),i=t("../internals/fails"),l=t("../internals/object-keys"),g=t("../internals/object-get-own-property-symbols"),y=t("../internals/object-property-is-enumerable"),n=t("../internals/to-object"),o=t("../internals/indexed-object"),s=Object.assign,r=Object.defineProperty;O.exports=!s||i(function(){var a,d,h,c;return!(!f||s({b:1},s(r({},"a",{enumerable:!0,get:function(){r(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(d={},c="abcdefghijklmnopqrst",(a={})[h=Symbol()]=7,c.split("").forEach(function(p){d[p]=p}),s({},a)[h]!=7||l(s({},d)).join("")!=c)})?function(a,d){for(var h=n(a),c=arguments.length,p=1,m=g.f,b=y.f;p<c;)for(var A,T=o(arguments[p++]),x=m?l(T).concat(m(T)):l(T),R=x.length,S=0;S<R;)A=x[S++],f&&!b.call(T,A)||(h[A]=T[A]);return h}:s},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":137}],90:[function(t,O,_){function f(){}var i,l=t("../internals/an-object"),g=t("../internals/object-define-properties"),y=t("../internals/enum-bug-keys"),n=t("../internals/hidden-keys"),o=t("../internals/html"),s=t("../internals/document-create-element"),r=(t=t("../internals/shared-key"),"prototype"),a="script",d=t("IE_PROTO"),h=function(p){return"<script>"+p+"</"+a+">"},c=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch{}c=i?((p=i).write(h("")),p.close(),m=p.parentWindow.Object,p=null,m):(m="javascript:",(p=s("iframe")).style.display="none",o.appendChild(p),p.src=String(m),(m=p.contentWindow.document).open(),m.write(h("document.F=Object")),m.close(),m.F);for(var p,m,b=y.length;b--;)delete c[r][y[b]];return c()};n[d]=!0,O.exports=Object.create||function(p,m){var b;return p!==null?(f[r]=l(p),b=new f,f[r]=null,b[d]=p):b=c(),m===void 0?b:g(b,m)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(t,O,_){var f=t("../internals/descriptors"),i=t("../internals/object-define-property"),l=t("../internals/an-object"),g=t("../internals/object-keys");O.exports=f?Object.defineProperties:function(y,n){l(y);for(var o,s=g(n),r=s.length,a=0;a<r;)i.f(y,o=s[a++],n[o]);return y}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(t,O,_){var f=t("../internals/descriptors"),i=t("../internals/ie8-dom-define"),l=t("../internals/an-object"),g=t("../internals/to-primitive"),y=Object.defineProperty;_.f=f?y:function(n,o,s){if(l(n),o=g(o,!0),l(s),i)try{return y(n,o,s)}catch{}if("get"in s||"set"in s)throw TypeError("Accessors not supported");return"value"in s&&(n[o]=s.value),n}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":64,"../internals/to-primitive":140}],93:[function(t,O,_){var f=t("../internals/descriptors"),i=t("../internals/object-property-is-enumerable"),l=t("../internals/create-property-descriptor"),g=t("../internals/to-indexed-object"),y=t("../internals/to-primitive"),n=t("../internals/has"),o=t("../internals/ie8-dom-define"),s=Object.getOwnPropertyDescriptor;_.f=f?s:function(r,a){if(r=g(r),a=y(a,!0),o)try{return s(r,a)}catch{}if(n(r,a))return l(!i.f.call(r,a),r[a])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":134,"../internals/to-primitive":140}],94:[function(t,O,_){var f=t("../internals/to-indexed-object"),i=t("../internals/object-get-own-property-names").f,l={}.toString,g=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];O.exports.f=function(y){if(!g||l.call(y)!="[object Window]")return i(f(y));try{return i(y)}catch{return g.slice()}}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":134}],95:[function(t,O,_){var f=t("../internals/object-keys-internal"),i=t("../internals/enum-bug-keys").concat("length","prototype");_.f=Object.getOwnPropertyNames||function(l){return f(l,i)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],96:[function(t,O,_){_.f=Object.getOwnPropertySymbols},{}],97:[function(t,O,_){var f=t("../internals/has"),i=t("../internals/to-object"),l=t("../internals/shared-key"),g=(t=t("../internals/correct-prototype-getter"),l("IE_PROTO")),y=Object.prototype;O.exports=t?Object.getPrototypeOf:function(n){return n=i(n),f(n,g)?n[g]:typeof n.constructor=="function"&&n instanceof n.constructor?n.constructor.prototype:n instanceof Object?y:null}},{"../internals/correct-prototype-getter":35,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":137}],98:[function(t,O,_){var f=t("../internals/has"),i=t("../internals/to-indexed-object"),l=t("../internals/array-includes").indexOf,g=t("../internals/hidden-keys");O.exports=function(y,n){var o,s=i(y),r=0,a=[];for(o in s)!f(g,o)&&f(s,o)&&a.push(o);for(;n.length>r;)!f(s,o=n[r++])||~l(a,o)||a.push(o);return a}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":134}],99:[function(t,O,_){var f=t("../internals/object-keys-internal"),i=t("../internals/enum-bug-keys");O.exports=Object.keys||function(l){return f(l,i)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],100:[function(t,O,_){var f={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,l=i&&!f.call({1:2},1);_.f=l?function(g){return!!(g=i(this,g))&&g.enumerable}:f},{}],101:[function(t,O,_){var f=t("../internals/an-object"),i=t("../internals/a-possible-prototype");O.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,g=!1,y={};try{(l=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(y,[]),g=y instanceof Array}catch{}return function(n,o){return f(n),i(o),g?l.call(n,o):n.__proto__=o,n}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(t,O,_){var f=t("../internals/to-string-tag-support"),i=t("../internals/classof");O.exports=f?{}.toString:function(){return"[object "+i(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":141}],103:[function(t,O,_){var f=t("../internals/get-built-in"),i=t("../internals/object-get-own-property-names"),l=t("../internals/object-get-own-property-symbols"),g=t("../internals/an-object");O.exports=f("Reflect","ownKeys")||function(y){var n=i.f(g(y)),o=l.f;return o?n.concat(o(y)):n}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(t,O,_){t=t("../internals/global"),O.exports=t},{"../internals/global":59}],105:[function(t,O,_){O.exports=function(f){try{return{error:!1,value:f()}}catch(i){return{error:!0,value:i}}}},{}],106:[function(t,O,_){var f=t("../internals/an-object"),i=t("../internals/is-object"),l=t("../internals/new-promise-capability");O.exports=function(g,y){return f(g),i(y)&&y.constructor===g?y:((0,(g=l.f(g)).resolve)(y),g.promise)}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(t,O,_){var f=t("../internals/redefine");O.exports=function(i,l,g){for(var y in l)f(i,y,l[y],g);return i}},{"../internals/redefine":108}],108:[function(t,O,_){var f=t("../internals/global"),i=t("../internals/create-non-enumerable-property"),l=t("../internals/has"),g=t("../internals/set-global"),y=t("../internals/inspect-source"),n=(t=t("../internals/internal-state")).get,o=t.enforce,s=String(String).split("String");(O.exports=function(r,a,d,h){var c=!!h&&!!h.unsafe,p=!!h&&!!h.enumerable;h=!!h&&!!h.noTargetGet,typeof d=="function"&&(typeof a!="string"||l(d,"name")||i(d,"name",a),o(d).source=s.join(typeof a=="string"?a:"")),r===f?p?r[a]=d:g(a,d):(c?!h&&r[a]&&(p=!0):delete r[a],p?r[a]=d:i(r,a,d))})(Function.prototype,"toString",function(){return typeof this=="function"&&n(this).source||y(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(t,O,_){var f=t("./classof-raw"),i=t("./regexp-exec");O.exports=function(l,g){var y=l.exec;if(typeof y=="function"){if(typeof(y=y.call(l,g))!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return y}if(f(l)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return i.call(l,g)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(t,O,_){var f,i,l=t("./regexp-flags"),g=(t=t("./regexp-sticky-helpers"),RegExp.prototype.exec),y=String.prototype.replace,n=g,o=(f=/a/,i=/b*/g,g.call(f,"a"),g.call(i,"a"),f.lastIndex!==0||i.lastIndex!==0),s=t.UNSUPPORTED_Y||t.BROKEN_CARET,r=/()??/.exec("")[1]!==void 0;O.exports=n=o||r||s?function(a){var d,h,c,p,m=this,b=s&&m.sticky,A=l.call(m),T=m.source,x=0,R=a;return b&&((A=A.replace("y","")).indexOf("g")===-1&&(A+="g"),R=String(a).slice(m.lastIndex),0<m.lastIndex&&(!m.multiline||m.multiline&&a[m.lastIndex-1]!==`
`)&&(T="(?: "+T+")",R=" "+R,x++),h=new RegExp("^(?:"+T+")",A)),r&&(h=new RegExp("^"+T+"$(?!\\s)",A)),o&&(d=m.lastIndex),c=g.call(b?h:m,R),b?c?(c.input=c.input.slice(x),c[0]=c[0].slice(x),c.index=m.lastIndex,m.lastIndex+=c[0].length):m.lastIndex=0:o&&c&&(m.lastIndex=m.global?c.index+c[0].length:d),r&&c&&1<c.length&&y.call(c[0],h,function(){for(p=1;p<arguments.length-2;p++)arguments[p]===void 0&&(c[p]=void 0)}),c}:n},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(t,O,_){var f=t("../internals/an-object");O.exports=function(){var i=f(this),l="";return i.global&&(l+="g"),i.ignoreCase&&(l+="i"),i.multiline&&(l+="m"),i.dotAll&&(l+="s"),i.unicode&&(l+="u"),i.sticky&&(l+="y"),l}},{"../internals/an-object":10}],112:[function(t,O,_){function f(i,l){return RegExp(i,l)}t=t("./fails"),_.UNSUPPORTED_Y=t(function(){var i=f("a","y");return i.lastIndex=2,i.exec("abcd")!=null}),_.BROKEN_CARET=t(function(){var i=f("^r","gy");return i.lastIndex=2,i.exec("str")!=null})},{"./fails":51}],113:[function(t,O,_){O.exports=function(f){if(f==null)throw TypeError("Can't call method on "+f);return f}},{}],114:[function(t,O,_){O.exports=Object.is||function(f,i){return f===i?f!==0||1/f==1/i:f!=f&&i!=i}},{}],115:[function(t,O,_){var f=t("../internals/global"),i=t("../internals/create-non-enumerable-property");O.exports=function(l,g){try{i(f,l,g)}catch{f[l]=g}return g}},{"../internals/create-non-enumerable-property":38,"../internals/global":59}],116:[function(t,O,_){var f=t("../internals/get-built-in"),i=t("../internals/object-define-property"),l=t("../internals/well-known-symbol"),g=t("../internals/descriptors"),y=l("species");O.exports=function(n){n=f(n);var o=i.f;g&&n&&!n[y]&&o(n,y,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],117:[function(t,O,_){var f=t("../internals/object-define-property").f,i=t("../internals/has"),l=t("../internals/well-known-symbol")("toStringTag");O.exports=function(g,y,n){g&&!i(g=n?g:g.prototype,l)&&f(g,l,{configurable:!0,value:y})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],118:[function(t,O,_){var f=t("../internals/shared"),i=t("../internals/uid"),l=f("keys");O.exports=function(g){return l[g]||(l[g]=i(g))}},{"../internals/shared":120,"../internals/uid":145}],119:[function(t,O,_){var f=t("../internals/global"),i=(t=t("../internals/set-global"),"__core-js_shared__");f=f[i]||t(i,{}),O.exports=f},{"../internals/global":59,"../internals/set-global":115}],120:[function(t,O,_){var f=t("../internals/is-pure"),i=t("../internals/shared-store");(O.exports=function(l,g){return i[l]||(i[l]=g!==void 0?g:{})})("versions",[]).push({version:"3.6.5",mode:f?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(t,O,_){var f=t("../internals/an-object"),i=t("../internals/a-function"),l=t("../internals/well-known-symbol")("species");O.exports=function(g,y){return(g=f(g).constructor)===void 0||(g=f(g)[l])==null?y:i(g)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":148}],122:[function(t,O,_){var f=t("../internals/fails");O.exports=function(i){return f(function(){var l=""[i]('"');return l!==l.toLowerCase()||3<l.split('"').length})}},{"../internals/fails":51}],123:[function(t,O,_){function f(g){return function(y,n){y=String(l(y)),n=i(n);var o,s=y.length;return n<0||s<=n?g?"":void 0:(o=y.charCodeAt(n))<55296||56319<o||n+1===s||(s=y.charCodeAt(n+1))<56320||57343<s?g?y.charAt(n):o:g?y.slice(n,n+2):s-56320+(o-55296<<10)+65536}}var i=t("../internals/to-integer"),l=t("../internals/require-object-coercible");O.exports={codeAt:f(!1),charAt:f(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],124:[function(t,O,_){t=t("../internals/engine-user-agent"),O.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],125:[function(t,O,_){function f(n){return function(o,s,r){var a=(o=String(g(o))).length;return r=r===void 0?" ":String(r),(s=i(s))<=a||r==""?o:((a=l.call(r,y((s-=a)/r.length))).length>s&&(a=a.slice(0,s)),n?o+a:a+o)}}var i=t("../internals/to-length"),l=t("../internals/string-repeat"),g=t("../internals/require-object-coercible"),y=Math.ceil;O.exports={start:f(!1),end:f(!0)}},{"../internals/require-object-coercible":113,"../internals/string-repeat":127,"../internals/to-length":136}],126:[function(t,O,_){function f(p){return p+22+75*(p<26)}function i(p){var m,b=[],A=(p=function(ee){for(var te=[],oe=0,U=ee.length;oe<U;){var q,K=ee.charCodeAt(oe++);55296<=K&&K<=56319&&oe<U?(64512&(q=ee.charCodeAt(oe++)))==56320?te.push(((1023&K)<<10)+(1023&q)+65536):(te.push(K),oe--):te.push(K)}return te}(p)).length,T=128,x=0,R=72;for(N=0;N<p.length;N++)(m=p[N])<128&&b.push(c(m));var S=b.length,C=S;for(S&&b.push("-");C<A;){for(var D=l,N=0;N<p.length;N++)T<=(m=p[N])&&m<D&&(D=m);var F=C+1;if(D-T>h((l-x)/F))throw RangeError(a);for(x+=(D-T)*F,T=D,N=0;N<p.length;N++){if((m=p[N])<T&&++x>l)throw RangeError(a);if(m==T){for(var M=x,L=g;;L+=g){var z=L<=R?1:R+y<=L?y:L-R;if(M<z)break;var Y=M-z,Z=g-z;b.push(c(f(z+Y%Z))),M=h(Y/Z)}b.push(c(f(M))),R=function(ee,te,oe){var U=0;for(ee=oe?h(ee/o):ee>>1,ee+=h(ee/te);d*y>>1<ee;U+=g)ee=h(ee/d);return h(U+(d+1)*ee/(ee+n))}(x,F,C==S),x=0,++C}}++x,++T}return b.join("")}var l=2147483647,g=36,y=26,n=38,o=700,s=/[^\0-\u007E]/,r=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",d=g-1,h=Math.floor,c=String.fromCharCode;O.exports=function(p){for(var m,b=[],A=p.toLowerCase().replace(r,".").split("."),T=0;T<A.length;T++)m=A[T],b.push(s.test(m)?"xn--"+i(m):m);return b.join(".")}},{}],127:[function(t,O,_){var f=t("../internals/to-integer"),i=t("../internals/require-object-coercible");O.exports="".repeat||function(l){var g=String(i(this)),y="",n=f(l);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;0<n;(n>>>=1)&&(g+=g))1&n&&(y+=g);return y}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],128:[function(t,O,_){var f=t("../internals/fails"),i=t("../internals/whitespaces");O.exports=function(l){return f(function(){return!!i[l]()||"​᠎"[l]()!="​᠎"||i[l].name!==l})}},{"../internals/fails":51,"../internals/whitespaces":149}],129:[function(t,O,_){function f(y){return function(n){return n=String(i(n)),1&y&&(n=n.replace(l,"")),2&y?n.replace(g,""):n}}var i=t("../internals/require-object-coercible"),l=(t="["+t("../internals/whitespaces")+"]",RegExp("^"+t+t+"*")),g=RegExp(t+t+"*$");O.exports={start:f(1),end:f(2),trim:f(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":149}],130:[function(t,O,_){function f(S){return function(){R(S)}}function i(S){R(S.data)}function l(S){y.postMessage(S+"",d.protocol+"//"+d.host)}var g,y=t("../internals/global"),n=t("../internals/fails"),o=t("../internals/classof-raw"),s=t("../internals/function-bind-context"),r=t("../internals/html"),a=t("../internals/document-create-element"),d=(t=t("../internals/engine-is-ios"),y.location),h=y.setImmediate,c=y.clearImmediate,p=y.process,m=y.MessageChannel,b=y.Dispatch,A=0,T={},x="onreadystatechange",R=function(S){var C;T.hasOwnProperty(S)&&(C=T[S],delete T[S],C())};h&&c||(h=function(S){for(var C=[],D=1;D<arguments.length;)C.push(arguments[D++]);return T[++A]=function(){(typeof S=="function"?S:Function(S)).apply(void 0,C)},g(A),A},c=function(S){delete T[S]},o(p)=="process"?g=function(S){p.nextTick(f(S))}:b&&b.now?g=function(S){b.now(f(S))}:m&&!t?(t=(o=new m).port2,o.port1.onmessage=i,g=s(t.postMessage,t,1)):!y.addEventListener||typeof postMessage!="function"||y.importScripts||n(l)||d.protocol==="file:"?g=x in a("script")?function(S){r.appendChild(a("script"))[x]=function(){r.removeChild(this),R(S)}}:function(S){setTimeout(f(S),0)}:(g=l,y.addEventListener("message",i,!1))),O.exports={set:h,clear:c}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],131:[function(t,O,_){var f=t("../internals/classof-raw");O.exports=function(i){if(typeof i!="number"&&f(i)!="Number")throw TypeError("Incorrect invocation");return+i}},{"../internals/classof-raw":28}],132:[function(t,O,_){var f=t("../internals/to-integer"),i=Math.max,l=Math.min;O.exports=function(g,y){return(g=f(g))<0?i(g+y,0):l(g,y)}},{"../internals/to-integer":135}],133:[function(t,O,_){var f=t("../internals/to-integer"),i=t("../internals/to-length");O.exports=function(l){if(l===void 0)return 0;l=f(l);var g=i(l);if(l!==g)throw RangeError("Wrong length or index");return g}},{"../internals/to-integer":135,"../internals/to-length":136}],134:[function(t,O,_){var f=t("../internals/indexed-object"),i=t("../internals/require-object-coercible");O.exports=function(l){return f(i(l))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],135:[function(t,O,_){var f=Math.ceil,i=Math.floor;O.exports=function(l){return isNaN(l=+l)?0:(0<l?i:f)(l)}},{}],136:[function(t,O,_){var f=t("../internals/to-integer"),i=Math.min;O.exports=function(l){return 0<l?i(f(l),9007199254740991):0}},{"../internals/to-integer":135}],137:[function(t,O,_){var f=t("../internals/require-object-coercible");O.exports=function(i){return Object(f(i))}},{"../internals/require-object-coercible":113}],138:[function(t,O,_){var f=t("../internals/to-positive-integer");O.exports=function(i,l){if((i=f(i))%l)throw RangeError("Wrong offset");return i}},{"../internals/to-positive-integer":139}],139:[function(t,O,_){var f=t("../internals/to-integer");O.exports=function(i){if((i=f(i))<0)throw RangeError("The argument can't be less than 0");return i}},{"../internals/to-integer":135}],140:[function(t,O,_){var f=t("../internals/is-object");O.exports=function(i,l){if(!f(i))return i;var g,y;if(l&&typeof(g=i.toString)=="function"&&!f(y=g.call(i))||typeof(g=i.valueOf)=="function"&&!f(y=g.call(i))||!l&&typeof(g=i.toString)=="function"&&!f(y=g.call(i)))return y;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],141:[function(t,O,_){var f={};f[t("../internals/well-known-symbol")("toStringTag")]="z",O.exports=String(f)==="[object z]"},{"../internals/well-known-symbol":148}],142:[function(t,O,_){function f(Ge,$e){for(var Je=0,mt=$e.length,tt=new(ve(Ge))(mt);Je<mt;)tt[Je]=$e[Je++];return tt}function i(Ge,$e){q(Ge,$e,{get:function(){return oe(this)[$e]}})}function l(Ge){return Ge instanceof le||(Ge=S(Ge))=="ArrayBuffer"||Ge=="SharedArrayBuffer"}function g(Ge,$e){return Ee(Ge)&&typeof $e!="symbol"&&$e in Ge&&String(+$e)==String($e)}function y(Ge,$e){return g(Ge,$e=x($e,!0))?p(2,Ge[$e]):K(Ge,$e)}function n(Ge,$e,Je){return!(g(Ge,$e=x($e,!0))&&C(Je)&&R(Je,"value"))||R(Je,"get")||R(Je,"set")||Je.configurable||R(Je,"writable")&&!Je.writable||R(Je,"enumerable")&&!Je.enumerable?q(Ge,$e,Je):(Ge[$e]=Je.value,Ge)}var o=t("../internals/export"),s=t("../internals/global"),r=t("../internals/descriptors"),a=t("../internals/typed-array-constructors-require-wrappers"),d=t("../internals/array-buffer-view-core"),h=t("../internals/array-buffer"),c=t("../internals/an-instance"),p=t("../internals/create-property-descriptor"),m=t("../internals/create-non-enumerable-property"),b=t("../internals/to-length"),A=t("../internals/to-index"),T=t("../internals/to-offset"),x=t("../internals/to-primitive"),R=t("../internals/has"),S=t("../internals/classof"),C=t("../internals/is-object"),D=t("../internals/object-create"),N=t("../internals/object-set-prototype-of"),F=t("../internals/object-get-own-property-names").f,M=t("../internals/typed-array-from"),L=t("../internals/array-iteration").forEach,z=t("../internals/set-species"),Y=t("../internals/object-define-property"),Z=t("../internals/object-get-own-property-descriptor"),ee=t("../internals/internal-state"),te=t("../internals/inherit-if-required"),oe=ee.get,U=ee.set,q=Y.f,K=Z.f,se=Math.round,ie=s.RangeError,le=h.ArrayBuffer,$=h.DataView,ce=d.NATIVE_ARRAY_BUFFER_VIEWS,ye=d.TYPED_ARRAY_TAG,_e=d.TypedArray,he=d.TypedArrayPrototype,ve=d.aTypedArrayConstructor,Ee=d.isTypedArray,Fe="BYTES_PER_ELEMENT",Oe="Wrong length";r?(ce||(Z.f=y,Y.f=n,i(he,"buffer"),i(he,"byteOffset"),i(he,"byteLength"),i(he,"length")),o({target:"Object",stat:!0,forced:!ce},{getOwnPropertyDescriptor:y,defineProperty:n}),O.exports=function(Ge,$e,Je){function mt(ot,rt){q(ot,rt,{get:function(){var re=this,Q=rt;return(re=oe(re)).view[Re](Q*tt+re.byteOffset,!0)},set:function(re){var Q=this,ne=rt;Q=oe(Q),Je&&(re=(re=se(re))<0?0:255<re?255:255&re),Q.view[Ce](ne*tt+Q.byteOffset,re,!0)},enumerable:!0})}var tt=Ge.match(/\d+$/)[0]/8,de=Ge+(Je?"Clamped":"")+"Array",Re="get"+Ge,Ce="set"+Ge,qe=s[de],et=qe,ft=(Ge=et&&et.prototype,{});ce?a&&(et=$e(function(ot,rt,re,Q){return c(ot,et,de),te(C(rt)?l(rt)?Q!==void 0?new qe(rt,T(re,tt),Q):re!==void 0?new qe(rt,T(re,tt)):new qe(rt):Ee(rt)?f(et,rt):M.call(et,rt):new qe(A(rt)),ot,et)}),N&&N(et,_e),L(F(qe),function(ot){ot in et||m(et,ot,qe[ot])}),et.prototype=Ge):(et=$e(function(ot,rt,re,Q){c(ot,et,de);var ne,ue,we=0,Le=0;if(C(rt)){if(!l(rt))return Ee(rt)?f(et,rt):M.call(et,rt);var Ze=rt;if(Le=T(re,tt),re=rt.byteLength,Q===void 0){if(re%tt||(ne=re-Le)<0)throw ie(Oe)}else if(re<(ne=b(Q)*tt)+Le)throw ie(Oe);ue=ne/tt}else ue=A(rt),Ze=new le(ne=ue*tt);for(U(ot,{buffer:Ze,byteOffset:Le,byteLength:ne,length:ue,view:new $(Ze)});we<ue;)mt(ot,we++)}),N&&N(et,_e),Ge=et.prototype=D(he)),Ge.constructor!==et&&m(Ge,"constructor",et),ye&&m(Ge,ye,de),ft[de]=et,o({global:!0,forced:et!=qe,sham:!ce},ft),Fe in et||m(et,Fe,tt),Fe in Ge||m(Ge,Fe,tt),z(de)}):O.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":133,"../internals/to-length":136,"../internals/to-offset":138,"../internals/to-primitive":140,"../internals/typed-array-constructors-require-wrappers":143,"../internals/typed-array-from":144}],143:[function(t,O,_){var f=t("../internals/global"),i=t("../internals/fails"),l=t("../internals/check-correctness-of-iteration"),g=(t=t("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,f.ArrayBuffer),y=f.Int8Array;O.exports=!t||!i(function(){y(1)})||!i(function(){new y(-1)})||!l(function(n){new y,new y(null),new y(1.5),new y(n)},!0)||i(function(){return new y(new g(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":59}],144:[function(t,O,_){var f=t("../internals/to-object"),i=t("../internals/to-length"),l=t("../internals/get-iterator-method"),g=t("../internals/is-array-iterator-method"),y=t("../internals/function-bind-context"),n=t("../internals/array-buffer-view-core").aTypedArrayConstructor;O.exports=function(o){var s,r,a,d,h,c,p=f(o),m=arguments.length,b=1<m?arguments[1]:void 0,A=b!==void 0,T=l(p);if(T!=null&&!g(T))for(c=(h=T.call(p)).next,p=[];!(d=c.call(h)).done;)p.push(d.value);for(A&&2<m&&(b=y(b,arguments[2],2)),r=i(p.length),a=new(n(this))(r),s=0;s<r;s++)a[s]=A?b(p[s],s):p[s];return a}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],145:[function(t,O,_){var f=0,i=Math.random();O.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++f+i).toString(36)}},{}],146:[function(t,O,_){t=t("../internals/native-symbol"),O.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],147:[function(t,O,_){t=t("../internals/well-known-symbol"),_.f=t},{"../internals/well-known-symbol":148}],148:[function(t,O,_){var f=t("../internals/global"),i=t("../internals/shared"),l=t("../internals/has"),g=t("../internals/uid"),y=t("../internals/native-symbol"),n=(t=t("../internals/use-symbol-as-uid"),i("wks")),o=f.Symbol,s=t?o:o&&o.withoutSetter||g;O.exports=function(r){return l(n,r)||(y&&l(o,r)?n[r]=o[r]:n[r]=s("Symbol."+r)),n[r]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":145,"../internals/use-symbol-as-uid":146}],149:[function(t,O,_){O.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},{}],150:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/global"),l=t("../internals/array-buffer"),g=(t=t("../internals/set-species"),"ArrayBuffer");l=l[g],f({global:!0,forced:i[g]!==l},{ArrayBuffer:l}),t(g)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":59,"../internals/set-species":116}],151:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/fails"),l=t("../internals/is-array"),g=t("../internals/is-object"),y=t("../internals/to-object"),n=t("../internals/to-length"),o=t("../internals/create-property"),s=t("../internals/array-species-create"),r=t("../internals/array-method-has-species-support"),a=t("../internals/well-known-symbol"),d=(t=t("../internals/engine-v8-version"),a("isConcatSpreadable")),h=9007199254740991,c="Maximum allowed index exceeded";a=51<=t||!i(function(){var p=[];return p[d]=!1,p.concat()[0]!==p}),t=r("concat"),f({target:"Array",proto:!0,forced:!a||!t},{concat:function(p){for(var m,b,A,T,x,R=y(this),S=s(R,0),C=0,D=-1,N=arguments.length;D<N;D++)if(x=void 0,g(T=A=D===-1?R:arguments[D])&&((x=T[d])!==void 0?x:l(T))){if(b=n(A.length),h<C+b)throw TypeError(c);for(m=0;m<b;m++,C++)m in A&&o(S,C,A[m])}else{if(h<=C)throw TypeError(c);o(S,C++,A)}return S.length=C,S}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":136,"../internals/to-object":137,"../internals/well-known-symbol":148}],152:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/array-copy-within");t=t("../internals/add-to-unscopables"),f({target:"Array",proto:!0},{copyWithin:i}),t("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],153:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/array-iteration").every,l=t("../internals/array-method-is-strict");t=t("../internals/array-method-uses-to-length"),l=l("every"),t=t("every"),f({target:"Array",proto:!0,forced:!l||!t},{every:function(g){return i(this,g,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],154:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/array-fill");t=t("../internals/add-to-unscopables"),f({target:"Array",proto:!0},{fill:i}),t("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],155:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/array-iteration").filter,l=t("../internals/array-method-has-species-support");t=t("../internals/array-method-uses-to-length"),l=l("filter"),t=t("filter"),f({target:"Array",proto:!0,forced:!l||!t},{filter:function(g){return i(this,g,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(t,O,_){var f=t("../internals/export");t=t("../internals/array-for-each"),f({target:"Array",proto:!0,forced:[].forEach!=t},{forEach:t})},{"../internals/array-for-each":16,"../internals/export":50}],157:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/array-from");f({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(l){Array.from(l)})},{from:i})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],158:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/array-includes").includes,l=t("../internals/add-to-unscopables");f({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(g){return i(this,g,1<arguments.length?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/array-includes").indexOf,l=t("../internals/array-method-is-strict"),g=(t=t("../internals/array-method-uses-to-length"),[].indexOf),y=!!g&&1/[1].indexOf(1,-0)<0;l=l("indexOf"),t=t("indexOf",{ACCESSORS:!0,1:0}),f({target:"Array",proto:!0,forced:y||!l||!t},{indexOf:function(n){return y?g.apply(this,arguments)||0:i(this,n,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],160:[function(t,O,_){var f=t("../internals/to-indexed-object"),i=t("../internals/add-to-unscopables"),l=t("../internals/iterators"),g=t("../internals/internal-state"),y=(t=t("../internals/define-iterator"),"Array Iterator"),n=g.set,o=g.getterFor(y);O.exports=t(Array,"Array",function(s,r){n(this,{type:y,target:f(s),index:0,kind:r})},function(){var s=o(this),r=s.target,a=s.kind,d=s.index++;return!r||d>=r.length?{value:s.target=void 0,done:!0}:a=="keys"?{value:d,done:!1}:a=="values"?{value:r[d],done:!1}:{value:[d,r[d]],done:!1}},"values"),l.Arguments=l.Array,i("keys"),i("values"),i("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":134}],161:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/indexed-object"),l=t("../internals/to-indexed-object"),g=(t=t("../internals/array-method-is-strict"),[].join);i=i!=Object,t=t("join",","),f({target:"Array",proto:!0,forced:i||!t},{join:function(y){return g.call(l(this),y===void 0?",":y)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":66,"../internals/to-indexed-object":134}],162:[function(t,O,_){t("../internals/export")({target:"Array",proto:!0,forced:(t=t("../internals/array-last-index-of"))!==[].lastIndexOf},{lastIndexOf:t})},{"../internals/array-last-index-of":20,"../internals/export":50}],163:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/array-iteration").map,l=t("../internals/array-method-has-species-support");t=t("../internals/array-method-uses-to-length"),l=l("map"),t=t("map"),f({target:"Array",proto:!0,forced:!l||!t},{map:function(g){return i(this,g,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/is-object"),l=t("../internals/is-array"),g=t("../internals/to-absolute-index"),y=t("../internals/to-length"),n=t("../internals/to-indexed-object"),o=t("../internals/create-property"),s=t("../internals/well-known-symbol"),r=t("../internals/array-method-has-species-support"),a=(t=t("../internals/array-method-uses-to-length"),r=r("slice"),t=t("slice",{ACCESSORS:!0,0:0,1:2}),s("species")),d=[].slice,h=Math.max;f({target:"Array",proto:!0,forced:!r||!t},{slice:function(c,p){var m,b,A,T=n(this),x=y(T.length),R=g(c,x),S=g(p===void 0?x:p,x);if(l(T)&&((m=typeof(m=T.constructor)=="function"&&(m===Array||l(m.prototype))||i(m)&&(m=m[a])===null?void 0:m)===Array||m===void 0))return d.call(T,R,S);for(b=new(m===void 0?Array:m)(h(S-R,0)),A=0;R<S;R++,A++)R in T&&o(b,A,T[R]);return b.length=A,b}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136,"../internals/well-known-symbol":148}],165:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/array-iteration").some,l=t("../internals/array-method-is-strict");t=t("../internals/array-method-uses-to-length"),l=l("some"),t=t("some"),f({target:"Array",proto:!0,forced:!l||!t},{some:function(g){return i(this,g,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],166:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/to-absolute-index"),l=t("../internals/to-integer"),g=t("../internals/to-length"),y=t("../internals/to-object"),n=t("../internals/array-species-create"),o=t("../internals/create-property"),s=t("../internals/array-method-has-species-support"),r=(t=t("../internals/array-method-uses-to-length"),s=s("splice"),t=t("splice",{ACCESSORS:!0,0:0,1:2}),Math.max),a=Math.min;f({target:"Array",proto:!0,forced:!s||!t},{splice:function(d,h){var c,p,m,b,A,T,x=y(this),R=g(x.length),S=i(d,R);if((d=arguments.length)===0?c=p=0:p=d===1?(c=0,R-S):(c=d-2,a(r(l(h),0),R-S)),9007199254740991<R+c-p)throw TypeError("Maximum allowed length exceeded");for(m=n(x,p),b=0;b<p;b++)(A=S+b)in x&&o(m,b,x[A]);if(c<(m.length=p)){for(b=S;b<R-p;b++)T=b+c,(A=b+p)in x?x[T]=x[A]:delete x[T];for(b=R;R-p+c<b;b--)delete x[b-1]}else if(p<c)for(b=R-p;S<b;b--)T=b+c-1,(A=b+p-1)in x?x[T]=x[A]:delete x[T];for(b=0;b<c;b++)x[b+S]=arguments[b+2];return x.length=R-p+c,m}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":132,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],167:[function(t,O,_){var f=t("../internals/descriptors"),i=(t=t("../internals/object-define-property").f,Function.prototype),l=i.toString,g=/^\s*function ([^ (]*)/;!f||"name"in i||t(i,"name",{configurable:!0,get:function(){try{return l.call(this).match(g)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":92}],168:[function(t,O,_){var f=t("../internals/collection");t=t("../internals/collection-strong"),O.exports=f("Map",function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},t)},{"../internals/collection":32,"../internals/collection-strong":30}],169:[function(t,O,_){t=t("../internals/export");var f=Math.hypot,i=Math.abs,l=Math.sqrt;t({target:"Math",stat:!0,forced:!!f&&f(1/0,NaN)!==1/0},{hypot:function(g,y){for(var n,o,s=0,r=0,a=arguments.length,d=0;r<a;)d<(n=i(arguments[r++]))?(s=s*(o=d/n)*o+1,d=n):s+=0<n?(o=n/d)*o:n;return d===1/0?1/0:d*l(s)}})},{"../internals/export":50}],170:[function(t,O,_){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":80}],171:[function(t,O,_){function f(N){var F,M,L,z,Y,Z,ee,te=r(N,!1);if(typeof te=="string"&&2<te.length){if((N=(te=m(te)).charCodeAt(0))===43||N===45){if((F=te.charCodeAt(2))===88||F===120)return NaN}else if(N===48){switch(te.charCodeAt(1)){case 66:case 98:M=2,L=49;break;case 79:case 111:M=8,L=55;break;default:return+te}for(Y=(z=te.slice(2)).length,Z=0;Z<Y;Z++)if((ee=z.charCodeAt(Z))<48||L<ee)return NaN;return parseInt(z,M)}}return+te}var i=t("../internals/descriptors"),l=t("../internals/global"),g=t("../internals/is-forced"),y=t("../internals/redefine"),n=t("../internals/has"),o=t("../internals/classof-raw"),s=t("../internals/inherit-if-required"),r=t("../internals/to-primitive"),a=t("../internals/fails"),d=t("../internals/object-create"),h=t("../internals/object-get-own-property-names").f,c=t("../internals/object-get-own-property-descriptor").f,p=t("../internals/object-define-property").f,m=t("../internals/string-trim").trim,b="Number",A=l[b],T=A.prototype,x=o(d(T))==b;if(g(b,!A(" 0o1")||!A("0b1")||A("+0x1"))){for(var R,S=function(N){N=arguments.length<1?0:N;var F=this;return F instanceof S&&(x?a(function(){T.valueOf.call(F)}):o(F)!=b)?s(new A(f(N)),F,S):f(N)},C=i?h(A):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),D=0;C.length>D;D++)n(A,R=C[D])&&!n(S,R)&&p(S,R,c(A,R));(S.prototype=T).constructor=S,y(l,b,S)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":129,"../internals/to-primitive":140}],172:[function(t,O,_){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":88}],173:[function(t,O,_){function f(s,r,a){return r===0?a:r%2==1?f(s,r-1,a*s):f(s*s,r/2,a)}var i=t("../internals/export"),l=t("../internals/to-integer"),g=t("../internals/this-number-value"),y=t("../internals/string-repeat"),n=(t=t("../internals/fails"),1 .toFixed),o=Math.floor;i({target:"Number",proto:!0,forced:n&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!t(function(){n.call({})})},{toFixed:function(s){function r(T,x){for(var R=-1,S=x;++R<6;)S+=T*m[R],m[R]=S%1e7,S=o(S/1e7)}function a(T){for(var x=6,R=0;0<=--x;)R+=m[x],m[x]=o(R/T),R=R%T*1e7}function d(){for(var T,x=6,R="";0<=--x;)R===""&&x!==0&&m[x]===0||(T=String(m[x]),R=R===""?T:R+y.call("0",7-T.length)+T);return R}var h,c,p=g(this),m=(s=l(s),[0,0,0,0,0,0]),b="",A="0";if(s<0||20<s)throw RangeError("Incorrect fraction digits");if(p!=p)return"NaN";if(p<=-1e21||1e21<=p)return String(p);if(p<0&&(b="-",p=-p),1e-21<p)if(p=(h=function(T){for(var x=0,R=T;4096<=R;)x+=12,R/=4096;for(;2<=R;)x+=1,R/=2;return x}(p*f(2,69,1))-69)<0?p*f(2,-h,1):p/f(2,h,1),p*=4503599627370496,0<(h=52-h)){for(r(0,p),c=s;7<=c;)r(1e7,0),c-=7;for(r(f(10,c,1),0),c=h-1;23<=c;)a(1<<23),c-=23;a(1<<c),r(1,1),a(2),A=d()}else r(0,p),r(1<<-h,0),A=d()+y.call("0",s);return 0<s?b+((p=A.length)<=s?"0."+y.call("0",s-p)+A:A.slice(0,p-s)+"."+A.slice(p-s)):b+A}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":127,"../internals/this-number-value":131,"../internals/to-integer":135}],174:[function(t,O,_){var f=t("../internals/export");t=t("../internals/object-assign"),f({target:"Object",stat:!0,forced:Object.assign!==t},{assign:t})},{"../internals/export":50,"../internals/object-assign":89}],175:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/iterate"),l=t("../internals/create-property");f({target:"Object",stat:!0},{fromEntries:function(g){var y={};return i(g,function(n,o){l(y,n,o)},void 0,!0),y}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":77}],176:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/fails"),l=t("../internals/to-indexed-object"),g=t("../internals/object-get-own-property-descriptor").f;t=t("../internals/descriptors"),i=i(function(){g(1)}),f({target:"Object",stat:!0,forced:!t||i,sham:!t},{getOwnPropertyDescriptor:function(y,n){return g(l(y),n)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":93,"../internals/to-indexed-object":134}],177:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/fails");t=t("../internals/object-get-own-property-names-external").f,f({target:"Object",stat:!0,forced:i(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:t})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":94}],178:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/fails"),l=t("../internals/to-object"),g=t("../internals/object-get-prototype-of");t=t("../internals/correct-prototype-getter"),f({target:"Object",stat:!0,forced:i(function(){g(1)}),sham:!t},{getPrototypeOf:function(y){return g(l(y))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":97,"../internals/to-object":137}],179:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/to-object"),l=t("../internals/object-keys");f({target:"Object",stat:!0,forced:t("../internals/fails")(function(){l(1)})},{keys:function(g){return l(i(g))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":99,"../internals/to-object":137}],180:[function(t,O,_){var f=t("../internals/to-string-tag-support"),i=t("../internals/redefine");t=t("../internals/object-to-string"),f||i(Object.prototype,"toString",t,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":141}],181:[function(t,O,_){var f,i,l,g,y=t("../internals/export"),n=t("../internals/is-pure"),o=t("../internals/global"),s=t("../internals/get-built-in"),r=t("../internals/native-promise-constructor"),a=t("../internals/redefine"),d=t("../internals/redefine-all"),h=t("../internals/set-to-string-tag"),c=t("../internals/set-species"),p=t("../internals/is-object"),m=t("../internals/a-function"),b=t("../internals/an-instance"),A=t("../internals/classof-raw"),T=t("../internals/inspect-source"),x=t("../internals/iterate"),R=t("../internals/check-correctness-of-iteration"),S=t("../internals/species-constructor"),C=t("../internals/task").set,D=t("../internals/microtask"),N=t("../internals/promise-resolve"),F=t("../internals/host-report-errors"),M=t("../internals/new-promise-capability"),L=t("../internals/perform"),z=t("../internals/internal-state"),Y=t("../internals/is-forced"),Z=t("../internals/well-known-symbol"),ee=t("../internals/engine-v8-version"),te=Z("species"),oe="Promise",U=z.get,q=z.set,K=z.getterFor(oe),se=r,ie=o.TypeError,le=o.document,$=o.process,ce=s("fetch"),ye=M.f,_e=ye,he=A($)=="process",ve=!!(le&&le.createEvent&&o.dispatchEvent),Ee="unhandledrejection",Fe=(Z=(t=Y(oe,function(){var de,Re;return T(se)===String(se)&&(ee===66||!he&&typeof PromiseRejectionEvent!="function")?!0:!((!n||se.prototype.finally)&&(51<=ee&&/native code/.test(se)||(Re=function(Ce){Ce(function(){},function(){})},((de=se.resolve(1)).constructor={})[te]=Re,de.then(function(){})instanceof Re)))}))||!R(function(de){se.all(de).catch(function(){})}),function(de){var Re;return!(!p(de)||typeof(Re=de.then)!="function")&&Re}),Oe=function(de,Re,Ce){var qe;Re.notified||(Re.notified=!0,qe=Re.reactions,D(function(){for(var et,ft,ot=Re.value,rt=Re.state==1,re=0;qe.length>re;){var Q,ne,ue,we=qe[re++],Le=rt?we.ok:we.fail,Ze=we.resolve,He=we.reject,Te=we.domain;try{Le?(rt||(Re.rejection===2&&function(Qe,st){C.call(o,function(){he?$.emit("rejectionHandled",Qe):Ge("rejectionhandled",Qe,st.value)})}(de,Re),Re.rejection=1),Le===!0?Q=ot:(Te&&Te.enter(),Q=Le(ot),Te&&(Te.exit(),ue=!0)),Q===we.promise?He(ie("Promise-chain cycle")):(ne=Fe(Q))?ne.call(Q,Ze,He):Ze(Q)):He(ot)}catch(Qe){Te&&!ue&&Te.exit(),He(Qe)}}Re.reactions=[],Re.notified=!1,Ce&&!Re.rejection&&(et=de,ft=Re,C.call(o,function(){var Qe=ft.value,st=$e(ft);if(st&&(st=L(function(){he?$.emit("unhandledRejection",Qe,et):Ge(Ee,et,Qe)}),ft.rejection=he||$e(ft)?2:1,st.error))throw st.value}))}))},Ge=function(de,Re,Ce){var qe;ve?((qe=le.createEvent("Event")).promise=Re,qe.reason=Ce,qe.initEvent(de,!1,!0),o.dispatchEvent(qe)):qe={promise:Re,reason:Ce},(Re=o["on"+de])?Re(qe):de===Ee&&F("Unhandled promise rejection",Ce)},$e=function(de){return de.rejection!==1&&!de.parent},Je=function(de,Re,Ce,qe){return function(et){de(Re,Ce,et,qe)}},mt=function(de,Re,Ce,qe){Re.done||(Re.done=!0,(Re=qe||Re).value=Ce,Re.state=2,Oe(de,Re,!0))},tt=function(de,Re,Ce,qe){if(!Re.done){Re.done=!0,qe&&(Re=qe);try{if(de===Ce)throw ie("Promise can't be resolved itself");var et=Fe(Ce);et?D(function(){var ft={done:!1};try{et.call(Ce,Je(tt,de,ft,Re),Je(mt,de,ft,Re))}catch(ot){mt(de,ft,ot,Re)}}):(Re.value=Ce,Re.state=1,Oe(de,Re,!1))}catch(ft){mt(de,{done:!1},ft,Re)}}};t&&(se=function(de){b(this,se,oe),m(de),f.call(this);var Re=U(this);try{de(Je(tt,this,Re),Je(mt,this,Re))}catch(Ce){mt(this,Re,Ce)}},(f=function(de){q(this,{type:oe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(se.prototype,{then:function(de,Re){var Ce=K(this),qe=ye(S(this,se));return qe.ok=typeof de!="function"||de,qe.fail=typeof Re=="function"&&Re,qe.domain=he?$.domain:void 0,Ce.parent=!0,Ce.reactions.push(qe),Ce.state!=0&&Oe(this,Ce,!1),qe.promise},catch:function(de){return this.then(void 0,de)}}),i=function(){var de=new f,Re=U(de);this.promise=de,this.resolve=Je(tt,de,Re),this.reject=Je(mt,de,Re)},M.f=ye=function(de){return de===se||de===l?new i:_e(de)},n||typeof r!="function"||(g=r.prototype.then,a(r.prototype,"then",function(de,Re){var Ce=this;return new se(function(qe,et){g.call(Ce,qe,et)}).then(de,Re)},{unsafe:!0}),typeof ce=="function"&&y({global:!0,enumerable:!0,forced:!0},{fetch:function(de){return N(se,ce.apply(o,arguments))}}))),y({global:!0,wrap:!0,forced:t},{Promise:se}),h(se,oe,!1,!0),c(oe),l=s(oe),y({target:oe,stat:!0,forced:t},{reject:function(de){var Re=ye(this);return Re.reject.call(void 0,de),Re.promise}}),y({target:oe,stat:!0,forced:n||t},{resolve:function(de){return N(n&&this===l?se:this,de)}}),y({target:oe,stat:!0,forced:Z},{all:function(de){var Re=this,Ce=ye(Re),qe=Ce.resolve,et=Ce.reject,ft=L(function(){var ot=m(Re.resolve),rt=[],re=0,Q=1;x(de,function(ne){var ue=re++,we=!1;rt.push(void 0),Q++,ot.call(Re,ne).then(function(Le){we||(we=!0,rt[ue]=Le,--Q||qe(rt))},et)}),--Q||qe(rt)});return ft.error&&et(ft.value),Ce.promise},race:function(de){var Re=this,Ce=ye(Re),qe=Ce.reject,et=L(function(){var ft=m(Re.resolve);x(de,function(ot){ft.call(Re,ot).then(Ce.resolve,qe)})});return et.error&&qe(et.value),Ce.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":130,"../internals/well-known-symbol":148}],182:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/get-built-in"),l=t("../internals/a-function"),g=t("../internals/an-object"),y=t("../internals/is-object"),n=t("../internals/object-create"),o=t("../internals/function-bind"),s=(t=t("../internals/fails"),i("Reflect","construct")),r=t(function(){function d(){}return!(s(function(){},[],d)instanceof d)}),a=!t(function(){s(function(){})});f({target:"Reflect",stat:!0,forced:i=r||a,sham:i},{construct:function(d,h){l(d),g(h);var c=arguments.length<3?d:l(arguments[2]);if(a&&!r)return s(d,h,c);if(d==c){switch(h.length){case 0:return new d;case 1:return new d(h[0]);case 2:return new d(h[0],h[1]);case 3:return new d(h[0],h[1],h[2]);case 4:return new d(h[0],h[1],h[2],h[3])}var p=[null];return p.push.apply(p,h),new(o.apply(d,p))}return p=c.prototype,c=n(y(p)?p:Object.prototype),p=Function.apply.call(d,c,h),y(p)?p:c}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],183:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/is-object"),l=t("../internals/an-object"),g=t("../internals/has"),y=t("../internals/object-get-own-property-descriptor"),n=t("../internals/object-get-prototype-of");f({target:"Reflect",stat:!0},{get:function o(s,r){var a,d=arguments.length<3?s:arguments[2];return l(s)===d?s[r]:(a=y.f(s,r))?g(a,"value")?a.value:a.get===void 0?void 0:a.get.call(d):i(a=n(s))?o(a,r,d):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":60,"../internals/is-object":74,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-prototype-of":97}],184:[function(t,O,_){var f=t("../internals/descriptors"),i=t("../internals/global"),l=t("../internals/is-forced"),g=t("../internals/inherit-if-required"),y=t("../internals/object-define-property").f,n=t("../internals/object-get-own-property-names").f,o=t("../internals/is-regexp"),s=t("../internals/regexp-flags"),r=t("../internals/regexp-sticky-helpers"),a=t("../internals/redefine"),d=t("../internals/fails"),h=t("../internals/internal-state").set,c=t("../internals/set-species"),p=t("../internals/well-known-symbol")("match"),m=i.RegExp,b=m.prototype,A=/a/g,T=/a/g,x=new m(A)!==A,R=r.UNSUPPORTED_Y;if(f&&l("RegExp",!x||R||d(function(){return T[p]=!1,m(A)!=A||m(T)==T||m(A,"i")!="/a/i"}))){for(var S=function(N,F){var M,L=this instanceof S,z=o(N),Y=F===void 0;return!L&&z&&N.constructor===S&&Y?N:(x?z&&!Y&&(N=N.source):N instanceof S&&(Y&&(F=s.call(N)),N=N.source),R&&(M=!!F&&-1<F.indexOf("y"))&&(F=F.replace(/y/g,"")),z=g(x?new m(N,F):m(N,F),L?this:b,S),R&&M&&h(z,{sticky:M}),z)},C=n(m),D=0;C.length>D;)(function(N){N in S||y(S,N,{configurable:!0,get:function(){return m[N]},set:function(F){m[N]=F}})})(C[D++]);(b.constructor=S).prototype=b,a(i,"RegExp",S)}c("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":148}],185:[function(t,O,_){var f=t("../internals/export");t=t("../internals/regexp-exec"),f({target:"RegExp",proto:!0,forced:/./.exec!==t},{exec:t})},{"../internals/export":50,"../internals/regexp-exec":110}],186:[function(t,O,_){var f=t("../internals/redefine"),i=t("../internals/an-object"),l=t("../internals/fails"),g=t("../internals/regexp-flags"),y=(t="toString",RegExp.prototype),n=y[t],o=(l=l(function(){return n.call({source:"a",flags:"b"})!="/a/b"}),n.name!=t);(l||o)&&f(RegExp.prototype,t,function(){var s=i(this),r=String(s.source),a=s.flags;return"/"+r+"/"+String(a===void 0&&s instanceof RegExp&&!("flags"in y)?g.call(s):a)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-flags":111}],187:[function(t,O,_){var f=t("../internals/collection");t=t("../internals/collection-strong"),O.exports=f("Set",function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},t)},{"../internals/collection":32,"../internals/collection-strong":30}],188:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/object-get-own-property-descriptor").f,l=t("../internals/to-length"),g=t("../internals/not-a-regexp"),y=t("../internals/require-object-coercible"),n=t("../internals/correct-is-regexp-logic"),o=(t=t("../internals/is-pure"),"".endsWith),s=Math.min;n=n("endsWith"),f({target:"String",proto:!0,forced:!(!t&&!n&&(f=i(String.prototype,"endsWith"))&&!f.writable||n)},{endsWith:function(r){var a=String(y(this)),d=(g(r),1<arguments.length?arguments[1]:void 0),h=l(a.length);return d=d===void 0?h:s(l(d),h),h=String(r),o?o.call(a,h,d):a.slice(d-h.length,d)===h}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],189:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/not-a-regexp"),l=t("../internals/require-object-coercible");f({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(g){return!!~String(l(this)).indexOf(i(g),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],190:[function(t,O,_){var f=t("../internals/string-multibyte").charAt,i=t("../internals/internal-state"),l=(t=t("../internals/define-iterator"),"String Iterator"),g=i.set,y=i.getterFor(l);t(String,"String",function(n){g(this,{type:l,string:String(n),index:0})},function(){var n=y(this),o=n.string,s=n.index;return s>=o.length?{value:void 0,done:!0}:(o=f(o,s),n.index+=o.length,{value:o,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/string-multibyte":123}],191:[function(t,O,_){var f=t("../internals/fix-regexp-well-known-symbol-logic"),i=t("../internals/an-object"),l=t("../internals/to-length"),g=t("../internals/require-object-coercible"),y=t("../internals/advance-string-index"),n=t("../internals/regexp-exec-abstract");f("match",1,function(o,s,r){return[function(a){var d=g(this),h=a==null?void 0:a[o];return h!==void 0?h.call(a,d):new RegExp(a)[o](String(d))},function(a){var d=r(s,a,this);if(d.done)return d.value;var h=i(a),c=String(this);if(!h.global)return n(h,c);for(var p=h.unicode,m=[],b=h.lastIndex=0;(A=n(h,c))!==null;){var A=String(A[0]);(m[b]=A)===""&&(h.lastIndex=y(c,l(h.lastIndex),p)),b++}return b===0?null:m}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":136}],192:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/string-pad").start;f({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(l){return i(this,l,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":125,"../internals/string-pad-webkit-bug":124}],193:[function(t,O,_){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":127}],194:[function(t,O,_){var f=t("../internals/fix-regexp-well-known-symbol-logic"),i=t("../internals/an-object"),l=t("../internals/to-object"),g=t("../internals/to-length"),y=t("../internals/to-integer"),n=t("../internals/require-object-coercible"),o=t("../internals/advance-string-index"),s=t("../internals/regexp-exec-abstract"),r=Math.max,a=Math.min,d=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,c=/\$([$&'`]|\d\d?)/g;f("replace",2,function(p,m,b,A){var T=A.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,x=A.REPLACE_KEEPS_$0,R=T?"$":"$0";return[function(S,C){var D=n(this),N=S==null?void 0:S[p];return N!==void 0?N.call(S,D,C):m.call(String(D),S,C)},function(S,C){if(!T&&x||typeof C=="string"&&C.indexOf(R)===-1){var D=b(m,S,this,C);if(D.done)return D.value}for(var N,F=i(S),M=String(this),L=typeof C=="function",z=(L||(C=String(C)),F.global),Y=(z&&(N=F.unicode,F.lastIndex=0),[]);(U=s(F,M))!==null&&(Y.push(U),z);)String(U[0])===""&&(F.lastIndex=o(M,g(F.lastIndex),N));for(var Z,ee="",te=0,oe=0;oe<Y.length;oe++){for(var U=Y[oe],q=String(U[0]),K=r(a(y(U.index),M.length),0),se=[],ie=1;ie<U.length;ie++)se.push((Z=U[ie])===void 0?Z:String(Z));var le=U.groups,$=L?($=[q].concat(se,K,M),le!==void 0&&$.push(le),String(C.apply(void 0,$))):function(ce,ye,_e,he,ve,Ee){var Fe=_e+ce.length,Oe=he.length,Ge=c;return ve!==void 0&&(ve=l(ve),Ge=h),m.call(Ee,Ge,function($e,Je){var mt;switch(Je.charAt(0)){case"$":return"$";case"&":return ce;case"`":return ye.slice(0,_e);case"'":return ye.slice(Fe);case"<":mt=ve[Je.slice(1,-1)];break;default:var tt,de=+Je;if(de==0)return $e;if(Oe<de)return(tt=d(de/10))!==0&&tt<=Oe?he[tt-1]===void 0?Je.charAt(1):he[tt-1]+Je.charAt(1):$e;mt=he[de-1]}return mt===void 0?"":mt})}(q,M,K,se,le,C);te<=K&&(ee+=M.slice(te,K)+$,te=K+q.length)}return ee+M.slice(te)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],195:[function(t,O,_){var f=t("../internals/fix-regexp-well-known-symbol-logic"),i=t("../internals/an-object"),l=t("../internals/require-object-coercible"),g=t("../internals/same-value"),y=t("../internals/regexp-exec-abstract");f("search",1,function(n,o,s){return[function(r){var a=l(this),d=r==null?void 0:r[n];return d!==void 0?d.call(r,a):new RegExp(r)[n](String(a))},function(r){var a,d=s(o,r,this);return d.done?d.value:(d=i(r),r=String(this),a=d.lastIndex,g(a,0)||(d.lastIndex=0),r=y(d,r),g(d.lastIndex,a)||(d.lastIndex=a),r===null?-1:r.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],196:[function(t,O,_){var f=t("../internals/fix-regexp-well-known-symbol-logic"),i=t("../internals/is-regexp"),l=t("../internals/an-object"),g=t("../internals/require-object-coercible"),y=t("../internals/species-constructor"),n=t("../internals/advance-string-index"),o=t("../internals/to-length"),s=t("../internals/regexp-exec-abstract"),r=t("../internals/regexp-exec"),a=(t=t("../internals/fails"),[].push),d=Math.min,h=4294967295,c=!t(function(){return!RegExp(h,"y")});f("split",2,function(p,m,b){var A="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(T,x){var R=String(g(this)),S=x===void 0?h:x>>>0;if(S==0)return[];if(T===void 0)return[R];if(!i(T))return m.call(R,T,S);for(var C,D,N,F=[],M=(x=(T.ignoreCase?"i":"")+(T.multiline?"m":"")+(T.unicode?"u":"")+(T.sticky?"y":""),0),L=new RegExp(T.source,x+"g");(C=r.call(L,R))&&!(M<(D=L.lastIndex)&&(F.push(R.slice(M,C.index)),1<C.length&&C.index<R.length&&a.apply(F,C.slice(1)),N=C[0].length,M=D,F.length>=S));)L.lastIndex===C.index&&L.lastIndex++;return M===R.length?!N&&L.test("")||F.push(""):F.push(R.slice(M)),F.length>S?F.slice(0,S):F}:"0".split(void 0,0).length?function(T,x){return T===void 0&&x===0?[]:m.call(this,T,x)}:m;return[function(T,x){var R=g(this),S=T==null?void 0:T[p];return S!==void 0?S.call(T,R,x):A.call(String(R),T,x)},function(T,x){if((R=b(A,T,this,x,A!==m)).done)return R.value;var R=l(T),S=String(this),C=(T=y(R,RegExp),R.unicode),D=(R.ignoreCase?"i":"")+(R.multiline?"m":"")+(R.unicode?"u":"")+(c?"y":"g"),N=new T(c?R:"^(?:"+R.source+")",D),F=x===void 0?h:x>>>0;if(F==0)return[];if(S.length===0)return s(N,S)===null?[S]:[];for(var M=0,L=0,z=[];L<S.length;){N.lastIndex=c?L:0;var Y,Z=s(N,c?S:S.slice(L));if(Z===null||(Y=d(o(N.lastIndex+(c?0:L)),S.length))===M)L=n(S,L,C);else{if(z.push(S.slice(M,L)),z.length===F)return z;for(var ee=1;ee<=Z.length-1;ee++)if(z.push(Z[ee]),z.length===F)return z;L=M=Y}}return z.push(S.slice(M)),z}]},!c)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":136}],197:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/object-get-own-property-descriptor").f,l=t("../internals/to-length"),g=t("../internals/not-a-regexp"),y=t("../internals/require-object-coercible"),n=t("../internals/correct-is-regexp-logic"),o=(t=t("../internals/is-pure"),"".startsWith),s=Math.min;n=n("startsWith"),f({target:"String",proto:!0,forced:!(!t&&!n&&(f=i(String.prototype,"startsWith"))&&!f.writable||n)},{startsWith:function(r){var a=String(y(this)),d=(g(r),l(s(1<arguments.length?arguments[1]:void 0,a.length)));return r=String(r),o?o.call(a,r,d):a.slice(d,d+r.length)===r}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],198:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/create-html");f({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return i(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":122}],199:[function(t,O,_){var f=t("../internals/export"),i=t("../internals/string-trim").trim;f({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return i(this)}})},{"../internals/export":50,"../internals/string-trim":129,"../internals/string-trim-forced":128}],200:[function(t,O,_){var f,i,l,g,y,n=t("../internals/export"),o=t("../internals/descriptors"),s=t("../internals/global"),r=t("../internals/has"),a=t("../internals/is-object"),d=t("../internals/object-define-property").f,h=(t=t("../internals/copy-constructor-properties"),s.Symbol);!o||typeof h!="function"||"description"in h.prototype&&h().description===void 0||(f={},t(i=function(){var c=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),p=this instanceof i?new h(c):c===void 0?h():h(c);return c===""&&(f[p]=!0),p},h),(s=i.prototype=h.prototype).constructor=i,l=s.toString,g=String(h("test"))=="Symbol(test)",y=/^Symbol\((.*)\)[^)]+$/,d(s,"description",{configurable:!0,get:function(){var c=a(this)?this.valueOf():this,p=l.call(c);return r(f,c)?"":(c=g?p.slice(7,-1):p.replace(y,"$1"))===""?void 0:c}}),n({global:!0,forced:!0},{Symbol:i}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],201:[function(t,O,_){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],202:[function(t,O,_){function f(Q,ne){var ue=tt[Q]=S(Fe[_e]);return he(ue,{type:ye,tag:Q,description:ne}),r||(ue.description=ne),ue}function i(Q,ne){b(Q);var ue=T(ne);return ne=C(ue).concat(re(ue)),$(ne,function(we){r&&!rt.call(ue,we)||ot(Q,we,ue[we])}),Q}function l(Q,ne){var ue;if(Q=T(Q),ne=x(ne,!0),Q!==Ee||!c(tt,ne)||c(de,ne))return!(ue=Ge(Q,ne))||!c(tt,ne)||c(Q,ce)&&Q[ce][ne]||(ue.enumerable=!0),ue}function g(Q){Q=Je(T(Q));var ne=[];return $(Q,function(ue){c(tt,ue)||c(oe,ue)||ne.push(ue)}),ne}var y=t("../internals/export"),n=t("../internals/global"),o=t("../internals/get-built-in"),s=t("../internals/is-pure"),r=t("../internals/descriptors"),a=t("../internals/native-symbol"),d=t("../internals/use-symbol-as-uid"),h=t("../internals/fails"),c=t("../internals/has"),p=t("../internals/is-array"),m=t("../internals/is-object"),b=t("../internals/an-object"),A=t("../internals/to-object"),T=t("../internals/to-indexed-object"),x=t("../internals/to-primitive"),R=t("../internals/create-property-descriptor"),S=t("../internals/object-create"),C=t("../internals/object-keys"),D=t("../internals/object-get-own-property-names"),N=t("../internals/object-get-own-property-names-external"),F=t("../internals/object-get-own-property-symbols"),M=t("../internals/object-get-own-property-descriptor"),L=t("../internals/object-define-property"),z=t("../internals/object-property-is-enumerable"),Y=t("../internals/create-non-enumerable-property"),Z=t("../internals/redefine"),ee=t("../internals/shared"),te=t("../internals/shared-key"),oe=t("../internals/hidden-keys"),U=t("../internals/uid"),q=t("../internals/well-known-symbol"),K=t("../internals/well-known-symbol-wrapped"),se=t("../internals/define-well-known-symbol"),ie=t("../internals/set-to-string-tag"),le=t("../internals/internal-state"),$=t("../internals/array-iteration").forEach,ce=te("hidden"),ye="Symbol",_e="prototype",he=(t=q("toPrimitive"),le.set),ve=le.getterFor(ye),Ee=Object[_e],Fe=n.Symbol,Oe=o("JSON","stringify"),Ge=M.f,$e=L.f,Je=N.f,mt=z.f,tt=ee("symbols"),de=ee("op-symbols"),Re=ee("string-to-symbol-registry"),Ce=ee("symbol-to-string-registry"),qe=(te=ee("wks"),!(le=n.QObject)||!le[_e]||!le[_e].findChild),et=r&&h(function(){return S($e({},"a",{get:function(){return $e(this,"a",{value:7}).a}})).a!=7})?function(Q,ne,ue){var we=Ge(Ee,ne);we&&delete Ee[ne],$e(Q,ne,ue),we&&Q!==Ee&&$e(Ee,ne,we)}:$e,ft=d?function(Q){return typeof Q=="symbol"}:function(Q){return Object(Q)instanceof Fe},ot=function(Q,ne,ue){return Q===Ee&&ot(de,ne,ue),b(Q),ne=x(ne,!0),b(ue),(c(tt,ne)?(ue.enumerable?(c(Q,ce)&&Q[ce][ne]&&(Q[ce][ne]=!1),ue=S(ue,{enumerable:R(0,!1)})):(c(Q,ce)||$e(Q,ce,R(1,{})),Q[ce][ne]=!0),et):$e)(Q,ne,ue)},rt=function(Q){Q=x(Q,!0);var ne=mt.call(this,Q);return!(this===Ee&&c(tt,Q)&&!c(de,Q))&&(!(ne||!c(this,Q)||!c(tt,Q)||c(this,ce)&&this[ce][Q])||ne)},re=function(Q){var ne=Q===Ee,ue=(Q=Je(ne?de:T(Q)),[]);return $(Q,function(we){!c(tt,we)||ne&&!c(Ee,we)||ue.push(tt[we])}),ue};a||(Z((Fe=function(){if(this instanceof Fe)throw TypeError("Symbol is not a constructor");var Q=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,ne=U(Q),ue=function(we){this===Ee&&ue.call(de,we),c(this,ce)&&c(this[ce],ne)&&(this[ce][ne]=!1),et(this,ne,R(1,we))};return r&&qe&&et(Ee,ne,{configurable:!0,set:ue}),f(ne,Q)})[_e],"toString",function(){return ve(this).tag}),Z(Fe,"withoutSetter",function(Q){return f(U(Q),Q)}),z.f=rt,L.f=ot,M.f=l,D.f=N.f=g,F.f=re,K.f=function(Q){return f(q(Q),Q)},r&&($e(Fe[_e],"description",{configurable:!0,get:function(){return ve(this).description}}),s||Z(Ee,"propertyIsEnumerable",rt,{unsafe:!0}))),y({global:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Fe}),$(C(te),function(Q){se(Q)}),y({target:ye,stat:!0,forced:!a},{for:function(Q){var ne;return Q=String(Q),c(Re,Q)?Re[Q]:(ne=Fe(Q),Re[Q]=ne,Ce[ne]=Q,ne)},keyFor:function(Q){if(!ft(Q))throw TypeError(Q+" is not a symbol");if(c(Ce,Q))return Ce[Q]},useSetter:function(){qe=!0},useSimple:function(){qe=!1}}),y({target:"Object",stat:!0,forced:!a,sham:!r},{create:function(Q,ne){return ne===void 0?S(Q):i(S(Q),ne)},defineProperty:ot,defineProperties:i,getOwnPropertyDescriptor:l}),y({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:g,getOwnPropertySymbols:re}),y({target:"Object",stat:!0,forced:h(function(){F.f(1)})},{getOwnPropertySymbols:function(Q){return F.f(A(Q))}}),Oe&&y({target:"JSON",stat:!0,forced:!a||h(function(){var Q=Fe();return Oe([Q])!="[null]"||Oe({a:Q})!="{}"||Oe(Object(Q))!="{}"})},{stringify:function(Q,ne,ue){for(var we,Le=[Q],Ze=1;Ze<arguments.length;)Le.push(arguments[Ze++]);if((m(we=ne)||Q!==void 0)&&!ft(Q))return p(ne)||(ne=function(He,Te){if(typeof we=="function"&&(Te=we.call(this,He,Te)),!ft(Te))return Te}),Le[1]=ne,Oe.apply(null,Le)}}),Fe[_e][t]||Y(Fe[_e],t,Fe[_e].valueOf),ie(Fe,ye),oe[ce]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":134,"../internals/to-object":137,"../internals/to-primitive":140,"../internals/uid":145,"../internals/use-symbol-as-uid":146,"../internals/well-known-symbol":148,"../internals/well-known-symbol-wrapped":147}],203:[function(t,O,_){var f=t("../internals/array-buffer-view-core"),i=t("../internals/array-copy-within"),l=f.aTypedArray;(0,f.exportTypedArrayMethod)("copyWithin",function(g,y){return i.call(l(this),g,y,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],204:[function(t,O,_){var f=t("../internals/array-buffer-view-core"),i=t("../internals/array-iteration").every,l=f.aTypedArray;(0,f.exportTypedArrayMethod)("every",function(g){return i(l(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],205:[function(t,O,_){var f=t("../internals/array-buffer-view-core"),i=t("../internals/array-fill"),l=f.aTypedArray;(0,f.exportTypedArrayMethod)("fill",function(g){return i.apply(l(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],206:[function(t,O,_){var f=t("../internals/array-buffer-view-core"),i=t("../internals/array-iteration").filter,l=t("../internals/species-constructor"),g=f.aTypedArray,y=f.aTypedArrayConstructor;(0,f.exportTypedArrayMethod)("filter",function(n){for(var o=i(g(this),n,1<arguments.length?arguments[1]:void 0),s=(n=l(this,this.constructor),0),r=o.length,a=new(y(n))(r);s<r;)a[s]=o[s++];return a})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],207:[function(t,O,_){var f=t("../internals/array-buffer-view-core"),i=t("../internals/array-iteration").findIndex,l=f.aTypedArray;(0,f.exportTypedArrayMethod)("findIndex",function(g){return i(l(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],208:[function(t,O,_){var f=t("../internals/array-buffer-view-core"),i=t("../internals/array-iteration").find,l=f.aTypedArray;(0,f.exportTypedArrayMethod)("find",function(g){return i(l(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],209:[function(t,O,_){t("../internals/typed-array-constructor")("Float32",function(f){return function(i,l,g){return f(this,i,l,g)}})},{"../internals/typed-array-constructor":142}],210:[function(t,O,_){t("../internals/typed-array-constructor")("Float64",function(f){return function(i,l,g){return f(this,i,l,g)}})},{"../internals/typed-array-constructor":142}],211:[function(t,O,_){var f=t("../internals/array-buffer-view-core"),i=t("../internals/array-iteration").forEach,l=f.aTypedArray;(0,f.exportTypedArrayMethod)("forEach",function(g){i(l(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],212:[function(t,O,_){var f=t("../internals/array-buffer-view-core"),i=t("../internals/array-includes").includes,l=f.aTypedArray;(0,f.exportTypedArrayMethod)("includes",function(g){return i(l(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],213:[function(t,O,_){var f=t("../internals/array-buffer-view-core"),i=t("../internals/array-includes").indexOf,l=f.aTypedArray;(0,f.exportTypedArrayMethod)("indexOf",function(g){return i(l(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],214:[function(t,O,_){t("../internals/typed-array-constructor")("Int16",function(f){return function(i,l,g){return f(this,i,l,g)}})},{"../internals/typed-array-constructor":142}],215:[function(t,O,_){t("../internals/typed-array-constructor")("Int32",function(f){return function(i,l,g){return f(this,i,l,g)}})},{"../internals/typed-array-constructor":142}],216:[function(t,O,_){function f(){return y.call(s(this))}var i=t("../internals/global"),l=t("../internals/array-buffer-view-core"),g=t("../modules/es.array.iterator"),y=(t=t("../internals/well-known-symbol")("iterator"),i=i.Uint8Array,g.values),n=g.keys,o=g.entries,s=l.aTypedArray;g=l.exportTypedArrayMethod,i=!!(l=i&&i.prototype[t])&&(l.name=="values"||l.name==null),g("entries",function(){return o.call(s(this))}),g("keys",function(){return n.call(s(this))}),g("values",f,!i),g(t,f,!i)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],217:[function(t,O,_){var f=(t=t("../internals/array-buffer-view-core")).aTypedArray,i=(t=t.exportTypedArrayMethod,[].join);t("join",function(l){return i.apply(f(this),arguments)})},{"../internals/array-buffer-view-core":12}],218:[function(t,O,_){var f=t("../internals/array-buffer-view-core"),i=t("../internals/array-last-index-of"),l=f.aTypedArray;(0,f.exportTypedArrayMethod)("lastIndexOf",function(g){return i.apply(l(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],219:[function(t,O,_){var f=t("../internals/array-buffer-view-core"),i=t("../internals/array-iteration").map,l=t("../internals/species-constructor"),g=f.aTypedArray,y=f.aTypedArrayConstructor;(0,f.exportTypedArrayMethod)("map",function(n){return i(g(this),n,1<arguments.length?arguments[1]:void 0,function(o,s){return new(y(l(o,o.constructor)))(s)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],220:[function(t,O,_){var f=t("../internals/array-buffer-view-core"),i=t("../internals/array-reduce").right,l=f.aTypedArray;(0,f.exportTypedArrayMethod)("reduceRight",function(g){return i(l(this),g,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],221:[function(t,O,_){var f=t("../internals/array-buffer-view-core"),i=t("../internals/array-reduce").left,l=f.aTypedArray;(0,f.exportTypedArrayMethod)("reduce",function(g){return i(l(this),g,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],222:[function(t,O,_){var f=(t=t("../internals/array-buffer-view-core")).aTypedArray,i=(t=t.exportTypedArrayMethod,Math.floor);t("reverse",function(){for(var l,g=f(this).length,y=i(g/2),n=0;n<y;)l=this[n],this[n++]=this[--g],this[g]=l;return this})},{"../internals/array-buffer-view-core":12}],223:[function(t,O,_){var f=t("../internals/array-buffer-view-core"),i=t("../internals/to-length"),l=t("../internals/to-offset"),g=t("../internals/to-object"),y=(t=t("../internals/fails"),f.aTypedArray);(0,f.exportTypedArrayMethod)("set",function(n){y(this);var o=l(1<arguments.length?arguments[1]:void 0,1),s=this.length,r=g(n),a=i(r.length),d=0;if(s<a+o)throw RangeError("Wrong length");for(;d<a;)this[o+d]=r[d++]},t(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":136,"../internals/to-object":137,"../internals/to-offset":138}],224:[function(t,O,_){var f=t("../internals/array-buffer-view-core"),i=t("../internals/species-constructor"),l=(t=t("../internals/fails"),f.aTypedArray),g=f.aTypedArrayConstructor,y=(f=f.exportTypedArrayMethod,[].slice);f("slice",function(n,o){for(var s=y.call(l(this),n,o),r=(n=i(this,this.constructor),0),a=s.length,d=new(g(n))(a);r<a;)d[r]=s[r++];return d},t(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":121}],225:[function(t,O,_){var f=t("../internals/array-buffer-view-core"),i=t("../internals/array-iteration").some,l=f.aTypedArray;(0,f.exportTypedArrayMethod)("some",function(g){return i(l(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],226:[function(t,O,_){var f=(t=t("../internals/array-buffer-view-core")).aTypedArray,i=(t=t.exportTypedArrayMethod,[].sort);t("sort",function(l){return i.call(f(this),l)})},{"../internals/array-buffer-view-core":12}],227:[function(t,O,_){var f=t("../internals/array-buffer-view-core"),i=t("../internals/to-length"),l=t("../internals/to-absolute-index"),g=t("../internals/species-constructor"),y=f.aTypedArray;(0,f.exportTypedArrayMethod)("subarray",function(n,o){var s=y(this),r=s.length;return n=l(n,r),new(g(s,s.constructor))(s.buffer,s.byteOffset+n*s.BYTES_PER_ELEMENT,i((o===void 0?r:l(o,r))-n))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":132,"../internals/to-length":136}],228:[function(t,O,_){var f=t("../internals/global"),i=t("../internals/array-buffer-view-core"),l=(t=t("../internals/fails"),f.Int8Array),g=i.aTypedArray,y=(f=i.exportTypedArrayMethod,[].toLocaleString),n=[].slice,o=!!l&&t(function(){y.call(new l(1))});f("toLocaleString",function(){return y.apply(o?n.call(g(this)):g(this),arguments)},t(function(){return[1,2].toLocaleString()!=new l([1,2]).toLocaleString()})||!t(function(){l.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],229:[function(t,O,_){var f=t("../internals/array-buffer-view-core").exportTypedArrayMethod,i=t("../internals/fails"),l=(t=(t=t("../internals/global").Uint8Array)&&t.prototype||{},[].toString),g=[].join;i(function(){l.call({})})&&(l=function(){return g.call(this)}),i=t.toString!=l,f("toString",l,i)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],230:[function(t,O,_){t("../internals/typed-array-constructor")("Uint16",function(f){return function(i,l,g){return f(this,i,l,g)}})},{"../internals/typed-array-constructor":142}],231:[function(t,O,_){t("../internals/typed-array-constructor")("Uint32",function(f){return function(i,l,g){return f(this,i,l,g)}})},{"../internals/typed-array-constructor":142}],232:[function(t,O,_){t("../internals/typed-array-constructor")("Uint8",function(f){return function(i,l,g){return f(this,i,l,g)}})},{"../internals/typed-array-constructor":142}],233:[function(t,O,_){t("../internals/typed-array-constructor")("Uint8",function(f){return function(i,l,g){return f(this,i,l,g)}},!0)},{"../internals/typed-array-constructor":142}],234:[function(t,O,_){function f(m){return function(){return m(this,arguments.length?arguments[0]:void 0)}}var i,l,g,y,n,o=t("../internals/global"),s=t("../internals/redefine-all"),r=t("../internals/internal-metadata"),a=t("../internals/collection"),d=t("../internals/collection-weak"),h=t("../internals/is-object"),c=t("../internals/internal-state").enforce,p=(t=t("../internals/native-weak-map"),o=!o.ActiveXObject&&"ActiveXObject"in o,Object.isExtensible);O=O.exports=a("WeakMap",f,d),t&&o&&(i=d.getConstructor(f,"WeakMap",!0),r.REQUIRED=!0,a=O.prototype,l=a.delete,g=a.has,y=a.get,n=a.set,s(a,{delete:function(m){var b;return h(m)&&!p(m)?((b=c(this)).frozen||(b.frozen=new i),l.call(this,m)||b.frozen.delete(m)):l.call(this,m)},has:function(m){var b;return h(m)&&!p(m)?((b=c(this)).frozen||(b.frozen=new i),g.call(this,m)||b.frozen.has(m)):g.call(this,m)},get:function(m){var b;return!h(m)||p(m)||((b=c(this)).frozen||(b.frozen=new i),g.call(this,m))?y.call(this,m):b.frozen.get(m)},set:function(m,b){var A;return!h(m)||p(m)||((A=c(this)).frozen||(A.frozen=new i),g.call(this,m))?n.call(this,m,b):A.frozen.set(m,b),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":59,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/redefine-all":107}],235:[function(t,O,_){var f,i=t("../internals/global"),l=t("../internals/dom-iterables"),g=t("../internals/array-for-each"),y=t("../internals/create-non-enumerable-property");for(f in l){var n;if((n=(n=i[f])&&n.prototype)&&n.forEach!==g)try{y(n,"forEach",g)}catch{n.forEach=g}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59}],236:[function(t,O,_){var f,i=t("../internals/global"),l=t("../internals/dom-iterables"),g=t("../modules/es.array.iterator"),y=t("../internals/create-non-enumerable-property"),n=(t=t("../internals/well-known-symbol"))("iterator"),o=t("toStringTag"),s=g.values;for(f in l){var r=i[f],a=r&&r.prototype;if(a){if(a[n]!==s)try{y(a,n,s)}catch{a[n]=s}if(a[o]||y(a,o,f),l[f]){for(var d in g)if(a[d]!==g[d])try{y(a,d,g[d])}catch{a[d]=g[d]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],237:[function(t,O,_){function f(le){try{return decodeURIComponent(le)}catch{return le}}function i(le){return K[le]}function l(le){return encodeURIComponent(le).replace(q,i)}function g(le){this.entries.length=0,se(this.entries,le)}function y(le,$){if(le<$)throw TypeError("Not enough arguments")}function n(){m(this,n,L);var le,$,ce,ye,_e,he,ve,Ee,Fe=0<arguments.length?arguments[0]:void 0,Oe=[];if(Y(this,{type:L,entries:Oe,updateURL:function(){},updateSearchParams:g}),Fe!==void 0)if(R(Fe))if(typeof(le=N(Fe))=="function")for(ce=($=le.call(Fe)).next;!(ye=ce.call($)).done;){if((he=(_e=(ye=D(x(ye.value))).next).call(ye)).done||(ve=_e.call(ye)).done||!_e.call(ye).done)throw TypeError("Expected sequence with length 2");Oe.push({key:he.value+"",value:ve.value+""})}else for(Ee in Fe)b(Fe,Ee)&&Oe.push({key:Ee,value:Fe[Ee]+""});else se(Oe,typeof Fe=="string"?Fe.charAt(0)==="?"?Fe.slice(1):Fe:Fe+"")}t("../modules/es.array.iterator");var o=t("../internals/export"),s=t("../internals/get-built-in"),r=t("../internals/native-url"),a=t("../internals/redefine"),d=t("../internals/redefine-all"),h=t("../internals/set-to-string-tag"),c=t("../internals/create-iterator-constructor"),p=t("../internals/internal-state"),m=t("../internals/an-instance"),b=t("../internals/has"),A=t("../internals/function-bind-context"),T=t("../internals/classof"),x=t("../internals/an-object"),R=t("../internals/is-object"),S=t("../internals/object-create"),C=t("../internals/create-property-descriptor"),D=t("../internals/get-iterator"),N=t("../internals/get-iterator-method"),F=(t=t("../internals/well-known-symbol"),s("fetch")),M=s("Headers"),L=(s=t("iterator"),"URLSearchParams"),z=L+"Iterator",Y=p.set,Z=p.getterFor(L),ee=p.getterFor(z),te=/\+/g,oe=Array(4),U=function(le){var $,ce=le.replace(te," "),ye=4;try{return decodeURIComponent(ce)}catch{for(;ye;)ce=ce.replace(($=ye--,oe[$-1]||(oe[$-1]=RegExp("((?:%[\\da-f]{2}){"+$+"})","gi"))),f);return ce}},q=/[!'()~]|%20/g,K={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},se=function(le,$){if($)for(var ce,ye=$.split("&"),_e=0;_e<ye.length;)(ce=ye[_e++]).length&&(ce=ce.split("="),le.push({key:U(ce.shift()),value:U(ce.join("="))}))},ie=c(function(le,$){Y(this,{type:z,iterator:D(Z(le).entries),kind:$})},"Iterator",function(){var le,$=(le=ee(this)).kind,ce=(le=le.iterator.next()).value;return le.done||(le.value=$==="keys"?ce.key:$==="values"?ce.value:[ce.key,ce.value]),le});d(t=n.prototype,{append:function(le,$){y(arguments.length,2);var ce=Z(this);ce.entries.push({key:le+"",value:$+""}),ce.updateURL()},delete:function(le){y(arguments.length,1);for(var $=Z(this),ce=$.entries,ye=le+"",_e=0;_e<ce.length;)ce[_e].key===ye?ce.splice(_e,1):_e++;$.updateURL()},get:function(le){y(arguments.length,1);for(var $=Z(this).entries,ce=le+"",ye=0;ye<$.length;ye++)if($[ye].key===ce)return $[ye].value;return null},getAll:function(le){y(arguments.length,1);for(var $=Z(this).entries,ce=le+"",ye=[],_e=0;_e<$.length;_e++)$[_e].key===ce&&ye.push($[_e].value);return ye},has:function(le){y(arguments.length,1);for(var $=Z(this).entries,ce=le+"",ye=0;ye<$.length;)if($[ye++].key===ce)return!0;return!1},set:function(le,$){y(arguments.length,1);for(var ce,ye=Z(this),_e=ye.entries,he=!1,ve=le+"",Ee=$+"",Fe=0;Fe<_e.length;Fe++)(ce=_e[Fe]).key===ve&&(he?_e.splice(Fe--,1):(he=!0,ce.value=Ee));he||_e.push({key:ve,value:Ee}),ye.updateURL()},sort:function(){for(var le,$,ce=Z(this),ye=ce.entries,_e=ye.slice(),he=ye.length=0;he<_e.length;he++){for(le=_e[he],$=0;$<he;$++)if(ye[$].key>le.key){ye.splice($,0,le);break}$===he&&ye.push(le)}ce.updateURL()},forEach:function(le){for(var $,ce=Z(this).entries,ye=A(le,1<arguments.length?arguments[1]:void 0,3),_e=0;_e<ce.length;)ye(($=ce[_e++]).value,$.key,this)},keys:function(){return new ie(this,"keys")},values:function(){return new ie(this,"values")},entries:function(){return new ie(this,"entries")}},{enumerable:!0}),a(t,s,t.entries),a(t,"toString",function(){for(var le,$=Z(this).entries,ce=[],ye=0;ye<$.length;)le=$[ye++],ce.push(l(le.key)+"="+l(le.value));return ce.join("&")},{enumerable:!0}),h(n,L),o({global:!0,forced:!r},{URLSearchParams:n}),r||typeof F!="function"||typeof M!="function"||o({global:!0,enumerable:!0,forced:!0},{fetch:function(le){var $,ce,ye;return le=[le],1<arguments.length&&(R($=arguments[1])&&(ce=$.body,T(ce)===L&&((ye=$.headers?new M($.headers):new M).has("content-type")||ye.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),$=S($,{body:C(0,String(ce)),headers:C(0,ye)}))),le.push($)),F.apply(this,le)}}),O.exports={URLSearchParams:n,getState:Z}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],238:[function(t,O,_){function f(ge){var Ke,ut,Ye,Et;if(typeof ge=="number"){for(Ke=[],ut=0;ut<4;ut++)Ke.unshift(ge%256),ge=z(ge/256);return Ke.join(".")}if(typeof ge!="object")return ge;for(Ke="",Ye=Ee(ge),ut=0;ut<8;ut++)Et&&ge[ut]===0||(Et=Et&&!1,Ye===ut?(Ke+=ut?":":"::",Et=!0):(Ke+=ge[ut].toString(16),ut<7&&(Ke+=":")));return"["+Ke+"]"}function i(ge){return!ge.host||ge.cannotBeABaseURL||ge.scheme=="file"}function l(ge,Ke,ut,Ye){var Et,ze,It,ct=ut||ot,xt=0,lt="",er=!1,$t=!1,fr=!1;for(ut||(ge.scheme="",ge.username="",ge.password="",ge.host=null,ge.port=null,ge.path=[],ge.query=null,ge.fragment=null,ge.cannotBeABaseURL=!1,Ke=Ke.replace(_e,"")),Ke=Ke.replace(he,""),Et=T(Ke);xt<=Et.length;){switch(ze=Et[xt],ct){case ot:if(!ze||!U.test(ze)){if(ut)return ee;ct=re;continue}lt+=ze.toLowerCase(),ct=rt;break;case rt:if(ze&&(q.test(ze)||ze=="+"||ze=="-"||ze=="."))lt+=ze.toLowerCase();else{if(ze!=":"){if(ut)return ee;lt="",ct=re,xt=0;continue}if(ut&&(tt(ge)!=b(mt,lt)||lt=="file"&&(de(ge)||ge.port!==null)||ge.scheme=="file"&&!ge.host))return;if(ge.scheme=lt,ut)return void(tt(ge)&&mt[ge.scheme]==ge.port&&(ge.port=null));lt="",ge.scheme=="file"?ct=_t:tt(ge)&&Ye&&Ye.scheme==ge.scheme?ct=Q:tt(ge)?ct=Le:Et[xt+1]=="/"?(ct=ne,xt++):(ge.cannotBeABaseURL=!0,ge.path.push(""),ct=Mt)}break;case re:if(!Ye||Ye.cannotBeABaseURL&&ze!="#")return ee;if(Ye.cannotBeABaseURL&&ze=="#"){ge.scheme=Ye.scheme,ge.path=Ye.path.slice(),ge.query=Ye.query,ge.fragment="",ge.cannotBeABaseURL=!0,ct=Zt;break}ct=Ye.scheme=="file"?_t:ue;continue;case Q:if(ze!="/"||Et[xt+1]!="/"){ct=ue;continue}ct=Ze,xt++;break;case ne:if(ze=="/"){ct=He;break}ct=yt;continue;case ue:if(ge.scheme=Ye.scheme,ze==n)ge.username=Ye.username,ge.password=Ye.password,ge.host=Ye.host,ge.port=Ye.port,ge.path=Ye.path.slice(),ge.query=Ye.query;else if(ze=="/"||ze=="\\"&&tt(ge))ct=we;else if(ze=="?")ge.username=Ye.username,ge.password=Ye.password,ge.host=Ye.host,ge.port=Ye.port,ge.path=Ye.path.slice(),ge.query="",ct=Lt;else{if(ze!="#"){ge.username=Ye.username,ge.password=Ye.password,ge.host=Ye.host,ge.port=Ye.port,ge.path=Ye.path.slice(),ge.path.pop(),ct=yt;continue}ge.username=Ye.username,ge.password=Ye.password,ge.host=Ye.host,ge.port=Ye.port,ge.path=Ye.path.slice(),ge.query=Ye.query,ge.fragment="",ct=Zt}break;case we:if(!tt(ge)||ze!="/"&&ze!="\\"){if(ze!="/"){ge.username=Ye.username,ge.password=Ye.password,ge.host=Ye.host,ge.port=Ye.port,ct=yt;continue}ct=He}else ct=Ze;break;case Le:if(ct=Ze,ze!="/"||lt.charAt(xt+1)!="/")continue;xt++;break;case Ze:if(ze=="/"||ze=="\\")break;ct=He;continue;case He:if(ze=="@"){er&&(lt="%40"+lt),er=!0;for(var qt=T(lt),Wt=0;Wt<qt.length;Wt++){var nr=qt[Wt];nr!=":"||fr?(nr=Je(nr,$e),fr?ge.password+=nr:ge.username+=nr):fr=!0}lt=""}else if(ze==n||ze=="/"||ze=="?"||ze=="#"||ze=="\\"&&tt(ge)){if(er&&lt=="")return Z;xt-=T(lt).length+1,lt="",ct=Te}else lt+=ze;break;case Te:case Qe:if(ut&&ge.scheme=="file"){ct=gt;continue}if(ze!=":"||$t){if(ze==n||ze=="/"||ze=="?"||ze=="#"||ze=="\\"&&tt(ge)){if(tt(ge)&&lt=="")return te;if(ut&&lt==""&&(de(ge)||ge.port!==null))return;if(It=ve(ge,lt))return It;if(lt="",ct=vt,ut)return;continue}ze=="["?$t=!0:ze=="]"&&($t=!1),lt+=ze}else{if(lt=="")return te;if(It=ve(ge,lt))return It;if(lt="",ct=st,ut==Qe)return}break;case st:if(!K.test(ze)){if(ze==n||ze=="/"||ze=="?"||ze=="#"||ze=="\\"&&tt(ge)||ut){if(lt!=""){var ir=parseInt(lt,10);if(65535<ir)return oe;ge.port=tt(ge)&&ir===mt[ge.scheme]?null:ir,lt=""}if(ut)return;ct=vt;continue}return oe}lt+=ze;break;case _t:if(ge.scheme="file",ze=="/"||ze=="\\")ct=Tt;else{if(!Ye||Ye.scheme!="file"){ct=yt;continue}if(ze==n)ge.host=Ye.host,ge.path=Ye.path.slice(),ge.query=Ye.query;else if(ze=="?")ge.host=Ye.host,ge.path=Ye.path.slice(),ge.query="",ct=Lt;else{if(ze!="#"){Ce(Et.slice(xt).join(""))||(ge.host=Ye.host,ge.path=Ye.path.slice(),qe(ge)),ct=yt;continue}ge.host=Ye.host,ge.path=Ye.path.slice(),ge.query=Ye.query,ge.fragment="",ct=Zt}}break;case Tt:if(ze=="/"||ze=="\\"){ct=gt;break}Ye&&Ye.scheme=="file"&&!Ce(Et.slice(xt).join(""))&&(Re(Ye.path[0],!0)?ge.path.push(Ye.path[0]):ge.host=Ye.host),ct=yt;continue;case gt:if(ze==n||ze=="/"||ze=="\\"||ze=="?"||ze=="#"){if(!ut&&Re(lt))ct=yt;else{if(lt==""){if(ge.host="",ut)return}else{if(It=ve(ge,lt))return It;if(ge.host=="localhost"&&(ge.host=""),ut)return;lt=""}ct=vt}continue}lt+=ze;break;case vt:if(tt(ge)){if(ct=yt,ze!="/"&&ze!="\\")continue}else if(ut||ze!="?")if(ut||ze!="#"){if(ze!=n&&(ct=yt,ze!="/"))continue}else ge.fragment="",ct=Zt;else ge.query="",ct=Lt;break;case yt:if(ze==n||ze=="/"||ze=="\\"&&tt(ge)||!ut&&(ze=="?"||ze=="#")){if(ft(lt)?(qe(ge),ze=="/"||ze=="\\"&&tt(ge)||ge.path.push("")):et(lt)?ze=="/"||ze=="\\"&&tt(ge)||ge.path.push(""):(ge.scheme=="file"&&!ge.path.length&&Re(lt)&&(ge.host&&(ge.host=""),lt=lt.charAt(0)+":"),ge.path.push(lt)),lt="",ge.scheme=="file"&&(ze==n||ze=="?"||ze=="#"))for(;1<ge.path.length&&ge.path[0]==="";)ge.path.shift();ze=="?"?(ge.query="",ct=Lt):ze=="#"&&(ge.fragment="",ct=Zt)}else lt+=Je(ze,Ge);break;case Mt:ze=="?"?(ge.query="",ct=Lt):ze=="#"?(ge.fragment="",ct=Zt):ze!=n&&(ge.path[0]+=Je(ze,Fe));break;case Lt:ut||ze!="#"?ze!=n&&(ze=="'"&&tt(ge)?ge.query+="%27":ge.query+=ze=="#"?"%23":Je(ze,Fe)):(ge.fragment="",ct=Zt);break;case Zt:ze!=n&&(ge.fragment+=Je(ze,Oe))}xt++}}function g(ge){var Ke,ut,Ye=m(this,g,"URL"),Et=1<arguments.length?arguments[1]:void 0,ze=(ge=String(ge),M(Ye,{type:"URL"}));if(Et!==void 0){if(Et instanceof g)Ke=L(Et);else if(ut=l(Ke={},String(Et)))throw TypeError(ut)}if(ut=l(ze,ge,null,Ke))throw TypeError(ut);var It=ze.searchParams=new N;(Et=F(It)).updateSearchParams(ze.query),Et.updateURL=function(){ze.query=String(It)||null},a||(Ye.href=Pt.call(Ye),Ye.origin=zt.call(Ye),Ye.protocol=tr.call(Ye),Ye.username=kt.call(Ye),Ye.password=rr.call(Ye),Ye.host=Kt.call(Ye),Ye.hostname=Dt.call(Ye),Ye.port=Mr.call(Ye),Ye.pathname=Ar.call(Ye),Ye.search=Rr.call(Ye),Ye.searchParams=Lr.call(Ye),Ye.hash=Zr.call(Ye))}function y(ge,Ke){return{get:ge,set:Ke,configurable:!0,enumerable:!0}}t("../modules/es.string.iterator");var n,o,s,r=t("../internals/export"),a=t("../internals/descriptors"),d=t("../internals/native-url"),h=t("../internals/global"),c=t("../internals/object-define-properties"),p=t("../internals/redefine"),m=t("../internals/an-instance"),b=t("../internals/has"),A=t("../internals/object-assign"),T=t("../internals/array-from"),x=t("../internals/string-multibyte").codeAt,R=t("../internals/string-punycode-to-ascii"),S=t("../internals/set-to-string-tag"),C=t("../modules/web.url-search-params"),D=(t=t("../internals/internal-state"),h.URL),N=C.URLSearchParams,F=C.getState,M=t.set,L=t.getterFor("URL"),z=Math.floor,Y=Math.pow,Z="Invalid authority",ee="Invalid scheme",te="Invalid host",oe="Invalid port",U=/[A-Za-z]/,q=/[\d+-.A-Za-z]/,K=/\d/,se=/^(0x|0X)/,ie=/^[0-7]+$/,le=/^\d+$/,$=/^[\dA-Fa-f]+$/,ce=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,ye=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,_e=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,he=/[\u0009\u000A\u000D]/g,ve=function(ge,Ke){var ut,Ye,Et;if(Ke.charAt(0)=="[")return Ke.charAt(Ke.length-1)=="]"&&(ut=function(ze){var It,ct,xt,lt,er,$t,fr,qt=[0,0,0,0,0,0,0,0],Wt=0,nr=null,ir=0,or=function(){return ze.charAt(ir)};if(or()==":"){if(ze.charAt(1)!=":")return;ir+=2,nr=++Wt}for(;or();){if(Wt==8)return;if(or()!=":"){for(It=ct=0;ct<4&&$.test(or());)It=16*It+parseInt(or(),16),ir++,ct++;if(or()=="."){if(ct==0||(ir-=ct,Wt>6))return;for(xt=0;or();){if(lt=null,xt>0){if(!(or()=="."&&xt<4))return;ir++}if(!K.test(or()))return;for(;K.test(or());){if(er=parseInt(or(),10),lt===null)lt=er;else{if(lt==0)return;lt=10*lt+er}if(lt>255)return;ir++}qt[Wt]=256*qt[Wt]+lt,++xt!=2&&xt!=4||Wt++}if(xt!=4)return;break}if(or()==":"){if(ir++,!or())return}else if(or())return;qt[Wt++]=It}else{if(nr!==null)return;ir++,nr=++Wt}}if(nr!==null)for($t=Wt-nr,Wt=7;Wt!=0&&$t>0;)fr=qt[Wt],qt[Wt--]=qt[nr+$t-1],qt[nr+--$t]=fr;else if(Wt!=8)return;return qt}(Ke.slice(1,-1)))?void(ge.host=ut):te;if(tt(ge))return Ke=R(Ke),ce.test(Ke)||(ut=function(ze){var It,ct,xt,lt,er,$t,fr,qt=ze.split(".");if(qt.length&&qt[qt.length-1]==""&&qt.pop(),(It=qt.length)>4)return ze;for(ct=[],xt=0;xt<It;xt++){if((lt=qt[xt])=="")return ze;if(er=10,lt.length>1&&lt.charAt(0)=="0"&&(er=se.test(lt)?16:8,lt=lt.slice(er==8?1:2)),lt==="")$t=0;else{if(!(er==10?le:er==8?ie:$).test(lt))return ze;$t=parseInt(lt,er)}ct.push($t)}for(xt=0;xt<It;xt++)if($t=ct[xt],xt==It-1){if($t>=Y(256,5-It))return null}else if($t>255)return null;for(fr=ct.pop(),xt=0;xt<ct.length;xt++)fr+=ct[xt]*Y(256,3-xt);return fr}(Ke))===null?te:void(ge.host=ut);if(ye.test(Ke))return te;for(ut="",Ye=T(Ke),Et=0;Et<Ye.length;Et++)ut+=Je(Ye[Et],Fe);ge.host=ut},Ee=function(ge){for(var Ke=null,ut=1,Ye=null,Et=0,ze=0;ze<8;ze++)ge[ze]!==0?(ut<Et&&(Ke=Ye,ut=Et),Ye=null,Et=0):(Ye===null&&(Ye=ze),++Et);return ut<Et&&(Ke=Ye,ut=Et),Ke},Fe={},Oe=A({},Fe,{" ":1,'"':1,"<":1,">":1,"`":1}),Ge=A({},Oe,{"#":1,"?":1,"{":1,"}":1}),$e=A({},Ge,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Je=function(ge,Ke){var ut=x(ge,0);return 32<ut&&ut<127&&!b(Ke,ge)?ge:encodeURIComponent(ge)},mt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},tt=function(ge){return b(mt,ge.scheme)},de=function(ge){return ge.username!=""||ge.password!=""},Re=function(ge,Ke){return ge.length==2&&U.test(ge.charAt(0))&&((ge=ge.charAt(1))==":"||!Ke&&ge=="|")},Ce=function(ge){return 1<ge.length&&Re(ge.slice(0,2))&&(ge.length==2||(ge=ge.charAt(2))==="/"||ge==="\\"||ge==="?"||ge==="#")},qe=function(ge){var Ke=ge.path,ut=Ke.length;!ut||ge.scheme=="file"&&ut==1&&Re(Ke[0],!0)||Ke.pop()},et=function(ge){return ge==="."||ge.toLowerCase()==="%2e"},ft=function(ge){return(ge=ge.toLowerCase())===".."||ge==="%2e."||ge===".%2e"||ge==="%2e%2e"},ot={},rt={},re={},Q={},ne={},ue={},we={},Le={},Ze={},He={},Te={},Qe={},st={},_t={},Tt={},gt={},vt={},yt={},Mt={},Lt={},Zt={},Pt=(h=g.prototype,function(){var ge=L(this),Ke=ge.scheme,ut=ge.username,Ye=ge.password,Et=ge.host,ze=ge.port,It=ge.path,ct=ge.query,xt=ge.fragment,lt=Ke+":";return Et!==null?(lt+="//",de(ge)&&(lt+=ut+(Ye?":"+Ye:"")+"@"),lt+=f(Et),ze!==null&&(lt+=":"+ze)):Ke=="file"&&(lt+="//"),lt+=ge.cannotBeABaseURL?It[0]:It.length?"/"+It.join("/"):"",ct!==null&&(lt+="?"+ct),xt!==null&&(lt+="#"+xt),lt}),zt=function(){var ge=L(this),Ke=ge.scheme,ut=ge.port;if(Ke=="blob")try{return new URL(Ke.path[0]).origin}catch{return"null"}return Ke!="file"&&tt(ge)?Ke+"://"+f(ge.host)+(ut!==null?":"+ut:""):"null"},tr=function(){return L(this).scheme+":"},kt=function(){return L(this).username},rr=function(){return L(this).password},Kt=function(){var ge=(Ke=L(this)).host,Ke=Ke.port;return ge===null?"":Ke===null?f(ge):f(ge)+":"+Ke},Dt=function(){var ge=L(this).host;return ge===null?"":f(ge)},Mr=function(){var ge=L(this).port;return ge===null?"":String(ge)},Ar=function(){var ge=L(this),Ke=ge.path;return ge.cannotBeABaseURL?Ke[0]:Ke.length?"/"+Ke.join("/"):""},Rr=function(){var ge=L(this).query;return ge?"?"+ge:""},Lr=function(){return L(this).searchParams},Zr=function(){var ge=L(this).fragment;return ge?"#"+ge:""};a&&c(h,{href:y(Pt,function(ge){var Ke=L(this);if(ge=l(Ke,ge=String(ge)))throw TypeError(ge);F(Ke.searchParams).updateSearchParams(Ke.query)}),origin:y(zt),protocol:y(tr,function(ge){l(L(this),String(ge)+":",ot)}),username:y(kt,function(ge){var Ke=L(this),ut=T(String(ge));if(!i(Ke)){Ke.username="";for(var Ye=0;Ye<ut.length;Ye++)Ke.username+=Je(ut[Ye],$e)}}),password:y(rr,function(ge){var Ke=L(this),ut=T(String(ge));if(!i(Ke)){Ke.password="";for(var Ye=0;Ye<ut.length;Ye++)Ke.password+=Je(ut[Ye],$e)}}),host:y(Kt,function(ge){var Ke=L(this);Ke.cannotBeABaseURL||l(Ke,String(ge),Te)}),hostname:y(Dt,function(ge){var Ke=L(this);Ke.cannotBeABaseURL||l(Ke,String(ge),Qe)}),port:y(Mr,function(ge){var Ke=L(this);i(Ke)||((ge=String(ge))==""?Ke.port=null:l(Ke,ge,st))}),pathname:y(Ar,function(ge){var Ke=L(this);Ke.cannotBeABaseURL||(Ke.path=[],l(Ke,ge+"",vt))}),search:y(Rr,function(ge){var Ke=L(this);(ge=String(ge))==""?Ke.query=null:(ge.charAt(0)=="?"&&(ge=ge.slice(1)),Ke.query="",l(Ke,ge,Lt)),F(Ke.searchParams).updateSearchParams(Ke.query)}),searchParams:y(Lr),hash:y(Zr,function(ge){var Ke=L(this);(ge=String(ge))==""?Ke.fragment=null:(ge.charAt(0)=="#"&&(ge=ge.slice(1)),Ke.fragment="",l(Ke,ge,Zt))})}),p(h,"toJSON",function(){return Pt.call(this)},{enumerable:!0}),p(h,"toString",function(){return Pt.call(this)},{enumerable:!0}),D&&(o=D.createObjectURL,s=D.revokeObjectURL,o&&p(g,"createObjectURL",function(ge){return o.apply(D,arguments)}),s&&p(g,"revokeObjectURL",function(ge){return s.apply(D,arguments)})),S(g,"URL"),r({global:!0,forced:!d,sham:!a},{URL:g})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":126,"../modules/es.string.iterator":190,"../modules/web.url-search-params":237}],239:[function(t,O,_){O.exports=t("./").polyfill()},{"./":240}],240:[function(t,O,_){(function(f,i){var l;l=function(){function g($){return typeof $=="function"}var y=Array.isArray||function($){return Object.prototype.toString.call($)==="[object Array]"},n=0,o=void 0,s=void 0,r=function($,ce){m[n]=$,m[n+1]=ce,(n+=2)===2&&(s?s(b):R())},a=typeof window<"u"?window:void 0,d=(d=a||{}).MutationObserver||d.WebKitMutationObserver,h=typeof self>"u"&&f!==void 0&&{}.toString.call(f)==="[object process]",c=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function p(){var $=setTimeout;return function(){return $(b,1)}}var m=new Array(1e3);function b(){for(var $=0;$<n;$+=2)(0,m[$])(m[$+1]),m[$]=void 0,m[$+1]=void 0;n=0}var A,T,x,R=void 0;function S($,ce){var ye,_e=this,he=new this.constructor(N),ve=(he[D]===void 0&&q(he),_e._state);return ve?(ye=arguments[ve-1],r(function(){return oe(ve,he,ye,_e._result)})):ee(_e,he,$,ce),he}function C($){var ce;return $&&typeof $=="object"&&$.constructor===this?$:(L(ce=new this(N),$),ce)}R=h?function(){return f.nextTick(b)}:d?(T=0,h=new d(b),x=document.createTextNode(""),h.observe(x,{characterData:!0}),function(){x.data=T=++T%2}):c?((A=new MessageChannel).port1.onmessage=b,function(){return A.port2.postMessage(0)}):(a===void 0&&typeof t=="function"?function(){try{var $=Function("return this")().require("vertx");return(o=$.runOnLoop||$.runOnContext)!==void 0?function(){o(b)}:p()}catch{return p()}}:p)();var D=Math.random().toString(36).substring(2);function N(){}var F=void 0;function M($,ce,ye){var _e,he;ce.constructor===$.constructor&&ye===S&&ce.constructor.resolve===C?(_e=$,(he=ce)._state===1?Y(_e,he._result):he._state===2?Z(_e,he._result):ee(he,void 0,function(ve){return L(_e,ve)},function(ve){return Z(_e,ve)})):ye!==void 0&&g(ye)?function(ve,Ee,Fe){r(function(Oe){var Ge=!1,$e=function(Je,mt,tt,de){try{Je.call(mt,tt,de)}catch(Re){return Re}}(Fe,Ee,function(Je){Ge||(Ge=!0,(Ee!==Je?L:Y)(Oe,Je))},function(Je){Ge||(Ge=!0,Z(Oe,Je))},Oe._label);!Ge&&$e&&(Ge=!0,Z(Oe,$e))},ve)}($,ce,ye):Y($,ce)}function L($,ce){if($===ce)Z($,new TypeError("You cannot resolve a promise with itself"));else if(ye=typeof ce,ce===null||ye!="object"&&ye!="function")Y($,ce);else{ye=void 0;try{ye=ce.then}catch(_e){return void Z($,_e)}M($,ce,ye)}var ye}function z($){$._onerror&&$._onerror($._result),te($)}function Y($,ce){$._state===F&&($._result=ce,$._state=1,$._subscribers.length!==0&&r(te,$))}function Z($,ce){$._state===F&&($._state=2,$._result=ce,r(z,$))}function ee($,ce,ye,_e){var he=$._subscribers,ve=he.length;$._onerror=null,he[ve]=ce,he[ve+1]=ye,he[ve+2]=_e,ve===0&&$._state&&r(te,$)}function te($){var ce=$._subscribers,ye=$._state;if(ce.length!==0){for(var _e,he=void 0,ve=$._result,Ee=0;Ee<ce.length;Ee+=3)_e=ce[Ee],he=ce[Ee+ye],_e?oe(ye,_e,he,ve):he(ve);$._subscribers.length=0}}function oe($,ce,ye,_e){var he=g(ye),ve=void 0,Ee=void 0,Fe=!0;if(he){try{ve=ye(_e)}catch(Oe){Fe=!1,Ee=Oe}if(ce===ve)return void Z(ce,new TypeError("A promises callback cannot return that same promise."))}else ve=_e;ce._state===F&&(he&&Fe?L(ce,ve):Fe===!1?Z(ce,Ee):$===1?Y(ce,ve):$===2&&Z(ce,ve))}var U=0;function q($){$[D]=U++,$._state=void 0,$._result=void 0,$._subscribers=[]}se.prototype._enumerate=function($){for(var ce=0;this._state===F&&ce<$.length;ce++)this._eachEntry($[ce],ce)},se.prototype._eachEntry=function($,ce){var ye=this._instanceConstructor,_e=ye.resolve;if(_e===C){var he,ve=void 0,Ee=void 0,Fe=!1;try{ve=$.then}catch(Oe){Fe=!0,Ee=Oe}ve===S&&$._state!==F?this._settledAt($._state,ce,$._result):typeof ve!="function"?(this._remaining--,this._result[ce]=$):ye===ie?(he=new ye(N),Fe?Z(he,Ee):M(he,$,ve),this._willSettleAt(he,ce)):this._willSettleAt(new ye(function(Oe){return Oe($)}),ce)}else this._willSettleAt(_e($),ce)},se.prototype._settledAt=function($,ce,ye){var _e=this.promise;_e._state===F&&(this._remaining--,$===2?Z(_e,ye):this._result[ce]=ye),this._remaining===0&&Y(_e,this._result)},se.prototype._willSettleAt=function($,ce){var ye=this;ee($,void 0,function(_e){return ye._settledAt(1,ce,_e)},function(_e){return ye._settledAt(2,ce,_e)})};var K=se;function se($,ce){this._instanceConstructor=$,this.promise=new $(N),this.promise[D]||q(this.promise),y(ce)?(this.length=ce.length,this._remaining=ce.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(ce),this._remaining!==0)||Y(this.promise,this._result)):Z(this.promise,new Error("Array Methods must be provided an Array"))}le.prototype.catch=function($){return this.then(null,$)},le.prototype.finally=function($){var ce=this.constructor;return g($)?this.then(function(ye){return ce.resolve($()).then(function(){return ye})},function(ye){return ce.resolve($()).then(function(){throw ye})}):this.then($,$)};var ie=le;function le($){if(this[D]=U++,this._result=this._state=void 0,this._subscribers=[],N!==$){if(typeof $!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof le))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var ce=this;try{$(function(ye){L(ce,ye)},function(ye){Z(ce,ye)})}catch(ye){Z(ce,ye)}}}return ie.prototype.then=S,ie.all=function($){return new K(this,$).promise},ie.race=function($){var ce=this;return y($)?new ce(function(ye,_e){for(var he=$.length,ve=0;ve<he;ve++)ce.resolve($[ve]).then(ye,_e)}):new ce(function(ye,_e){return _e(new TypeError("You must pass an array to race."))})},ie.resolve=C,ie.reject=function($){var ce=new this(N);return Z(ce,$),ce},ie._setScheduler=function($){s=$},ie._setAsap=function($){r=$},ie._asap=r,ie.polyfill=function(){var $=void 0;if(i!==void 0)$=i;else if(typeof self<"u")$=self;else try{$=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ce=$.Promise;if(ce){var ye=null;try{ye=Object.prototype.toString.call(ce.resolve())}catch{}if(ye==="[object Promise]"&&!ce.cast)return}$.Promise=ie},ie.Promise=ie},typeof _=="object"&&O!==void 0?O.exports=l():this.ES6Promise=l()}).call(this,t("_process"),G!==void 0?G:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:249}],241:[function(t,O,_){var f;f=function(i,l){var g="callback";function y(o){try{delete window[o]}catch{window[o]=void 0}}function n(o){(o=document.getElementById(o))&&document.getElementsByTagName("head")[0].removeChild(o)}l.exports=function(o){var s=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],r=o,a=s.timeout||5e3,d=s.jsonpCallback||g,h=void 0;return new Promise(function(c,p){var m=s.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),b=d+"_"+m,A=(window[m]=function(T){c({ok:!0,json:function(){return Promise.resolve(T)}}),h&&clearTimeout(h),n(b),y(m)},r+=r.indexOf("?")===-1?"?":"&",document.createElement("script"));A.setAttribute("src",""+r+d+"="+m),s.charset&&A.setAttribute("charset",s.charset),A.id=b,document.getElementsByTagName("head")[0].appendChild(A),h=setTimeout(function(){p(new Error("JSONP request to "+o+" timed out")),y(m),n(b),window[m]=function(){y(m)}},a),A.onerror=function(){p(new Error("JSONP request to "+o+" failed")),y(m),n(b),h&&clearTimeout(h)}})}},_!==void 0&&O!==void 0?f(0,O):(f(f={exports:{}},f),this.fetchJsonp=f.exports)},{}],242:[function(t,O,_){var f=function(i){var l,g,y,n,o,s,r,a,d,h;if(!(i===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return h=i.document,l=function(){return i.URL||i.webkitURL||i},g=h.createElementNS("http://www.w3.org/1999/xhtml","a"),y="download"in g,n=/constructor/i.test(i.HTMLElement)||i.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(c){(i.setImmediate||i.setTimeout)(function(){throw c},0)},r=function(c){setTimeout(function(){typeof c=="string"?l().revokeObjectURL(c):c.remove()},4e4)},a=function(c){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c},h=(d=function(c,p,m){m||(c=a(c));var b,A,T=this,x=(m=c.type==="application/octet-stream",function(){for(var R=T,S="writestart progress write writeend".split(" "),C=(S=[].concat(S)).length;C--;){var D=R["on"+S[C]];if(typeof D=="function")try{D.call(R,R)}catch(N){s(N)}}});T.readyState=T.INIT,y?(b=l().createObjectURL(c),setTimeout(function(){var R,S;g.href=b,g.download=p,R=g,S=new MouseEvent("click"),R.dispatchEvent(S),x(),r(b),T.readyState=T.DONE})):(o||m&&n)&&i.FileReader?((A=new FileReader).onloadend=function(){var R=o?A.result:A.result.replace(/^data:[^;]*;/,"data:attachment/file;");i.open(R,"_blank")||(i.location.href=R),R=void 0,T.readyState=T.DONE,x()},A.readAsDataURL(c),T.readyState=T.INIT):(b=b||l().createObjectURL(c),!m&&i.open(b,"_blank")||(i.location.href=b),T.readyState=T.DONE,x(),r(b))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(c,p,m){return p=p||c.name||"download",m||(c=a(c)),navigator.msSaveOrOpenBlob(c,p)}:(h.abort=function(){},h.readyState=h.INIT=0,h.WRITING=1,h.DONE=2,h.error=h.onwritestart=h.onprogress=h.onwrite=h.onabort=h.onerror=h.onwriteend=null,function(c,p,m){return new d(c,p||c.name||"download",m)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);O!==void 0&&O.exports&&(O.exports.saveAs=f)},{}],243:[function(t,O,_){var f,i=Object.defineProperty,l=(i(_,"__esModule",{value:!0}),_),g={GIFEncoder:()=>x,applyPalette:()=>function(F,M,L="rgb565"){if(!F||!F.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(F instanceof Uint8Array||F instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<M.length)throw new Error("applyPalette() only works with 256 colors or less");const z=new Uint32Array(F.buffer),Y=z.length,Z=L==="rgb444"?4096:65536,ee=new Uint8Array(Y),te=new Array(Z);if(L==="rgba4444")for(let ye=0;ye<Y;ye++){var oe,U=(oe=z[ye])>>24&255,q=oe>>16&255,K=oe>>8&255,se=(se=r(oe=255&oe,K,q,U))in te?te[se]:te[se]=function(_e,he,ve,Ee,Fe){let Oe=0,Ge=1e100;for(let mt=0;mt<Fe.length;mt++){var $e=Fe[mt],Je=b($e[3]-Ee);Je>Ge||(Je+=b($e[0]-_e))>Ge||(Je+=b($e[1]-he))>Ge||(Je+=b($e[2]-ve))>Ge||(Ge=Je,Oe=mt)}return Oe}(oe,K,q,U,M);ee[ye]=se}else{const ye=L==="rgb444"?a:s;for(let _e=0;_e<Y;_e++){var ie,le=(ie=z[_e])>>16&255,$=ie>>8&255,ce=(ce=ye(ie=255&ie,$,le))in te?te[ce]:te[ce]=function(he,ve,Ee,Fe){let Oe=0,Ge=1e100;for(let mt=0;mt<Fe.length;mt++){var $e=Fe[mt],Je=b($e[0]-he);Je>Ge||(Je+=b($e[1]-ve))>Ge||(Je+=b($e[2]-Ee))>Ge||(Ge=Je,Oe=mt)}return Oe}(ie,$,le,M);ee[_e]=ce}}return ee},default:()=>N,nearestColor:()=>function(F,M,L=p){return F[A(F,M,L)]},nearestColorIndex:()=>A,nearestColorIndexWithDistance:()=>T,prequantize:()=>function(F,{roundRGB:M=5,roundAlpha:L=10,oneBitAlpha:z=null}={}){const Y=new Uint32Array(F.buffer);for(let oe=0;oe<Y.length;oe++){let U=(te=Y[oe])>>24&255;var Z=te>>16&255,ee=te>>8&255,te=255&te;U=m(U,L),z&&(U=U<=(typeof z=="number"?z:127)?0:255),te=m(te,M),ee=m(ee,M),Z=m(Z,M),Y[oe]=U<<24|Z<<16|ee<<8|te<<0}},quantize:()=>function(F,M,L={}){var{format:z="rgb565",clearAlpha:Y=!0,clearAlphaColor:Z=0,clearAlphaThreshold:ee=0,oneBitAlpha:te=!1}=L;if(!F||!F.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(F instanceof Uint8Array||F instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");F=new Uint32Array(F.buffer);let oe=L.useSqrt!==!1;const U=z==="rgba4444",q=function(de,Re){const Ce=new Array(Re==="rgb444"?4096:65536),qe=de.length;if(Re==="rgba4444")for(let Qe=0;Qe<qe;++Qe){var et,ft=(et=de[Qe])>>24&255,ot=et>>16&255,rt=et>>8&255,re=r(et=255&et,rt,ot,ft);let st=re in Ce?Ce[re]:Ce[re]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};st.rc+=et,st.gc+=rt,st.bc+=ot,st.ac+=ft,st.cnt++}else if(Re==="rgb444")for(let Qe=0;Qe<qe;++Qe){var Q,ne=(Q=de[Qe])>>16&255,ue=Q>>8&255,we=a(Q=255&Q,ue,ne);let st=we in Ce?Ce[we]:Ce[we]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};st.rc+=Q,st.gc+=ue,st.bc+=ne,st.cnt++}else for(let Qe=0;Qe<qe;++Qe){var Le,Ze=(Le=de[Qe])>>16&255,He=Le>>8&255,Te=s(Le=255&Le,He,Ze);let st=Te in Ce?Ce[Te]:Ce[Te]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};st.rc+=Le,st.gc+=He,st.bc+=Ze,st.cnt++}return Ce}(F,z),K=q.length,se=K-1,ie=new Uint32Array(K+1);for(var le=0,$=0;$<K;++$){const de=q[$];de!=null&&(Je=1/de.cnt,U&&(de.ac*=Je),de.rc*=Je,de.gc*=Je,de.bc*=Je,q[le++]=de)}h(M)/le<.022&&(oe=!1);var ce,ye,_e;for($=0;$<le-1;++$)q[$].fw=$+1,q[$+1].bk=$,oe&&(q[$].cnt=Math.sqrt(q[$].cnt));for(oe&&(q[$].cnt=Math.sqrt(q[$].cnt)),$=0;$<le;++$){c(q,$);var he=q[$].err;for(ye=++ie[0];1<ye&&!(q[ce=ie[_e=ye>>1]].err<=he);ye=_e)ie[ye]=ce;ie[ye]=$}var ve,Ee=le-M;for($=0;$<Ee;){for(;;){var Fe=ie[1];if((ve=q[Fe]).tm>=ve.mtm&&q[ve.nn].mtm<=ve.tm)break;for(ve.mtm==se?Fe=ie[1]=ie[ie[0]--]:(c(q,Fe),ve.tm=$),he=q[Fe].err,ye=1;(_e=ye+ye)<=ie[0]&&(_e<ie[0]&&q[ie[_e]].err>q[ie[_e+1]].err&&_e++,!(he<=q[ce=ie[_e]].err));ye=_e)ie[ye]=ce;ie[ye]=Fe}var Oe=q[ve.nn],Ge=ve.cnt,$e=Oe.cnt,Je=1/(Ge+$e);U&&(ve.ac=Je*(Ge*ve.ac+$e*Oe.ac)),ve.rc=Je*(Ge*ve.rc+$e*Oe.rc),ve.gc=Je*(Ge*ve.gc+$e*Oe.gc),ve.bc=Je*(Ge*ve.bc+$e*Oe.bc),ve.cnt+=Oe.cnt,ve.mtm=++$,q[Oe.bk].fw=Oe.fw,q[Oe.fw].bk=Oe.bk,Oe.mtm=se}let mt=[];for($=0;;0){let de=d(Math.round(q[$].rc),0,255),Re=d(Math.round(q[$].gc),0,255),Ce=d(Math.round(q[$].bc),0,255),qe=255;U&&(qe=d(Math.round(q[$].ac),0,255),te&&(qe=qe<=(tt=typeof te=="number"?te:127)?0:255),Y&&qe<=ee&&(de=Re=Ce=Z,qe=0));var tt=U?[de,Re,Ce,qe]:[de,Re,Ce];if(function(et,ft){for(let re=0;re<et.length;re++){var ot=(rt=et[re])[0]===ft[0]&&rt[1]===ft[1]&&rt[2]===ft[2],rt=!(4<=rt.length&&4<=ft.length)||rt[3]===ft[3];if(ot&&rt)return!0}return!1}(mt,tt)||mt.push(tt),($=q[$].fw)==0)break}return mt},snapColorsToPalette:()=>function(F,M,L=5){if(F.length&&M.length){var z=F.map(oe=>oe.slice(0,3)),Y=L*L,Z=F[0].length;for(let oe=0;oe<M.length;oe++){let U=M[oe];U=U.length<Z?[U[0],U[1],U[2],255]:U.length>Z?U.slice(0,3):U.slice();var ee,te=(ee=T(z,U.slice(0,3),p))[0];0<(ee=ee[1])&&ee<=Y&&(F[te]=U)}}}};for(f in g)i(l,f,{get:g[f],enumerable:!0});var y=59;function n(F=256){let M=0,L=new Uint8Array(F);return{get buffer(){return L.buffer},reset(){M=0},bytesView:()=>L.subarray(0,M),bytes:()=>L.slice(0,M),writeByte(Y){z(M+1),L[M]=Y,M++},writeBytes(Y,Z=0,ee=Y.length){z(M+ee);for(let te=0;te<ee;te++)L[M++]=Y[te+Z]},writeBytesView(Y,Z=0,ee=Y.byteLength){z(M+ee),L.set(Y.subarray(Z,Z+ee),M),M+=ee}};function z(Y){var Z=L.length;if(!(Y<=Z)){Y=Math.max(Y,Z*(Z<1048576?2:1.125)>>>0),Z!=0&&(Y=Math.max(Y,256));const ee=L;L=new Uint8Array(Y),0<M&&L.set(ee.subarray(0,M),0)}}}var o=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function s(F,M,L){return F<<8&63488|M<<2&992|L>>3}function r(F,M,L,z){return F>>4|240&M|(240&L)<<4|(240&z)<<8}function a(F,M,L){return F>>4<<8|240&M|L>>4}function d(F,M,L){return F<M?M:L<F?L:F}function h(F){return F*F}function c(F,M,L){var z=0,Y=1e100;const Z=F[M];for(var ee=Z.cnt,te=Z.ac,oe=Z.rc,U=Z.gc,q=Z.bc,K=Z.fw;K!=0;K=F[K].fw){var se,ie,le=F[K];Y<=(ie=ee*(ie=le.cnt)/(ee+ie))||(se=0,Y<=(se+=ie*h(le.rc-oe))||Y<=(se+=ie*h(le.gc-U))||Y<=(se+=ie*h(le.bc-q))||(Y=se,z=K))}Z.err=Y,Z.nn=z}function p(F,M){for(var L=0,z=0;z<F.length;z++){var Y=F[z]-M[z];L+=Y*Y}return L}function m(F,M){return 1<M?Math.round(F/M)*M:F}function b(F){return F*F}function A(F,M,L=p){let z=1/0,Y=-1;for(let ee=0;ee<F.length;ee++){var Z=L(M,F[ee]);Z<z&&(z=Z,Y=ee)}return Y}function T(F,M,L=p){let z=1/0,Y=-1;for(let ee=0;ee<F.length;ee++){var Z=L(M,F[ee]);Z<z&&(z=Z,Y=ee)}return[Y,z]}function x(F={}){const{initialCapacity:M=4096,auto:L=!0}=F,z=n(M),Y=new Uint8Array(256),Z=new Int32Array(5003),ee=new Int32Array(5003);let te=!1;return{reset(){z.reset(),te=!1},finish(){z.writeByte(y)},bytes:()=>z.bytes(),bytesView:()=>z.bytesView(),get buffer(){return z.buffer},get stream(){return z},writeHeader:oe,writeFrame(U,q,K,se={}){var{transparent:ie=!1,transparentIndex:le=0,delay:$e=0,palette:$=null,repeat:Fe=0,colorDepth:ce=8,dispose:ye=-1}=se;let _e=!1;if(L?te||(_e=!0,oe(),te=!0):_e=!!se.first,q=Math.max(0,Math.floor(q)),K=Math.max(0,Math.floor(K)),_e){if(!$)throw new Error("First frame must include a { palette } option");var[se,Oe,ve,Ge,Ee=8]=[z,q,K,$,ce];Ee=128|Ee-1<<4|(Ge=D(Ge.length)-1),S(se,Oe),S(se,ve),se.writeBytes([Ee,0,0]),R(z,$),0<=Fe&&(Oe=Fe,(Ge=z).writeByte(33),Ge.writeByte(255),Ge.writeByte(11),C(Ge,"NETSCAPE2.0"),Ge.writeByte(3),Ge.writeByte(1),S(Ge,Oe),Ge.writeByte(0))}var he,ve,Ee=ye,Fe=ve=Math.round($e/10),Oe=ie,Ge=le,$e=((se=z).writeByte(33),se.writeByte(249),se.writeByte(4),Ge<0&&(Ge=0,Oe=!1),Oe=Oe?(he=1,2):he=0,0<=Ee&&(Oe=7&Ee),Oe<<=2,se.writeByte(0|Oe|he),S(se,Fe),se.writeByte(Ge||0),se.writeByte(0),!!$&&!_e);ie=q,le=K,he=$e?$:null,(ye=z).writeByte(44),S(ye,0),S(ye,0),S(ye,ie),S(ye,le),he?(ie=D(he.length)-1,ye.writeByte(128|ie)):ye.writeByte(0),$e&&R(z,$),[Fe,se,le,ie,ye=8,$e,$,U]=[z,U,q,K,ce,Y,Z,ee],function(Je,mt,tt,de,Re=n(512),Ce=new Uint8Array(256),qe=new Int32Array(5003),et=new Int32Array(5003)){var ft=qe.length;de=Math.max(2,de),Ce.fill(0),et.fill(0),qe.fill(-1);let ot=0,rt=0;var re=de+1;const Q=re;let ne=!1,ue=Q,we=(1<<ue)-1;var Le=1<<re-1;const Ze=1+Le;let He=2+Le,Te=0,Qe=tt[0],st=0;for(let Mt=ft;Mt<65536;Mt*=2)++st;st=8-st,Re.writeByte(de),yt(Le);var _t=tt.length;for(let Mt=1;Mt<_t;Mt++)e:{var Tt=tt[Mt],gt=(Tt<<12)+Qe;let Lt=Tt<<st^Qe;if(qe[Lt]===gt)Qe=et[Lt];else{for(var vt=Lt===0?1:ft-Lt;0<=qe[Lt];)if((Lt-=vt)<0&&(Lt+=ft),qe[Lt]===gt){Qe=et[Lt];break e}yt(Qe),Qe=Tt,He<4096?(et[Lt]=He++,qe[Lt]=gt):(qe.fill(-1),He=2+Le,ne=!0,yt(Le))}}return yt(Qe),yt(Ze),Re.writeByte(0),Re.bytesView();function yt(Mt){for(ot&=o[rt],0<rt?ot|=Mt<<rt:ot=Mt,rt+=ue;8<=rt;)Ce[Te++]=255&ot,254<=Te&&(Re.writeByte(Te),Re.writeBytesView(Ce,0,Te),Te=0),ot>>=8,rt-=8;if((He>we||ne)&&(ne?(ue=Q,we=(1<<ue)-1,ne=!1):(++ue,we=ue===12?1<<ue:(1<<ue)-1)),Mt==Ze){for(;0<rt;)Ce[Te++]=255&ot,254<=Te&&(Re.writeByte(Te),Re.writeBytesView(Ce,0,Te),Te=0),ot>>=8,rt-=8;0<Te&&(Re.writeByte(Te),Re.writeBytesView(Ce,0,Te),Te=0)}}}(0,0,se,ye,Fe,$e,$,U)}};function oe(){C(z,"GIF89a")}}function R(F,M){var L=1<<D(M.length);for(let z=0;z<L;z++){let Y=[0,0,0];z<M.length&&(Y=M[z]),F.writeByte(Y[0]),F.writeByte(Y[1]),F.writeByte(Y[2])}}function S(F,M){F.writeByte(255&M),F.writeByte(M>>8&255)}function C(F,M){for(var L=0;L<M.length;L++)F.writeByte(M.charCodeAt(L))}function D(F){return Math.max(Math.ceil(Math.log2(F)),1)}var N=x},{}],244:[function(t,O,_){_.read=function(f,i,l,g,y){var n,o,s=8*y-g-1,r=(1<<s)-1,a=r>>1,d=-7,h=l?y-1:0,c=l?-1:1;for(y=f[i+h],h+=c,n=y&(1<<-d)-1,y>>=-d,d+=s;0<d;n=256*n+f[i+h],h+=c,d-=8);for(o=n&(1<<-d)-1,n>>=-d,d+=g;0<d;o=256*o+f[i+h],h+=c,d-=8);if(n===0)n=1-a;else{if(n===r)return o?NaN:1/0*(y?-1:1);o+=Math.pow(2,g),n-=a}return(y?-1:1)*o*Math.pow(2,n-g)},_.write=function(f,i,l,g,y,n){var o,s,r=8*n-y-1,a=(1<<r)-1,d=a>>1,h=y===23?Math.pow(2,-24)-Math.pow(2,-77):0,c=g?0:n-1,p=g?1:-1;for(n=i<0||i===0&&1/i<0?1:0,i=Math.abs(i),isNaN(i)||i===1/0?(s=isNaN(i)?1:0,o=a):(o=Math.floor(Math.log(i)/Math.LN2),i*(g=Math.pow(2,-o))<1&&(o--,g*=2),2<=(i+=1<=o+d?h/g:h*Math.pow(2,1-d))*g&&(o++,g/=2),a<=o+d?(s=0,o=a):1<=o+d?(s=(i*g-1)*Math.pow(2,y),o+=d):(s=i*Math.pow(2,d-1)*Math.pow(2,y),o=0));8<=y;f[l+c]=255&s,c+=p,s/=256,y-=8);for(o=o<<y|s,r+=y;0<r;f[l+c]=255&o,c+=p,o/=256,r-=8);f[l+c-p]|=128*n}},{}],245:[function(t,O,_){var f;function i(re,Q){return re.b===Q.b&&re.a===Q.a}function l(re,Q){return re.b<Q.b||re.b===Q.b&&re.a<=Q.a}function g(re,Q,ne){var ue=Q.b-re.b,we=ne.b-Q.b;return 0<ue+we?ue<we?Q.a-re.a+ue/(ue+we)*(re.a-ne.a):Q.a-ne.a+we/(ue+we)*(ne.a-re.a):0}function y(re,Q,ne){var ue=Q.b-re.b,we=ne.b-Q.b;return 0<ue+we?(Q.a-ne.a)*ue+(Q.a-re.a)*we:0}function n(re,Q){return re.a<Q.a||re.a===Q.a&&re.b<=Q.b}function o(re,Q,ne){var ue=Q.a-re.a,we=ne.a-Q.a;return 0<ue+we?ue<we?Q.b-re.b+ue/(ue+we)*(re.b-ne.b):Q.b-ne.b+we/(ue+we)*(ne.b-re.b):0}function s(re,Q,ne){var ue=Q.a-re.a,we=ne.a-Q.a;return 0<ue+we?(Q.b-ne.b)*ue+(Q.b-re.b)*we:0}function r(re,Q,ne,ue){return(re=re<0?0:re)<=(ne=ne<0?0:ne)?ne===0?(Q+ue)/2:Q+re/(re+ne)*(ue-Q):ue+ne/(re+ne)*(Q-ue)}function a(re){var Q=m(re.b);return A(Q,re.c),A(Q.b,re.c),T(Q,re.a),Q}function d(re,Q){var ne=!1,ue=!1;re!==Q&&(Q.a!==re.a&&(ue=!0,R(Q.a,re.a)),Q.d!==re.d&&(ne=!0,S(Q.d,re.d)),b(Q,re),ue||(A(Q,re.a),re.a.c=re),ne||(T(Q,re.d),re.d.a=re))}function h(re){var Q=re.b,ne=!1;re.d!==re.b.d&&(ne=!0,S(re.d,re.b.d)),re.c===re?R(re.a,null):(re.b.d.a=re.b.e,re.a.c=re.c,b(re,re.b.e),ne||T(re,re.d)),Q.c===Q?(R(Q.a,null),S(Q.d,null)):(re.d.a=Q.b.e,Q.a.c=Q.c,b(Q,Q.b.e)),x(re)}function c(re){var Q=m(re),ne=Q.b;return b(Q,re.e),Q.a=re.b.a,A(ne,Q.a),Q.d=ne.d=re.d,Q=Q.b,b(re.b,re.b.b.e),b(re.b,Q),re.b.a=Q.a,Q.b.a.c=Q.b,Q.b.d=re.b.d,Q.f=re.f,Q.b.f=re.b.f,Q}function p(re,Q){var ne=!1,ue=m(re),we=ue.b;return Q.d!==re.d&&(ne=!0,S(Q.d,re.d)),b(ue,re.e),b(we,Q),ue.a=re.b.a,we.a=Q.a,ue.d=we.d=re.d,re.d.a=we,ne||T(ue,re.d),ue}function m(re){var Q=new Fe,ne=new Fe,ue=re.b.h;return(((ne.h=ue).b.h=Q).h=re).b.h=ne,Q.b=ne,((Q.c=Q).e=ne).b=Q,(ne.c=ne).e=Q}function b(re,Q){var ne=re.c,ue=Q.c;ne.b.e=Q,(ue.b.e=re).c=ue,Q.c=ne}function A(re,Q){var ne=Q.f,ue=new Ge(Q,ne);for(ne.e=ue,ne=(Q.f=ue).c=re;ne.a=ue,(ne=ne.c)!==re;);}function T(re,Q){var ne=Q.d,ue=new Ee(Q,ne);for(ne.b=ue,(Q.d=ue).a=re,ue.c=Q.c,ne=re;ne.d=ue,(ne=ne.e)!==re;);}function x(re){var Q=re.h;re=re.b.h,(Q.b.h=re).b.h=Q}function R(re,Q){for(var ne=re.c,ue=ne;ue.a=Q,(ue=ue.c)!==ne;);ne=re.f,((ue=re.e).f=ne).e=ue}function S(re,Q){for(var ne=re.a,ue=ne;ue.d=Q,(ue=ue.e)!==ne;);ne=re.d,((ue=re.b).d=ne).b=ue}function C(re){var Q=0;return Math.abs(re[1])>Math.abs(re[0])&&(Q=1),Math.abs(re[2])>Math.abs(re[Q])?2:Q}function D(re,Q){re.f+=Q.f,re.b.f+=Q.b.f}function N(re,Q,ne){return re=re.a,Q=Q.a,ne=ne.a,Q.b.a===re?ne.b.a===re?l(Q.a,ne.a)?y(ne.b.a,Q.a,ne.a)<=0:0<=y(Q.b.a,ne.a,Q.a):y(ne.b.a,re,ne.a)<=0:ne.b.a===re?0<=y(Q.b.a,re,Q.a):(Q=g(Q.b.a,re,Q.a),(re=g(ne.b.a,re,ne.a))<=Q)}function F(re){re.a.i=null;var Q=re.e;Q.a.c=Q.c,Q.c.a=Q.a,re.e=null}function M(re,Q){h(re.a),re.c=!1,(re.a=Q).i=re}function L(re){for(var Q=re.a.a;(re=rt(re)).a.a===Q;);return re.c&&(M(re,Q=p(ot(re).a.b,re.a.e)),re=rt(re)),re}function z(re,Q,ne){var ue=new ft;return ue.a=ne,ue.e=ce(re.f,Q.e,ue),ne.i=ue}function Y(re,Q){switch(re.s){case 100130:return(1&Q)!=0;case 100131:return Q!==0;case 100132:return 0<Q;case 100133:return Q<0;case 100134:return 2<=Q||Q<=-2}return!1}function Z(re){var Q=re.a,ne=Q.d;ne.c=re.d,ne.a=Q,F(re)}function ee(re,Q,ne){for(Q=(re=Q).a;re!==ne;){re.c=!1;var ue=ot(re),we=ue.a;if(we.a!==Q.a){if(!ue.c){Z(re);break}M(ue,we=p(Q.c.b,we.b))}Q.c!==we&&(d(we.b.e,we),d(Q,we)),Z(re),Q=ue.a,re=ue}return Q}function te(re,Q,ne,ue,we,Le){for(var Ze=!0;z(re,Q,ne.b),(ne=ne.c)!==ue;);for(we===null&&(we=ot(Q).a.b.c);(ne=(ue=ot(Q)).a.b).a===we.a;)ne.c!==we&&(d(ne.b.e,ne),d(we.b.e,ne)),ue.f=Q.f-ne.f,ue.d=Y(re,ue.f),Q.b=!0,!Ze&&K(re,Q)&&(D(ne,we),F(Q),h(we)),Ze=!1,Q=ue,we=ne;Q.b=!0,Le&&ie(re,Q)}function oe(re,Q,ne,ue,we){var Le=[Q.g[0],Q.g[1],Q.g[2]];Q.d=null,Q.d=re.o&&re.o(Le,ne,ue,re.c)||null,Q.d===null&&(we?re.n||(ve(re,100156),re.n=!0):Q.d=ne[0])}function U(re,Q,ne){var ue=[null,null,null,null];ue[0]=Q.a.d,ue[1]=ne.a.d,oe(re,Q.a,ue,[.5,.5,0,0],!1),d(Q,ne)}function q(re,Q,ne,ue,we){var Le=Math.abs(Q.b-re.b)+Math.abs(Q.a-re.a),Ze=Math.abs(ne.b-re.b)+Math.abs(ne.a-re.a),He=we+1;ue[we]=.5*Ze/(Le+Ze),ue[He]=.5*Le/(Le+Ze),re.g[0]+=ue[we]*Q.g[0]+ue[He]*ne.g[0],re.g[1]+=ue[we]*Q.g[1]+ue[He]*ne.g[1],re.g[2]+=ue[we]*Q.g[2]+ue[He]*ne.g[2]}function K(re,Q){var ne=ot(Q),ue=Q.a,we=ne.a;if(l(ue.a,we.a)){if(0<y(we.b.a,ue.a,we.a))return;if(i(ue.a,we.a)){if(ue.a!==we.a){ne=re.e;var Le=ue.a.h;if(0<=Le){var Ze=(ne=ne.b).d,He=ne.e,Te=ne.c,Qe=Te[Le];Ze[Qe]=Ze[ne.a],(Te[Ze[Qe]]=Qe)<=--ne.a&&(Qe<=1||l(He[Ze[Qe>>1]],He[Ze[Qe]])?qe:et)(ne,Qe),He[Le]=null,Te[Le]=ne.b,ne.b=Le}else for(ne.c[-(Le+1)]=null;0<ne.a&&ne.c[ne.d[ne.a-1]]===null;)--ne.a;U(re,we.b.e,ue)}}else c(we.b),d(ue,we.b.e),Q.b=ne.b=!0}else{if(y(ue.b.a,we.a,ue.a)<0)return;rt(Q).b=Q.b=!0,c(ue.b),d(we.b.e,ue)}return 1}function se(re,Q){var ne=ot(Q),ue=Q.a,we=ne.a,Le=ue.a,Ze=we.a,He=ue.b.a,Te=we.b.a,Qe=new Ge;if(y(He,re.a,Le),y(Te,re.a,Ze),!(Le===Ze||Math.min(Le.a,He.a)>Math.max(Ze.a,Te.a))){if(l(Le,Ze)){if(0<y(Te,Le,Ze))return}else if(y(He,Ze,Le)<0)return;var st,_t,Tt=He,gt=Le,vt=Te,yt=Ze;if(l(Tt,gt)||(st=Tt,Tt=gt,gt=st),l(vt,yt)||(st=vt,vt=yt,yt=st),l(Tt,vt)||(st=Tt,Tt=vt,vt=st,st=gt,gt=yt,yt=st),l(vt,gt)?l(gt,yt)?((st=g(Tt,vt,gt))+(_t=g(vt,gt,yt))<0&&(st=-st,_t=-_t),Qe.b=r(st,vt.b,_t,gt.b)):((st=y(Tt,vt,gt))+(_t=-y(Tt,yt,gt))<0&&(st=-st,_t=-_t),Qe.b=r(st,vt.b,_t,yt.b)):Qe.b=(vt.b+gt.b)/2,n(Tt,gt)||(st=Tt,Tt=gt,gt=st),n(vt,yt)||(st=vt,vt=yt,yt=st),n(Tt,vt)||(st=Tt,Tt=vt,vt=st,st=gt,gt=yt,yt=st),n(vt,gt)?n(gt,yt)?((st=o(Tt,vt,gt))+(_t=o(vt,gt,yt))<0&&(st=-st,_t=-_t),Qe.a=r(st,vt.a,_t,gt.a)):((st=s(Tt,vt,gt))+(_t=-s(Tt,yt,gt))<0&&(st=-st,_t=-_t),Qe.a=r(st,vt.a,_t,yt.a)):Qe.a=(vt.a+gt.a)/2,l(Qe,re.a)&&(Qe.b=re.a.b,Qe.a=re.a.a),Tt=l(Le,Ze)?Le:Ze,l(Tt,Qe)&&(Qe.b=Tt.b,Qe.a=Tt.a),i(Qe,Le)||i(Qe,Ze))return K(re,Q),0;if(!i(He,re.a)&&0<=y(He,re.a,Qe)||!i(Te,re.a)&&y(Te,re.a,Qe)<=0){if(Te===re.a)c(ue.b),d(we.b,ue),ue=ot(Q=L(Q)).a,ee(re,ot(Q),ne),te(re,Q,ue.b.e,ue,ue,!0);else{if(He!==re.a)return 0<=y(He,re.a,Qe)&&(rt(Q).b=Q.b=!0,c(ue.b),ue.a.b=re.a.b,ue.a.a=re.a.a),void(y(Te,re.a,Qe)<=0&&(Q.b=ne.b=!0,c(we.b),we.a.b=re.a.b,we.a.a=re.a.a));for(c(we.b),d(ue.e,we.b.e),Ze=(Le=ne=Q).a.b.a;(Le=rt(Le)).a.b.a===Ze;);Le=ot(Q=Le).a.b.c,ne.a=we.b.e,te(re,Q,(we=ee(re,ne,null)).c,ue.b.c,Le,!0)}return 1}c(ue.b),c(we.b),d(we.b.e,ue),ue.a.b=Qe.b,ue.a.a=Qe.a,ue.a.h=Je(re.e,ue.a),ue=ue.a,we=[0,0,0,0],Qe=[Le.d,He.d,Ze.d,Te.d],ue.g[0]=ue.g[1]=ue.g[2]=0,q(ue,Le,He,we,0),q(ue,Ze,Te,we,2),oe(re,ue,Qe,we,!0),rt(Q).b=Q.b=ne.b=!0}}function ie(re,Q){for(var ne=ot(Q);;){for(;ne.b;)ne=ot(Q=ne);if(!(Q.b||(Q=rt(ne=Q))!==null&&Q.b))break;Q.b=!1;var ue=Q.a,we=ne.a;if(Le=ue.b.a!==we.b.a)e:{var Le,Ze=ot(Le=Q),He=Le.a,Te=Ze.a,Qe=void 0;if(l(He.b.a,Te.b.a)){if(y(He.b.a,Te.b.a,He.a)<0){Le=!1;break e}rt(Le).b=Le.b=!0,Qe=c(He),d(Te.b,Qe),Qe.d.c=Le.d}else{if(0<y(Te.b.a,He.b.a,Te.a)){Le=!1;break e}Le.b=Ze.b=!0,Qe=c(Te),d(He.e,Te.b),Qe.b.d.c=Le.d}Le=!0}if(Le&&(ne.c?(F(ne),h(we),we=(ne=ot(Q)).a):Q.c&&(F(Q),h(ue),ue=(Q=rt(ne)).a)),ue.a!==we.a){if(ue.b.a===we.b.a||Q.c||ne.c||ue.b.a!==re.a&&we.b.a!==re.a)K(re,Q);else if(se(re,Q))break}ue.a===we.a&&ue.b.a===we.b.a&&(D(we,ue),F(Q),h(ue),Q=rt(ne))}}function le(re,Q){var ne=new ft,ue=a(re.b);ue.a.b=4e150,ue.a.a=Q,ue.b.a.b=-4e150,ue.b.a.a=Q,re.a=ue.b.a,ne.a=ue,ne.f=0,ne.d=!1,ne.c=!1,ne.h=!0,ne.b=!1,ue=ce(ue=re.f,ue.a,ne),ne.e=ue}function $(re){this.a=new ye,this.b=re,this.c=N}function ce(re,Q,ne){for(;(Q=Q.c).b!==null&&!re.c(re.b,Q.b,ne););return re=new ye(ne,Q.a,Q),Q.a.c=re,Q.a=re}function ye(re,Q,ne){this.b=re||null,this.a=Q||this,this.c=ne||this}function _e(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function he(re,Q){if(re.d!==Q)for(;re.d!==Q;)if(re.d<Q)switch(re.d){case 0:ve(re,100151),re.u(null);break;case 1:ve(re,100152),re.t()}else switch(re.d){case 2:ve(re,100154),re.v();break;case 1:ve(re,100153),re.w()}}function ve(re,Q){re.p&&re.p(Q,re.c)}function Ee(re,Q){this.b=re||this,this.d=Q||this,this.a=null,this.c=!1}function Fe(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Oe(){this.c=new Ge,this.a=new Ee,this.b=new Fe,this.d=new Fe,this.b.b=this.d,this.d.b=this.b}function Ge(re,Q){this.e=re||this,this.f=Q||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function $e(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new tt}function Je(re,Q){var ne,ue,we;return re.e?(2*(ue=++(ne=re.b).a)>ne.f&&(ne.f*=2,ne.c=de(ne.c,ne.f+1)),ne.b===0?we=ue:(we=ne.b,ne.b=ne.c[ne.b]),ne.e[we]=Q,ne.c[we]=ue,ne.d[ue]=we,ne.h&&et(ne,ue),we):(ne=re.a++,re.c[ne]=Q,-(ne+1))}function mt(re){if(re.a===0)return Ce(re.b);var Q=re.c[re.d[re.a-1]];if(re.b.a!==0&&l(Re(re.b),Q))return Ce(re.b);for(;--re.a,0<re.a&&re.c[re.d[re.a-1]]===null;);return Q}function tt(){this.d=de([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function de(re,Q){for(var ne=Array(Q),ue=0;ue<re.length;ue++)ne[ue]=re[ue];for(;ue<Q;ue++)ne[ue]=0;return ne}function Re(re){return re.e[re.d[1]]}function Ce(re){var Q=re.d,ne=re.e,ue=re.c,we=Q[1],Le=ne[we];return 0<re.a&&(Q[1]=Q[re.a],ue[Q[1]]=1,ne[we]=null,ue[we]=re.b,re.b=we,0<--re.a&&qe(re,1)),Le}function qe(re,Q){for(var ne=re.d,ue=re.e,we=re.c,Le=Q,Ze=ne[Le];;){var He=Le<<1,Te=(He<re.a&&l(ue[ne[He+1]],ue[ne[He]])&&(He+=1),ne[He]);if(He>re.a||l(ue[Ze],ue[Te])){we[ne[Le]=Ze]=Le;break}we[ne[Le]=Te]=Le,Le=He}}function et(re,Q){for(var ne=re.d,ue=re.e,we=re.c,Le=Q,Ze=ne[Le];;){var He=Le>>1,Te=ne[He];if(He==0||l(ue[Te],ue[Ze])){we[ne[Le]=Ze]=Le;break}we[ne[Le]=Te]=Le,Le=He}}function ft(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function ot(re){return re.e.c.b}function rt(re){return re.e.a.b}(f=_e.prototype).x=function(){he(this,0)},f.B=function(re,Q){switch(re){case 100142:return;case 100140:switch(Q){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=Q)}break;case 100141:return void(this.m=!!Q);default:return void ve(this,100900)}ve(this,100901)},f.y=function(re){switch(re){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:ve(this,100900)}return!1},f.A=function(re,Q,ne){this.j[0]=re,this.j[1]=Q,this.j[2]=ne},f.z=function(re,Q){var ne=Q||null;switch(re){case 100100:case 100106:this.h=ne;break;case 100104:case 100110:this.l=ne;break;case 100101:case 100107:this.k=ne;break;case 100102:case 100108:this.i=ne;break;case 100103:case 100109:this.p=ne;break;case 100105:case 100111:this.o=ne;break;case 100112:this.r=ne;break;default:ve(this,100900)}},f.C=function(re,Q){var ne=!1,ue=[0,0,0];he(this,2);for(var we=0;we<3;++we){var Le=re[we];Le<-1e150&&(Le=-1e150,ne=!0),1e150<Le&&(Le=1e150,ne=!0),ue[we]=Le}ne&&ve(this,100155),(ne=this.q)===null?d(ne=a(this.b),ne.b):(c(ne),ne=ne.e),ne.a.d=Q,ne.a.g[0]=ue[0],ne.a.g[1]=ue[1],ne.a.g[2]=ue[2],ne.f=1,ne.b.f=-1,this.q=ne},f.u=function(re){he(this,0),this.d=1,this.b=new Oe,this.c=re},f.t=function(){he(this,1),this.d=2,this.q=null},f.v=function(){he(this,2),this.d=1},f.w=function(){he(this,1),this.d=0;var re,Q,ne=!1,ue=[Te=this.j[0],we=this.j[1],Ze=this.j[2]];if(Te===0&&we===0&&Ze===0){for(var we=[-2e150,-2e150,-2e150],Le=[2e150,2e150,2e150],Ze=[],He=[],Te=(ne=this.b.c).e;Te!==ne;Te=Te.e)for(var Qe=0;Qe<3;++Qe){var st=Te.g[Qe];st<Le[Qe]&&(Le[Qe]=st,He[Qe]=Te),st>we[Qe]&&(we[Qe]=st,Ze[Qe]=Te)}if(we[1]-Le[1]>we[Te=0]-Le[0]&&(Te=1),Le[Te=we[2]-Le[2]>we[Te]-Le[Te]?2:Te]>=we[Te])ue[0]=0,ue[1]=0,ue[2]=1;else{for(Le=He[Te],Ze=Ze[Te],He=[we=0,0,0],Le=[Le.g[0]-Ze.g[0],Le.g[1]-Ze.g[1],Le.g[2]-Ze.g[2]],Qe=[0,0,0],Te=ne.e;Te!==ne;Te=Te.e)Qe[0]=Te.g[0]-Ze.g[0],Qe[1]=Te.g[1]-Ze.g[1],Qe[2]=Te.g[2]-Ze.g[2],He[0]=Le[1]*Qe[2]-Le[2]*Qe[1],He[1]=Le[2]*Qe[0]-Le[0]*Qe[2],He[2]=Le[0]*Qe[1]-Le[1]*Qe[0],we<(st=He[0]*He[0]+He[1]*He[1]+He[2]*He[2])&&(we=st,ue[0]=He[0],ue[1]=He[1],ue[2]=He[2]);we<=0&&(ue[0]=ue[1]=ue[2]=0,ue[C(Le)]=1)}ne=!0}for(He=C(ue),Te=this.b.c,we=(He+1)%3,Ze=(He+2)%3,He=0<ue[He]?1:-1,ue=Te.e;ue!==Te;ue=ue.e)ue.b=ue.g[we],ue.a=He*ue.g[Ze];if(ne){for(ue=0,Te=(ne=this.b.a).b;Te!==ne;Te=Te.b)if(!((we=Te.a).f<=0))for(;ue+=(we.a.b-we.b.a.b)*(we.a.a+we.b.a.a),(we=we.e)!==Te.a;);if(ue<0)for(ne=(ue=this.b.c).e;ne!==ue;ne=ne.e)ne.a=-ne.a}for(this.n=!1,Te=(ue=this.b.b).h;Te!==ue;Te=ne)ne=Te.h,we=Te.e,i(Te.a,Te.b.a)&&Te.e.e!==Te&&(U(this,we,Te),h(Te),we=(Te=we).e),we.e===Te&&(we!==Te&&(we!==ne&&we!==ne.b||(ne=ne.h),h(we)),Te!==ne&&Te!==ne.b||(ne=ne.h),h(Te));for(this.e=ue=new $e,Te=(ne=this.b.c).e;Te!==ne;Te=Te.e)Te.h=Je(ue,Te);var _t=ue;_t.d=[];for(var Tt=0;Tt<_t.a;Tt++)_t.d[Tt]=Tt;_t.d.sort(function(yt){return function(Mt,Lt){return l(yt[Mt],yt[Lt])?1:-1}}(_t.c)),_t.e=!0;for(var gt=_t.b,vt=gt.a;1<=vt;--vt)qe(gt,vt);for(gt.h=!0,this.f=new $(this),le(this,-4e150),le(this,4e150);(ue=mt(this.e))!==null;){for(;;){e:if((Te=this.e).a===0)ne=Re(Te.b);else if(ne=Te.c[Te.d[Te.a-1]],Te.b.a!==0&&l(Te=Re(Te.b),ne)){ne=Te;break e}if(ne===null||!i(ne,ue))break;ne=mt(this.e),U(this,ue.c,ne.c)}(function yt(Mt,Lt){for(var Zt,Pt=(Mt.a=Lt).c;Pt.i===null;)if((Pt=Pt.c)===Lt.c){Pt=Mt;var zt=Lt;(Dt=new ft).a=zt.c.b;for(var tr=(kt=Pt.f).a;(tr=tr.a).b!==null&&!kt.c(kt.b,Dt,tr.b););var kt,rr,Kt=ot(kt=tr.b),Dt=kt.a;return tr=Kt.a,void(y(Dt.b.a,zt,Dt.a)===0?i((Dt=kt.a).a,zt)||i(Dt.b.a,zt)||(c(Dt.b),kt.c&&(h(Dt.c),kt.c=!1),d(zt.c,Dt),yt(Pt,zt)):(rr=l(tr.b.a,Dt.b.a)?kt:Kt,Kt=void 0,kt.d||rr.c?(Kt=rr===kt?p(zt.c.b,Dt.e):p(tr.b.c.b,zt.c).b,rr.c?M(rr,Kt):((kt=z(Dt=Pt,kt,Kt)).f=rt(kt).f+kt.a.f,kt.d=Y(Dt,kt.f)),yt(Pt,zt)):te(Pt,kt,zt.c,zt.c,null,!0)))}kt=(Dt=ot(Pt=L(Pt.i))).a,(Dt=ee(Mt,Dt,null)).c===kt?(Dt=(kt=Dt).c,tr=ot(Pt),Kt=Pt.a,rr=tr.a,Zt=!1,Kt.b.a!==rr.b.a&&se(Mt,Pt),i(Kt.a,Mt.a)&&(d(Dt.b.e,Kt),Dt=ot(Pt=L(Pt)).a,ee(Mt,ot(Pt),tr),Zt=!0),i(rr.a,Mt.a)&&(d(kt,rr.b.e),kt=ee(Mt,tr,null),Zt=!0),Zt?te(Mt,Pt,kt.c,Dt,Dt,!0):(zt=l(rr.a,Kt.a)?rr.b.e:Kt,te(Mt,Pt,zt=p(kt.c.b,zt),zt.c,zt.c,!1),zt.b.i.c=!0,ie(Mt,Pt))):te(Mt,Pt,Dt.c,kt,kt,!0)})(this,ue)}for(this.a=this.f.a.a.b.a.a,ue=0;(ne=this.f.a.a.b)!==null;)ne.h||++ue,F(ne);for(this.f=null,(ue=this.e).b=null,ue.d=null,this.e=ue.c=null,Te=(ue=this.b).a.b;Te!==ue.a;Te=ne)ne=Te.b,(Te=Te.a).e.e===Te&&(D(Te.c,Te),h(Te));if(!this.n){if(ue=this.b,this.m)for(Te=ue.b.h;Te!==ue.b;Te=ne)ne=Te.h,Te.b.d.c!==Te.d.c?Te.f=Te.d.c?1:-1:h(Te);else for(Te=ue.a.b;Te!==ue.a;Te=ne)if(ne=Te.b,Te.c){for(Te=Te.a;l(Te.b.a,Te.a);Te=Te.c.b);for(;l(Te.a,Te.b.a);Te=Te.e);for(we=Te.c.b,Ze=void 0;Te.e!==we;)if(l(Te.b.a,we.a)){for(;we.e!==Te&&(l((Q=we.e).b.a,Q.a)||y(we.a,we.b.a,we.e.b.a)<=0);)we=(Ze=p(we.e,we)).b;we=we.c.b}else{for(;we.e!==Te&&(l((re=Te.c.b).a,re.b.a)||0<=y(Te.b.a,Te.a,Te.c.b.a));)Te=(Ze=p(Te,Te.c.b)).b;Te=Te.e}for(;we.e.e!==Te;)we=(Ze=p(we.e,we)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(ne=(ue=this.b).a.b;ne!==ue.a;ne=ne.b)if(ne.c){for(this.h&&this.h(2,this.c),Te=ne.a;this.k&&this.k(Te.a.d,this.c),(Te=Te.e)!==ne.a;);this.i&&this.i(this.c)}}else{for(ue=this.b,ne=!!this.l,Te=!1,we=-1,Ze=ue.a.d;Ze!==ue.a;Ze=Ze.d)if(Ze.c)for(Te||(this.h&&this.h(4,this.c),Te=!0),He=Ze.a;ne&&we!==(Le=He.b.d.c?0:1)&&(we=Le,this.l&&this.l(!!we,this.c)),this.k&&this.k(He.a.d,this.c),(He=He.e)!==Ze.a;);Te&&this.i&&this.i(this.c)}if(this.r){for(Te=(ue=this.b).a.b;Te!==ue.a;Te=ne)if(ne=Te.b,!Te.c){for(Ze=(we=Te.a).e,He=void 0;Ze=(He=Ze).e,(He.d=null)===He.b.d&&(He.c===He?R(He.a,null):(He.a.c=He.c,b(He,He.b.e)),(Le=He.b).c===Le?R(Le.a,null):(Le.a.c=Le.c,b(Le,Le.b.e)),x(He)),He!==we;);we=Te.d,((Te=Te.b).d=we).b=Te}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:_e,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},_e.prototype.gluDeleteTess=_e.prototype.x,_e.prototype.gluTessProperty=_e.prototype.B,_e.prototype.gluGetTessProperty=_e.prototype.y,_e.prototype.gluTessNormal=_e.prototype.A,_e.prototype.gluTessCallback=_e.prototype.z,_e.prototype.gluTessVertex=_e.prototype.C,_e.prototype.gluTessBeginPolygon=_e.prototype.u,_e.prototype.gluTessBeginContour=_e.prototype.t,_e.prototype.gluTessEndContour=_e.prototype.v,_e.prototype.gluTessEndPolygon=_e.prototype.w,O!==void 0&&(O.exports=this.libtess)},{}],246:[function(t,O,_){function f(i,l,g,y){for(var n=i[l++],o=1<<n,s=1+o,r=1+s,a=n+1,d=(1<<a)-1,h=0,c=0,p=0,m=i[l++],b=new Int32Array(4096),A=null;;){for(;h<16&&m!==0;)c|=i[l++]<<h,h+=8,m===1?m=i[l++]:--m;if(h<a)break;var T=c&d;if(c>>=a,h-=a,T==o)r=1+s,d=(1<<(a=n+1))-1,A=null;else{if(T==s)break;for(var x=T<r?T:A,R=0,S=x;o<S;)S=b[S]>>8,++R;var C=S;if(y<p+R+(x!==T?1:0))return void console.log("Warning, gif stream longer than expected.");g[p++]=C;var D=p+=R;for(x!==T&&(g[p++]=C),S=x;R--;)S=b[S],g[--D]=255&S,S>>=8;A!==null&&r<4096&&(b[r++]=A<<8|C,d+1<=r&&a<12&&(++a,d=d<<1|1)),A=T}}p!==y&&console.log("Warning, gif stream shorter than expected.")}try{_.GifWriter=function(i,l,g,y){var n=0,o=(y=y===void 0?{}:y).loop===void 0?null:y.loop,s=y.palette===void 0?null:y.palette;if(l<=0||g<=0||65535<l||65535<g)throw new Error("Width/Height invalid.");function r(A){if((A=A.length)<2||256<A||A&A-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return A}i[n++]=71,i[n++]=73,i[n++]=70,i[n++]=56,i[n++]=57,i[n++]=97;var a=0,d=0;if(s!==null){for(var h=r(s);h>>=1;)++a;if(h=1<<a,--a,y.background!==void 0){if(h<=(d=y.background))throw new Error("Background index out of range.");if(d===0)throw new Error("Background index explicitly passed as 0.")}}if(i[n++]=255&l,i[n++]=l>>8&255,i[n++]=255&g,i[n++]=g>>8&255,i[n++]=(s!==null?128:0)|a,i[n++]=d,i[n++]=0,s!==null)for(var c=0,p=s.length;c<p;++c){var m=s[c];i[n++]=m>>16&255,i[n++]=m>>8&255,i[n++]=255&m}if(o!==null){if(o<0||65535<o)throw new Error("Loop count invalid.");i[n++]=33,i[n++]=255,i[n++]=11,i[n++]=78,i[n++]=69,i[n++]=84,i[n++]=83,i[n++]=67,i[n++]=65,i[n++]=80,i[n++]=69,i[n++]=50,i[n++]=46,i[n++]=48,i[n++]=3,i[n++]=1,i[n++]=255&o,i[n++]=o>>8&255,i[n++]=0}var b=!1;this.addFrame=function(A,T,x,R,S,C){if(b===!0&&(--n,b=!1),C=C===void 0?{}:C,A<0||T<0||65535<A||65535<T)throw new Error("x/y invalid.");if(x<=0||R<=0||65535<x||65535<R)throw new Error("Width/Height invalid.");if(S.length<x*R)throw new Error("Not enough pixels for the frame size.");var D=!0,N=C.palette;if(N==null&&(D=!1,N=s),N==null)throw new Error("Must supply either a local or global palette.");for(var F=r(N),M=0;F>>=1;)++M;F=1<<M;var L=C.delay===void 0?0:C.delay,z=C.disposal===void 0?0:C.disposal;if(z<0||3<z)throw new Error("Disposal out of range.");var Y=!1,Z=0;if(C.transparent!==void 0&&C.transparent!==null&&(Y=!0,(Z=C.transparent)<0||F<=Z))throw new Error("Transparent color index.");if(z===0&&!Y&&L===0||(i[n++]=33,i[n++]=249,i[n++]=4,i[n++]=z<<2|(Y===!0?1:0),i[n++]=255&L,i[n++]=L>>8&255,i[n++]=Z,i[n++]=0),i[n++]=44,i[n++]=255&A,i[n++]=A>>8&255,i[n++]=255&T,i[n++]=T>>8&255,i[n++]=255&x,i[n++]=x>>8&255,i[n++]=255&R,i[n++]=R>>8&255,i[n++]=D===!0?128|M-1:0,D===!0)for(var ee=0,te=N.length;ee<te;++ee){var oe=N[ee];i[n++]=oe>>16&255,i[n++]=oe>>8&255,i[n++]=255&oe}return n=function(U,q,K,se){U[q++]=K;var ie=q++,le=1<<K,$=le-1,ce=1+le,ye=1+ce,_e=K+1,he=0,ve=0;function Ee(Re){for(;Re<=he;)U[q++]=255&ve,ve>>=8,he-=8,q===ie+256&&(U[ie]=255,ie=q++)}function Fe(Re){ve|=Re<<he,he+=_e,Ee(8)}var Oe=se[0]&$,Ge={};Fe(le);for(var $e=1,Je=se.length;$e<Je;++$e){var mt=se[$e]&$,tt=Oe<<8|mt,de=Ge[tt];if(de===void 0){for(ve|=Oe<<he,he+=_e;8<=he;)U[q++]=255&ve,ve>>=8,he-=8,q===ie+256&&(U[ie]=255,ie=q++);ye===4096?(Fe(le),ye=1+ce,_e=K+1,Ge={}):(1<<_e<=ye&&++_e,Ge[tt]=ye++),Oe=mt}else Oe=de}return Fe(Oe),Fe(ce),Ee(1),ie+1===q?U[ie]=0:(U[ie]=q-ie-1,U[q++]=0),q}(i,n,M<2?2:M,S)},this.end=function(){return b===!1&&(i[n++]=59,b=!0),n},this.getOutputBuffer=function(){return i},this.setOutputBuffer=function(A){i=A},this.getOutputBufferPosition=function(){return n},this.setOutputBufferPosition=function(A){n=A}},_.GifReader=function(i){var l=0;if(i[l++]!==71||i[l++]!==73||i[l++]!==70||i[l++]!==56||(i[l++]+1&253)!=56||i[l++]!==97)throw new Error("Invalid GIF 87a/89a header.");var g=i[l++]|i[l++]<<8,y=i[l++]|i[l++]<<8,n=i[l++],o=1<<1+(7&n),s=(i[l++],i[l++],null),r=null,a=(n>>7&&(s=l,l+=3*(r=o)),!0),d=[],h=0,c=null,p=0,m=null;for(this.width=g,this.height=y;a&&l<i.length;)switch(i[l++]){case 33:switch(i[l++]){case 255:if(i[l]!==11||i[l+1]==78&&i[l+2]==69&&i[l+3]==84&&i[l+4]==83&&i[l+5]==67&&i[l+6]==65&&i[l+7]==80&&i[l+8]==69&&i[l+9]==50&&i[l+10]==46&&i[l+11]==48&&i[l+12]==3&&i[l+13]==1&&i[l+16]==0)l+=14,m=i[l++]|i[l++]<<8,l++;else for(l+=12;;){if(!(0<=(A=i[l++])))throw Error("Invalid block size");if(A===0)break;l+=A}break;case 249:if(i[l++]!==4||i[l+4]!==0)throw new Error("Invalid graphics extension block.");var b=i[l++];h=i[l++]|i[l++]<<8,c=i[l++],!(1&b)&&(c=null),p=b>>2&7,l++;break;case 254:for(;;){if(!(0<=(A=i[l++])))throw Error("Invalid block size");if(A===0)break;l+=A}break;default:throw new Error("Unknown graphic control label: 0x"+i[l-1].toString(16))}break;case 44:var A,T=i[l++]|i[l++]<<8,x=i[l++]|i[l++]<<8,R=i[l++]|i[l++]<<8,S=i[l++]|i[l++]<<8,C=(M=i[l++])>>6&1,D=s,N=r,F=!1,M=(M>>7&&(F=!0,D=l,l+=3*(N=1<<1+(7&M))),l);for(l++;;){if(!(0<=(A=i[l++])))throw Error("Invalid block size");if(A===0)break;l+=A}d.push({x:T,y:x,width:R,height:S,has_local_palette:F,palette_offset:D,palette_size:N,data_offset:M,data_length:l-M,transparent_index:c,interlaced:!!C,delay:h,disposal:p});break;case 59:a=!1;break;default:throw new Error("Unknown gif block: 0x"+i[l-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return m},this.frameInfo=function(L){if(L<0||L>=d.length)throw new Error("Frame index out of range.");return d[L]},this.decodeAndBlitFrameBGRA=function(L,z){for(var Y=(L=this.frameInfo(L)).width*L.height,Z=new Uint8Array(Y),ee=(f(i,L.data_offset,Z,Y),L.palette_offset),te=L.transparent_index,oe=(te===null&&(te=256),L.width),U=g-oe,q=oe,K=4*(L.y*g+L.x),se=4*((L.y+L.height)*g+L.x),ie=K,le=4*U,$=(L.interlaced===!0&&(le+=4*g*7),8),ce=0,ye=Z.length;ce<ye;++ce){var _e,he,ve=Z[ce];q===0&&(q=oe,se<=(ie+=le)&&(le=4*U+4*g*($-1),ie=K+(oe+U)*($<<1),$>>=1)),ve===te?ie+=4:(_e=i[ee+3*ve],he=i[ee+3*ve+1],ve=i[ee+3*ve+2],z[ie++]=ve,z[ie++]=he,z[ie++]=_e,z[ie++]=255),--q}},this.decodeAndBlitFrameRGBA=function(L,z){for(var Y=(L=this.frameInfo(L)).width*L.height,Z=new Uint8Array(Y),ee=(f(i,L.data_offset,Z,Y),L.palette_offset),te=L.transparent_index,oe=(te===null&&(te=256),L.width),U=g-oe,q=oe,K=4*(L.y*g+L.x),se=4*((L.y+L.height)*g+L.x),ie=K,le=4*U,$=(L.interlaced===!0&&(le+=4*g*7),8),ce=0,ye=Z.length;ce<ye;++ce){var _e,he,ve=Z[ce];q===0&&(q=oe,se<=(ie+=le)&&(le=4*U+4*g*($-1),ie=K+(oe+U)*($<<1),$>>=1)),ve===te?ie+=4:(_e=i[ee+3*ve],he=i[ee+3*ve+1],ve=i[ee+3*ve+2],z[ie++]=_e,z[ie++]=he,z[ie++]=ve,z[ie++]=255),--q}}}}catch{}},{}],247:[function(t,O,_){(function(f){(function(i){function l(u){if(this==null)throw TypeError();var v,j=String(this),P=j.length;if(!((u=(u=u?Number(u):0)!=u?0:u)<0||P<=u))return 55296<=(v=j.charCodeAt(u))&&v<=56319&&u+1<P&&56320<=(P=j.charCodeAt(u+1))&&P<=57343?1024*(v-55296)+P-56320+65536:v}String.prototype.codePointAt||((g=function(){try{var u={},v=Object.defineProperty,j=v(u,u,u)&&v}catch{}return j}())?g(String.prototype,"codePointAt",{value:l,configurable:!0,writable:!0}):String.prototype.codePointAt=l);var g;function y(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function n(u,v){this.source=u,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=v,this.destLen=0,this.ltree=new y,this.dtree=new y}var o=new y,s=new y,r=new Uint8Array(30),a=new Uint16Array(30),d=new Uint8Array(30),h=new Uint16Array(30),c=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),p=new y,m=new Uint8Array(320);function b(u,v,j,P){for(var B,H=0;H<j;++H)u[H]=0;for(H=0;H<30-j;++H)u[H+j]=H/j|0;for(B=P,H=0;H<30;++H)v[H]=B,B+=1<<u[H]}var A=new Uint16Array(16);function T(u,v,j,P){for(var B,H=0;H<16;++H)u.table[H]=0;for(H=0;H<P;++H)u.table[v[j+H]]++;for(H=B=u.table[0]=0;H<16;++H)A[H]=B,B+=u.table[H];for(H=0;H<P;++H)v[j+H]&&(u.trans[A[v[j+H]]++]=H)}function x(u,v,j){if(!v)return j;for(;u.bitcount<24;)u.tag|=u.source[u.sourceIndex++]<<u.bitcount,u.bitcount+=8;var P=u.tag&65535>>>16-v;return u.tag>>>=v,u.bitcount-=v,P+j}function R(u,v){for(;u.bitcount<24;)u.tag|=u.source[u.sourceIndex++]<<u.bitcount,u.bitcount+=8;for(var j=0,P=0,B=0,H=u.tag;P=2*P+(1&H),H>>>=1,j+=v.table[++B],0<=(P-=v.table[B]););return u.tag=H,u.bitcount-=B,v.trans[j+P]}function S(u,v,j){for(;;){if((H=R(u,v))===256)return 0;if(H<256)u.dest[u.destLen++]=H;else for(var P,B=x(u,r[H-=257],a[H]),H=R(u,j),X=P=u.destLen-x(u,d[H],h[H]);X<P+B;++X)u.dest[u.destLen++]=u.dest[X]}}for(var C=o,D=s,N=0;N<7;++N)C.table[N]=0;for(C.table[7]=24,C.table[8]=152,C.table[9]=112,N=0;N<24;++N)C.trans[N]=256+N;for(N=0;N<144;++N)C.trans[24+N]=N;for(N=0;N<8;++N)C.trans[168+N]=280+N;for(N=0;N<112;++N)C.trans[176+N]=144+N;for(N=0;N<5;++N)D.table[N]=0;for(D.table[5]=32,N=0;N<32;++N)D.trans[N]=N;b(r,a,4,3),b(d,h,2,1),r[28]=0,a[28]=258;function F(u,v,j,P,B){return Math.pow(1-B,3)*u+3*Math.pow(1-B,2)*B*v+3*(1-B)*Math.pow(B,2)*j+Math.pow(B,3)*P}function M(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function L(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function z(u){throw new Error(u)}function Y(u,v){u||z(v)}M.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},M.prototype.addPoint=function(u,v){typeof u=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=u,this.x2=u),u<this.x1&&(this.x1=u),u>this.x2&&(this.x2=u)),typeof v=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=v,this.y2=v),v<this.y1&&(this.y1=v),v>this.y2&&(this.y2=v))},M.prototype.addX=function(u){this.addPoint(u,null)},M.prototype.addY=function(u){this.addPoint(null,u)},M.prototype.addBezier=function(u,v,j,P,B,H,X,ae){var fe=[u,v],pe=[j,P],Se=[B,H],ke=[X,ae];this.addPoint(u,v),this.addPoint(X,ae);for(var Me=0;Me<=1;Me++){var be,Xe=6*fe[Me]-12*pe[Me]+6*Se[Me],De=-3*fe[Me]+9*pe[Me]-9*Se[Me]+3*ke[Me],Be=3*pe[Me]-3*fe[Me];De==0?Xe==0||0<(be=-Be/Xe)&&be<1&&(Me===0&&this.addX(F(fe[Me],pe[Me],Se[Me],ke[Me],be)),Me===1&&this.addY(F(fe[Me],pe[Me],Se[Me],ke[Me],be))):(be=Math.pow(Xe,2)-4*Be*De)<0||(0<(Be=(-Xe+Math.sqrt(be))/(2*De))&&Be<1&&(Me===0&&this.addX(F(fe[Me],pe[Me],Se[Me],ke[Me],Be)),Me===1&&this.addY(F(fe[Me],pe[Me],Se[Me],ke[Me],Be))),0<(Be=(-Xe-Math.sqrt(be))/(2*De))&&Be<1&&(Me===0&&this.addX(F(fe[Me],pe[Me],Se[Me],ke[Me],Be)),Me===1&&this.addY(F(fe[Me],pe[Me],Se[Me],ke[Me],Be))))}},M.prototype.addQuad=function(u,v,j,P,B,H){j=u+2/3*(j-u),P=v+2/3*(P-v),this.addBezier(u,v,j,P,j+1/3*(B-u),P+1/3*(H-v),B,H)},L.prototype.moveTo=function(u,v){this.commands.push({type:"M",x:u,y:v})},L.prototype.lineTo=function(u,v){this.commands.push({type:"L",x:u,y:v})},L.prototype.curveTo=L.prototype.bezierCurveTo=function(u,v,j,P,B,H){this.commands.push({type:"C",x1:u,y1:v,x2:j,y2:P,x:B,y:H})},L.prototype.quadTo=L.prototype.quadraticCurveTo=function(u,v,j,P){this.commands.push({type:"Q",x1:u,y1:v,x:j,y:P})},L.prototype.close=L.prototype.closePath=function(){this.commands.push({type:"Z"})},L.prototype.extend=function(u){var v;if(u.commands)u=u.commands;else if(u instanceof M)return v=u,this.moveTo(v.x1,v.y1),this.lineTo(v.x2,v.y1),this.lineTo(v.x2,v.y2),this.lineTo(v.x1,v.y2),void this.close();Array.prototype.push.apply(this.commands,u)},L.prototype.getBoundingBox=function(){for(var u=new M,v=0,j=0,P=0,B=0,H=0;H<this.commands.length;H++){var X=this.commands[H];switch(X.type){case"M":u.addPoint(X.x,X.y),v=P=X.x,j=B=X.y;break;case"L":u.addPoint(X.x,X.y),P=X.x,B=X.y;break;case"Q":u.addQuad(P,B,X.x1,X.y1,X.x,X.y),P=X.x,B=X.y;break;case"C":u.addBezier(P,B,X.x1,X.y1,X.x2,X.y2,X.x,X.y),P=X.x,B=X.y;break;case"Z":P=v,B=j;break;default:throw new Error("Unexpected path command "+X.type)}}return u.isEmpty()&&u.addPoint(0,0),u},L.prototype.draw=function(u){u.beginPath();for(var v=0;v<this.commands.length;v+=1){var j=this.commands[v];j.type==="M"?u.moveTo(j.x,j.y):j.type==="L"?u.lineTo(j.x,j.y):j.type==="C"?u.bezierCurveTo(j.x1,j.y1,j.x2,j.y2,j.x,j.y):j.type==="Q"?u.quadraticCurveTo(j.x1,j.y1,j.x,j.y):j.type==="Z"&&u.closePath()}this.fill&&(u.fillStyle=this.fill,u.fill()),this.stroke&&(u.strokeStyle=this.stroke,u.lineWidth=this.strokeWidth,u.stroke())},L.prototype.toPathData=function(u){function v(){for(var H=arguments,X="",ae=0;ae<arguments.length;ae+=1){var fe=H[ae];0<=fe&&0<ae&&(X+=" "),X+=(fe=fe,Math.round(fe)===fe?""+Math.round(fe):fe.toFixed(u))}return X}u=u!==void 0?u:2;for(var j="",P=0;P<this.commands.length;P+=1){var B=this.commands[P];B.type==="M"?j+="M"+v(B.x,B.y):B.type==="L"?j+="L"+v(B.x,B.y):B.type==="C"?j+="C"+v(B.x1,B.y1,B.x2,B.y2,B.x,B.y):B.type==="Q"?j+="Q"+v(B.x1,B.y1,B.x,B.y):B.type==="Z"&&(j+="Z")}return j},L.prototype.toSVG=function(u){var v=(v='<path d="')+this.toPathData(u)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?v+=' fill="none"':v+=' fill="'+this.fill+'"'),this.stroke&&(v+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),v+"/>"},L.prototype.toDOMElement=function(u){u=this.toPathData(u);var v=document.createElementNS("http://www.w3.org/2000/svg","path");return v.setAttribute("d",u),v};var Z={fail:z,argument:Y,assert:Y},ee={},te={},oe={};function U(u){return function(){return u}}te.BYTE=function(u){return Z.argument(0<=u&&u<=255,"Byte value should be between 0 and 255."),[u]},oe.BYTE=U(1),te.CHAR=function(u){return[u.charCodeAt(0)]},oe.CHAR=U(1),te.CHARARRAY=function(u){for(var v=[],j=0;j<u.length;j+=1)v[j]=u.charCodeAt(j);return v},oe.CHARARRAY=function(u){return u.length},te.USHORT=function(u){return[u>>8&255,255&u]},oe.USHORT=U(2),te.SHORT=function(u){return[(u=32768<=u?-(65536-u):u)>>8&255,255&u]},oe.SHORT=U(2),te.UINT24=function(u){return[u>>16&255,u>>8&255,255&u]},oe.UINT24=U(3),te.ULONG=function(u){return[u>>24&255,u>>16&255,u>>8&255,255&u]},oe.ULONG=U(4),te.LONG=function(u){return[(u=2147483648<=u?-(4294967296-u):u)>>24&255,u>>16&255,u>>8&255,255&u]},oe.LONG=U(4),te.FIXED=te.ULONG,oe.FIXED=oe.ULONG,te.FWORD=te.SHORT,oe.FWORD=oe.SHORT,te.UFWORD=te.USHORT,oe.UFWORD=oe.USHORT,te.LONGDATETIME=function(u){return[0,0,0,0,u>>24&255,u>>16&255,u>>8&255,255&u]},oe.LONGDATETIME=U(8),te.TAG=function(u){return Z.argument(u.length===4,"Tag should be exactly 4 ASCII characters."),[u.charCodeAt(0),u.charCodeAt(1),u.charCodeAt(2),u.charCodeAt(3)]},oe.TAG=U(4),te.Card8=te.BYTE,oe.Card8=oe.BYTE,te.Card16=te.USHORT,oe.Card16=oe.USHORT,te.OffSize=te.BYTE,oe.OffSize=oe.BYTE,te.SID=te.USHORT,oe.SID=oe.USHORT,te.NUMBER=function(u){return-107<=u&&u<=107?[u+139]:108<=u&&u<=1131?[247+((u-=108)>>8),255&u]:-1131<=u&&u<=-108?[251+((u=-u-108)>>8),255&u]:-32768<=u&&u<=32767?te.NUMBER16(u):te.NUMBER32(u)},oe.NUMBER=function(u){return te.NUMBER(u).length},te.NUMBER16=function(u){return[28,u>>8&255,255&u]},oe.NUMBER16=U(3),te.NUMBER32=function(u){return[29,u>>24&255,u>>16&255,u>>8&255,255&u]},oe.NUMBER32=U(5),te.REAL=function(u){for(var v=u.toString(),j=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(v),P=(j&&(j=parseFloat("1e"+((j[2]?+j[2]:0)+j[1].length)),v=(Math.round(u*j)/j).toString()),""),B=0,H=v.length;B<H;B+=1){var X=v[B];P+=X==="e"?v[++B]==="-"?"c":"b":X==="."?"a":X==="-"?"e":X}for(var ae=[30],fe=0,pe=(P+=1&P.length?"f":"ff").length;fe<pe;fe+=2)ae.push(parseInt(P.substr(fe,2),16));return ae},oe.REAL=function(u){return te.REAL(u).length},te.NAME=te.CHARARRAY,oe.NAME=oe.CHARARRAY,te.STRING=te.CHARARRAY,oe.STRING=oe.CHARARRAY,ee.UTF8=function(u,v,j){for(var P=[],B=j,H=0;H<B;H++,v+=1)P[H]=u.getUint8(v);return String.fromCharCode.apply(null,P)},ee.UTF16=function(u,v,j){for(var P=[],B=j/2,H=0;H<B;H++,v+=2)P[H]=u.getUint16(v);return String.fromCharCode.apply(null,P)},te.UTF16=function(u){for(var v=[],j=0;j<u.length;j+=1){var P=u.charCodeAt(j);v[v.length]=P>>8&255,v[v.length]=255&P}return v},oe.UTF16=function(u){return 2*u.length};var q,K={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"},se=(ee.MACSTRING=function(u,v,j,P){var B=K[P];if(B!==void 0){for(var H="",X=0;X<j;X++){var ae=u.getUint8(v+X);H+=ae<=127?String.fromCharCode(ae):B[127&ae]}return H}},typeof WeakMap=="function"&&new WeakMap);function ie(u){return-128<=u&&u<=127}te.MACSTRING=function(u,v){var j=function(X){if(!q)for(var ae in q={},K)q[ae]=new String(ae);var fe=q[X];if(fe!==void 0){if(se){var pe=se.get(fe);if(pe!==void 0)return pe}var Se=K[X];if(Se!==void 0){for(var ke={},Me=0;Me<Se.length;Me++)ke[Se.charCodeAt(Me)]=Me+128;return se&&se.set(fe,ke),ke}}}(v);if(j!==void 0){for(var P=[],B=0;B<u.length;B++){var H=u.charCodeAt(B);if(128<=H&&(H=j[H])===void 0)return;P[B]=H}return P}},oe.MACSTRING=function(u,v){return(u=te.MACSTRING(u,v))!==void 0?u.length:0},te.VARDELTAS=function(u){for(var v=0,j=[];v<u.length;){var P=u[v];v=(P===0?function(B,H,X){for(var ae=0,fe=B.length;H<fe&&ae<64&&B[H]===0;)++H,++ae;return X.push(128|ae-1),H}:-128<=P&&P<=127?function(B,H,X){for(var ae=0,fe=B.length,pe=H;pe<fe&&ae<64;){var Se=B[pe];if(!ie(Se)||Se===0&&pe+1<fe&&B[pe+1]===0)break;++pe,++ae}X.push(ae-1);for(var ke=H;ke<pe;++ke)X.push(B[ke]+256&255);return pe}:function(B,H,X){for(var ae=0,fe=B.length,pe=H;pe<fe&&ae<64;){var Se=B[pe];if(Se===0||ie(Se)&&pe+1<fe&&ie(B[pe+1]))break;++pe,++ae}X.push(64|ae-1);for(var ke=H;ke<pe;++ke){var Me=B[ke];X.push(Me+65536>>8&255,Me+256&255)}return pe})(u,v,j)}return j},te.INDEX=function(u){for(var v=1,j=[v],P=[],B=0;B<u.length;B+=1){var H=te.OBJECT(u[B]);Array.prototype.push.apply(P,H),v+=H.length,j.push(v)}if(P.length===0)return[0,0];for(var X=[],ae=1+Math.floor(Math.log(v)/Math.log(2))/8|0,fe=[void 0,te.BYTE,te.USHORT,te.UINT24,te.ULONG][ae],pe=0;pe<j.length;pe+=1){var Se=fe(j[pe]);Array.prototype.push.apply(X,Se)}return Array.prototype.concat(te.Card16(u.length),te.OffSize(ae),X,P)},oe.INDEX=function(u){return te.INDEX(u).length},te.DICT=function(u){for(var v=[],j=Object.keys(u),P=j.length,B=0;B<P;B+=1){var H=parseInt(j[B],0),X=u[H];v=(v=v.concat(te.OPERAND(X.value,X.type))).concat(te.OPERATOR(H))}return v},oe.DICT=function(u){return te.DICT(u).length},te.OPERATOR=function(u){return u<1200?[u]:[12,u-1200]},te.OPERAND=function(u,v){var j=[];if(Array.isArray(v))for(var P=0;P<v.length;P+=1)Z.argument(u.length===v.length,"Not enough arguments given for type"+v),j=j.concat(te.OPERAND(u[P],v[P]));else if(v==="SID")j=j.concat(te.NUMBER(u));else if(v==="offset")j=j.concat(te.NUMBER32(u));else if(v==="number")j=j.concat(te.NUMBER(u));else{if(v!=="real")throw new Error("Unknown operand type "+v);j=j.concat(te.REAL(u))}return j},te.OP=te.BYTE,oe.OP=oe.BYTE;var le=typeof WeakMap=="function"&&new WeakMap;function $(u,v,j){for(var P=0;P<v.length;P+=1){var B=v[P];this[B.name]=B.value}if(this.tableName=u,this.fields=v,j)for(var H=Object.keys(j),X=0;X<H.length;X+=1){var ae=H[X],fe=j[ae];this[ae]!==void 0&&(this[ae]=fe)}}function ce(u,v,j){j===void 0&&(j=v.length);var P=new Array(v.length+1);P[0]={name:u+"Count",type:"USHORT",value:j};for(var B=0;B<v.length;B++)P[B+1]={name:u+B,type:"USHORT",value:v[B]};return P}function ye(u,v,j){var P=v.length,B=new Array(P+1);B[0]={name:u+"Count",type:"USHORT",value:P};for(var H=0;H<P;H++)B[H+1]={name:u+H,type:"TABLE",value:j(v[H],H)};return B}function _e(u,v,j){var P=v.length,B=[];B[0]={name:u+"Count",type:"USHORT",value:P};for(var H=0;H<P;H++)B=B.concat(j(v[H],H));return B}function he(u){u.format===1?$.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(ce("glyph",u.glyphs))):Z.assert(!1,"Can't create coverage table format 2 yet.")}function ve(u){$.call(this,"scriptListTable",_e("scriptRecord",u,function(v,j){var P=v.script,B=P.defaultLangSys;return Z.assert(!!B,"Unable to write GSUB: script "+v.tag+" has no default language system."),[{name:"scriptTag"+j,type:"TAG",value:v.tag},{name:"script"+j,type:"TABLE",value:new $("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new $("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:B.reqFeatureIndex}].concat(ce("featureIndex",B.featureIndexes)))}].concat(_e("langSys",P.langSysRecords,function(H,X){var ae=H.langSys;return[{name:"langSysTag"+X,type:"TAG",value:H.tag},{name:"langSys"+X,type:"TABLE",value:new $("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:ae.reqFeatureIndex}].concat(ce("featureIndex",ae.featureIndexes)))}]})))}]}))}function Ee(u){$.call(this,"featureListTable",_e("featureRecord",u,function(v,j){var P=v.feature;return[{name:"featureTag"+j,type:"TAG",value:v.tag},{name:"feature"+j,type:"TABLE",value:new $("featureTable",[{name:"featureParams",type:"USHORT",value:P.featureParams}].concat(ce("lookupListIndex",P.lookupListIndexes)))}]}))}function Fe(u,v){$.call(this,"lookupListTable",ye("lookup",u,function(j){var P=v[j.lookupType];return Z.assert(!!P,"Unable to write GSUB lookup type "+j.lookupType+" tables."),new $("lookupTable",[{name:"lookupType",type:"USHORT",value:j.lookupType},{name:"lookupFlag",type:"USHORT",value:j.lookupFlag}].concat(ye("subtable",j.subtables,P)))}))}te.CHARSTRING=function(u){if(le){var v=le.get(u);if(v!==void 0)return v}for(var j=[],P=u.length,B=0;B<P;B+=1){var H=u[B];j=j.concat(te[H.type](H.value))}return le&&le.set(u,j),j},oe.CHARSTRING=function(u){return te.CHARSTRING(u).length},te.OBJECT=function(u){var v=te[u.type];return Z.argument(v!==void 0,"No encoding function for type "+u.type),v(u.value)},oe.OBJECT=function(u){var v=oe[u.type];return Z.argument(v!==void 0,"No sizeOf function for type "+u.type),v(u.value)},te.TABLE=function(u){for(var v=[],j=u.fields.length,P=[],B=[],H=0;H<j;H+=1){var X=u.fields[H],ae=te[X.type],fe=(Z.argument(ae!==void 0,"No encoding function for field type "+X.type+" ("+X.name+")"),u[X.name]);ae=ae(fe=fe===void 0?X.value:fe),X.type==="TABLE"?(B.push(v.length),v=v.concat([0,0]),P.push(ae)):v=v.concat(ae)}for(var pe=0;pe<P.length;pe+=1){var Se=B[pe],ke=v.length;Z.argument(ke<65536,"Table "+u.tableName+" too big."),v[Se]=ke>>8,v[Se+1]=255&ke,v=v.concat(P[pe])}return v},oe.TABLE=function(u){for(var v=0,j=u.fields.length,P=0;P<j;P+=1){var B=u.fields[P],H=oe[B.type],X=(Z.argument(H!==void 0,"No sizeOf function for field type "+B.type+" ("+B.name+")"),u[B.name]);v+=H(X=X===void 0?B.value:X),B.type==="TABLE"&&(v+=2)}return v},te.RECORD=te.TABLE,oe.RECORD=oe.TABLE,te.LITERAL=function(u){return u},oe.LITERAL=function(u){return u.length},$.prototype.encode=function(){return te.TABLE(this)},$.prototype.sizeOf=function(){return oe.TABLE(this)};var Oe={Table:$,Record:$,Coverage:(he.prototype=Object.create($.prototype)).constructor=he,ScriptList:(ve.prototype=Object.create($.prototype)).constructor=ve,FeatureList:(Ee.prototype=Object.create($.prototype)).constructor=Ee,LookupList:(Fe.prototype=Object.create($.prototype)).constructor=Fe,ushortList:ce,tableList:ye,recordList:_e};function Ge(u,v){return u.getUint8(v)}function $e(u,v){return u.getUint16(v,!1)}function Je(u,v){return u.getUint32(v,!1)}function mt(u,v){return u.getInt16(v,!1)+u.getUint16(v+2,!1)/65535}var tt={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function de(u,v){this.data=u,this.offset=v,this.relativeOffset=0}de.prototype.parseByte=function(){var u=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,u},de.prototype.parseChar=function(){var u=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,u},de.prototype.parseCard8=de.prototype.parseByte,de.prototype.parseCard16=de.prototype.parseUShort=function(){var u=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,u},de.prototype.parseSID=de.prototype.parseUShort,de.prototype.parseOffset16=de.prototype.parseUShort,de.prototype.parseShort=function(){var u=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,u},de.prototype.parseF2Dot14=function(){var u=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,u},de.prototype.parseOffset32=de.prototype.parseULong=function(){var u=Je(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,u},de.prototype.parseFixed=function(){var u=mt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,u},de.prototype.parseString=function(u){var v=this.data,j=this.offset+this.relativeOffset,P="";this.relativeOffset+=u;for(var B=0;B<u;B++)P+=String.fromCharCode(v.getUint8(j+B));return P},de.prototype.parseTag=function(){return this.parseString(4)},de.prototype.parseLongDateTime=function(){var u=Je(this.data,this.offset+this.relativeOffset+4);return u-=2082844800,this.relativeOffset+=8,u},de.prototype.parseVersion=function(u){var v=$e(this.data,this.offset+this.relativeOffset),j=$e(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,v+j/(u=u===void 0?4096:u)/10},de.prototype.skip=function(u,v){this.relativeOffset+=tt[u]*(v=v===void 0?1:v)},de.prototype.parseULongList=function(u){u===void 0&&(u=this.parseULong());for(var v=new Array(u),j=this.data,P=this.offset+this.relativeOffset,B=0;B<u;B++)v[B]=j.getUint32(P),P+=4;return this.relativeOffset+=4*u,v},de.prototype.parseOffset16List=de.prototype.parseUShortList=function(u){u===void 0&&(u=this.parseUShort());for(var v=new Array(u),j=this.data,P=this.offset+this.relativeOffset,B=0;B<u;B++)v[B]=j.getUint16(P),P+=2;return this.relativeOffset+=2*u,v},de.prototype.parseShortList=function(u){for(var v=new Array(u),j=this.data,P=this.offset+this.relativeOffset,B=0;B<u;B++)v[B]=j.getInt16(P),P+=2;return this.relativeOffset+=2*u,v},de.prototype.parseByteList=function(u){for(var v=new Array(u),j=this.data,P=this.offset+this.relativeOffset,B=0;B<u;B++)v[B]=j.getUint8(P++);return this.relativeOffset+=u,v},de.prototype.parseList=function(u,v){v||(v=u,u=this.parseUShort());for(var j=new Array(u),P=0;P<u;P++)j[P]=v.call(this);return j},de.prototype.parseList32=function(u,v){v||(v=u,u=this.parseULong());for(var j=new Array(u),P=0;P<u;P++)j[P]=v.call(this);return j},de.prototype.parseRecordList=function(u,v){v||(v=u,u=this.parseUShort());for(var j=new Array(u),P=Object.keys(v),B=0;B<u;B++){for(var H={},X=0;X<P.length;X++){var ae=P[X],fe=v[ae];H[ae]=fe.call(this)}j[B]=H}return j},de.prototype.parseRecordList32=function(u,v){v||(v=u,u=this.parseULong());for(var j=new Array(u),P=Object.keys(v),B=0;B<u;B++){for(var H={},X=0;X<P.length;X++){var ae=P[X],fe=v[ae];H[ae]=fe.call(this)}j[B]=H}return j},de.prototype.parseStruct=function(u){if(typeof u=="function")return u.call(this);for(var v=Object.keys(u),j={},P=0;P<v.length;P++){var B=v[P],H=u[B];j[B]=H.call(this)}return j},de.prototype.parseValueRecord=function(u){var v;if((u=u===void 0?this.parseUShort():u)!==0)return v={},1&u&&(v.xPlacement=this.parseShort()),2&u&&(v.yPlacement=this.parseShort()),4&u&&(v.xAdvance=this.parseShort()),8&u&&(v.yAdvance=this.parseShort()),16&u&&(v.xPlaDevice=void 0,this.parseShort()),32&u&&(v.yPlaDevice=void 0,this.parseShort()),64&u&&(v.xAdvDevice=void 0,this.parseShort()),128&u&&(v.yAdvDevice=void 0,this.parseShort()),v},de.prototype.parseValueRecordList=function(){for(var u=this.parseUShort(),v=this.parseUShort(),j=new Array(v),P=0;P<v;P++)j[P]=this.parseValueRecord(u);return j},de.prototype.parsePointer=function(u){var v=this.parseOffset16();if(0<v)return new de(this.data,this.offset+v).parseStruct(u)},de.prototype.parsePointer32=function(u){var v=this.parseOffset32();if(0<v)return new de(this.data,this.offset+v).parseStruct(u)},de.prototype.parseListOfLists=function(u){for(var v=this.parseOffset16List(),j=v.length,P=this.relativeOffset,B=new Array(j),H=0;H<j;H++){var X=v[H];if(X===0)B[H]=void 0;else if(this.relativeOffset=X,u){for(var ae=this.parseOffset16List(),fe=new Array(ae.length),pe=0;pe<ae.length;pe++)this.relativeOffset=X+ae[pe],fe[pe]=u.call(this);B[H]=fe}else B[H]=this.parseUShortList()}return this.relativeOffset=P,B},de.prototype.parseCoverage=function(){var u=this.offset+this.relativeOffset,v=this.parseUShort(),j=this.parseUShort();if(v===1)return{format:1,glyphs:this.parseUShortList(j)};if(v!==2)throw new Error("0x"+u.toString(16)+": Coverage format must be 1 or 2.");for(var P=new Array(j),B=0;B<j;B++)P[B]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:P}},de.prototype.parseClassDef=function(){var u=this.offset+this.relativeOffset,v=this.parseUShort();if(v===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(v===2)return{format:2,ranges:this.parseRecordList({start:de.uShort,end:de.uShort,classId:de.uShort})};throw new Error("0x"+u.toString(16)+": ClassDef format must be 1 or 2.")},de.list=function(u,v){return function(){return this.parseList(u,v)}},de.list32=function(u,v){return function(){return this.parseList32(u,v)}},de.recordList=function(u,v){return function(){return this.parseRecordList(u,v)}},de.recordList32=function(u,v){return function(){return this.parseRecordList32(u,v)}},de.pointer=function(u){return function(){return this.parsePointer(u)}},de.pointer32=function(u){return function(){return this.parsePointer32(u)}},de.tag=de.prototype.parseTag,de.byte=de.prototype.parseByte,de.uShort=de.offset16=de.prototype.parseUShort,de.uShortList=de.prototype.parseUShortList,de.uLong=de.offset32=de.prototype.parseULong,de.uLongList=de.prototype.parseULongList,de.struct=de.prototype.parseStruct,de.coverage=de.prototype.parseCoverage,de.classDef=de.prototype.parseClassDef;var Re={reserved:de.uShort,reqFeatureIndex:de.uShort,featureIndexes:de.uShortList},Ce=(de.prototype.parseScriptList=function(){return this.parsePointer(de.recordList({tag:de.tag,script:de.pointer({defaultLangSys:de.pointer(Re),langSysRecords:de.recordList({tag:de.tag,langSys:de.pointer(Re)})})}))||[]},de.prototype.parseFeatureList=function(){return this.parsePointer(de.recordList({tag:de.tag,feature:de.pointer({featureParams:de.offset16,lookupListIndexes:de.uShortList})}))||[]},de.prototype.parseLookupList=function(u){return this.parsePointer(de.list(de.pointer(function(){var v=this.parseUShort(),j=(Z.argument(1<=v&&v<=9,"GPOS/GSUB lookup type "+v+" unknown."),this.parseUShort()),P=16&j;return{lookupType:v,lookupFlag:j,subtables:this.parseList(de.pointer(u[v])),markFilteringSet:P?this.parseUShort():void 0}})))||[]},de.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var u=this.parseUShort(),v=this.parseUShort();return Z.argument(u===1&&v<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:de.offset32,featureTableSubstitutionOffset:de.offset32})})||[]},{getByte:Ge,getCard8:Ge,getUShort:$e,getCard16:$e,getShort:function(u,v){return u.getInt16(v,!1)},getULong:Je,getFixed:mt,getTag:function(u,v){for(var j="",P=v;P<v+4;P+=1)j+=String.fromCharCode(u.getInt8(P));return j},getOffset:function(u,v,j){for(var P=0,B=0;B<j;B+=1)P=(P<<=8)+u.getUint8(v+B);return P},getBytes:function(u,v,j){for(var P=[],B=v;B<j;B+=1)P.push(u.getUint8(B));return P},bytesToString:function(u){for(var v="",j=0;j<u.length;j+=1)v+=String.fromCharCode(u[j]);return v},Parser:de}),qe=function(u,v){for(var j={},P=(j.version=Ce.getUShort(u,v),Z.argument(j.version===0,"cmap table version should be 0."),j.numTables=Ce.getUShort(u,v+2),-1),B=j.numTables-1;0<=B;--B){var H=Ce.getUShort(u,v+4+8*B),X=Ce.getUShort(u,v+4+8*B+2);if(H===3&&(X===0||X===1||X===10)||H===0&&(X===0||X===1||X===2||X===3||X===4)){P=Ce.getULong(u,v+4+8*B+4);break}}if(P===-1)throw new Error("No valid cmap sub-tables found.");var ae=new Ce.Parser(u,v+P);if(j.format=ae.parseUShort(),j.format===12){var fe,pe=j,Se=ae;Se.parseUShort(),pe.length=Se.parseULong(),pe.language=Se.parseULong(),pe.groupCount=fe=Se.parseULong(),pe.glyphIndexMap={};for(var ke=0;ke<fe;ke+=1)for(var Me=Se.parseULong(),be=Se.parseULong(),Xe=Se.parseULong(),De=Me;De<=be;De+=1)pe.glyphIndexMap[De]=Xe,Xe++}else{if(j.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+j.format+").");var Be=j,Ie=u,Ue=v,it=P;Be.length=ae.parseUShort(),Be.language=ae.parseUShort(),Be.segCount=nt=ae.parseUShort()>>1,ae.skip("uShort",3),Be.glyphIndexMap={};for(var nt,at=new Ce.Parser(Ie,Ue+it+14),St=new Ce.Parser(Ie,Ue+it+16+2*nt),wt=new Ce.Parser(Ie,Ue+it+16+4*nt),Ot=new Ce.Parser(Ie,Ue+it+16+6*nt),Gt=Ue+it+16+8*nt,Nt=0;Nt<nt-1;Nt+=1)for(var Ct=void 0,bt=at.parseUShort(),Vt=St.parseUShort(),Ht=wt.parseShort(),Bt=Ot.parseUShort(),Rt=Vt;Rt<=bt;Rt+=1)Bt!==0?(Gt=(Gt=Ot.offset+Ot.relativeOffset-2)+Bt+2*(Rt-Vt),(Ct=Ce.getUShort(Ie,Gt))!==0&&(Ct=Ct+Ht&65535)):Ct=Rt+Ht&65535,Be.glyphIndexMap[Rt]=Ct}return j},et=function(u){for(var v=!0,j=u.length-1;0<j;--j)if(65535<u.get(j).unicode){console.log("Adding CMAP format 12 (needed!)"),v=!1;break}var P,B,H=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:v?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:v?12:20}],X=(H=(H=v?H:H.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Oe.Table("cmap",H));for(X.segments=[],j=0;j<u.length;j+=1){for(var ae=u.get(j),fe=0;fe<ae.unicodes.length;fe+=1)P=ae.unicodes[fe],B=j,X.segments.push({end:P,start:P,delta:-(P-B),offset:0,glyphIndex:B});X.segments=X.segments.sort(function(Ue,it){return Ue.start-it.start})}X.segments.push({end:65535,start:65535,delta:1,offset:0});var pe=X.segments.length,Se=0,ke=[],Me=[],be=[],Xe=[],De=[],Be=[];for(j=0;j<pe;j+=1){var Ie=X.segments[j];Ie.end<=65535&&Ie.start<=65535?(ke=ke.concat({name:"end_"+j,type:"USHORT",value:Ie.end}),Me=Me.concat({name:"start_"+j,type:"USHORT",value:Ie.start}),be=be.concat({name:"idDelta_"+j,type:"SHORT",value:Ie.delta}),Xe=Xe.concat({name:"idRangeOffset_"+j,type:"USHORT",value:Ie.offset}),Ie.glyphId!==void 0&&(De=De.concat({name:"glyph_"+j,type:"USHORT",value:Ie.glyphId}))):Se+=1,v||Ie.glyphIndex===void 0||(Be=(Be=(Be=Be.concat({name:"cmap12Start_"+j,type:"ULONG",value:Ie.start})).concat({name:"cmap12End_"+j,type:"ULONG",value:Ie.end})).concat({name:"cmap12Glyph_"+j,type:"ULONG",value:Ie.glyphIndex}))}return X.segCountX2=2*(pe-Se),X.searchRange=2*Math.pow(2,Math.floor(Math.log(pe-Se)/Math.log(2))),X.entrySelector=Math.log(X.searchRange/2)/Math.log(2),X.rangeShift=X.segCountX2-X.searchRange,X.fields=X.fields.concat(ke),X.fields.push({name:"reservedPad",type:"USHORT",value:0}),X.fields=X.fields.concat(Me),X.fields=X.fields.concat(be),X.fields=X.fields.concat(Xe),X.fields=X.fields.concat(De),X.cmap4Length=14+2*ke.length+2+2*Me.length+2*be.length+2*Xe.length+2*De.length,v||(H=16+4*Be.length,X.cmap12Offset=20+X.cmap4Length,X.fields=X.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:H},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Be.length/3}]),X.fields=X.fields.concat(Be)),X},ft=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],ot=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],rt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],re=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Q(u){this.font=u}function ne(u){this.cmap=u}function ue(u,v){this.encoding=u,this.charset=v}function we(u){switch(u.version){case 1:this.names=re.slice();break;case 2:this.names=new Array(u.numberOfGlyphs);for(var v=0;v<u.numberOfGlyphs;v++)u.glyphNameIndex[v]<re.length?this.names[v]=re[u.glyphNameIndex[v]]:this.names[v]=u.names[u.glyphNameIndex[v]-re.length];break;case 2.5:this.names=new Array(u.numberOfGlyphs);for(var j=0;j<u.numberOfGlyphs;j++)this.names[j]=re[j+u.glyphNameIndex[j]];break;default:this.names=[]}}Q.prototype.charToGlyphIndex=function(u){var v=u.codePointAt(0),j=this.font.glyphs;if(j){for(var P=0;P<j.length;P+=1)for(var B=j.get(P),H=0;H<B.unicodes.length;H+=1)if(B.unicodes[H]===v)return P}return null},ne.prototype.charToGlyphIndex=function(u){return this.cmap.glyphIndexMap[u.codePointAt(0)]||0},ue.prototype.charToGlyphIndex=function(u){return u=u.codePointAt(0),u=this.encoding[u],this.charset.indexOf(u)},we.prototype.nameToGlyphIndex=function(u){return this.names.indexOf(u)},we.prototype.glyphIndexToName=function(u){return this.names[u]};var Le=function(u,v,j,P,B){u.beginPath(),u.moveTo(v,j),u.lineTo(P,B),u.stroke()};function Ze(u){this.bindConstructorValues(u)}function He(u,v,j){Object.defineProperty(u,v,{get:function(){return u.path,u[j]},set:function(P){u[j]=P},enumerable:!0,configurable:!0})}function Te(u,v){if(this.font=u,this.glyphs={},Array.isArray(v))for(var j=0;j<v.length;j++)this.glyphs[j]=v[j];this.length=v&&v.length||0}Ze.prototype.bindConstructorValues=function(u){var v;this.index=u.index||0,this.name=u.name||null,this.unicode=u.unicode||void 0,this.unicodes=u.unicodes||u.unicode!==void 0?[u.unicode]:[],u.xMin&&(this.xMin=u.xMin),u.yMin&&(this.yMin=u.yMin),u.xMax&&(this.xMax=u.xMax),u.yMax&&(this.yMax=u.yMax),u.advanceWidth&&(this.advanceWidth=u.advanceWidth),Object.defineProperty(this,"path",(u=u.path,v=u||new L,{configurable:!0,get:function(){return v=typeof v=="function"?v():v},set:function(j){v=j}}))},Ze.prototype.addUnicode=function(u){this.unicodes.length===0&&(this.unicode=u),this.unicodes.push(u)},Ze.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Ze.prototype.getPath=function(u,v,j,P,B){u=u!==void 0?u:0,v=v!==void 0?v:0,j=j!==void 0?j:72;for(var H,X,ae=(P=P||{}).xScale,fe=P.yScale,pe=((H=P.hinting&&B&&B.hinting?this.path&&B.hinting.exec(this,j):H)?(X=B.hinting.getCommands(H),u=Math.round(u),v=Math.round(v),ae=fe=1):(X=this.path.commands,P=1/this.path.unitsPerEm*j,ae===void 0&&(ae=P),fe===void 0&&(fe=P)),new L),Se=0;Se<X.length;Se+=1){var ke=X[Se];ke.type==="M"?pe.moveTo(u+ke.x*ae,v+-ke.y*fe):ke.type==="L"?pe.lineTo(u+ke.x*ae,v+-ke.y*fe):ke.type==="Q"?pe.quadraticCurveTo(u+ke.x1*ae,v+-ke.y1*fe,u+ke.x*ae,v+-ke.y*fe):ke.type==="C"?pe.curveTo(u+ke.x1*ae,v+-ke.y1*fe,u+ke.x2*ae,v+-ke.y2*fe,u+ke.x*ae,v+-ke.y*fe):ke.type==="Z"&&pe.closePath()}return pe},Ze.prototype.getContours=function(){if(this.points===void 0)return[];for(var u=[],v=[],j=0;j<this.points.length;j+=1){var P=this.points[j];v.push(P),P.lastPointOfContour&&(u.push(v),v=[])}return Z.argument(v.length===0,"There are still points left in the current contour."),u},Ze.prototype.getMetrics=function(){for(var u=this.path.commands,v=[],j=[],P=0;P<u.length;P+=1){var B=u[P];B.type!=="Z"&&(v.push(B.x),j.push(B.y)),B.type!=="Q"&&B.type!=="C"||(v.push(B.x1),j.push(B.y1)),B.type==="C"&&(v.push(B.x2),j.push(B.y2))}var H={xMin:Math.min.apply(null,v),yMin:Math.min.apply(null,j),xMax:Math.max.apply(null,v),yMax:Math.max.apply(null,j),leftSideBearing:this.leftSideBearing};return isFinite(H.xMin)||(H.xMin=0),isFinite(H.xMax)||(H.xMax=this.advanceWidth),isFinite(H.yMin)||(H.yMin=0),isFinite(H.yMax)||(H.yMax=0),H.rightSideBearing=this.advanceWidth-H.leftSideBearing-(H.xMax-H.xMin),H},Ze.prototype.draw=function(u,v,j,P,B){this.getPath(v,j,P,B).draw(u)},Ze.prototype.drawPoints=function(u,v,j,P){function B(Se,ke,Me,be){var Xe=2*Math.PI;u.beginPath();for(var De=0;De<Se.length;De+=1)u.moveTo(ke+Se[De].x*be,Me+Se[De].y*be),u.arc(ke+Se[De].x*be,Me+Se[De].y*be,2,0,Xe,!1);u.closePath(),u.fill()}v=v!==void 0?v:0,j=j!==void 0?j:0,P=1/this.path.unitsPerEm*(P=P!==void 0?P:24);for(var H=[],X=[],ae=this.path,fe=0;fe<ae.commands.length;fe+=1){var pe=ae.commands[fe];pe.x!==void 0&&H.push({x:pe.x,y:-pe.y}),pe.x1!==void 0&&X.push({x:pe.x1,y:-pe.y1}),pe.x2!==void 0&&X.push({x:pe.x2,y:-pe.y2})}u.fillStyle="blue",B(H,v,j,P),u.fillStyle="red",B(X,v,j,P)},Ze.prototype.drawMetrics=function(u,v,j,P){v=v!==void 0?v:0,j=j!==void 0?j:0,P=1/this.path.unitsPerEm*(P=P!==void 0?P:24),u.lineWidth=1,u.strokeStyle="black",Le(u,v,-1e4,v,1e4),Le(u,-1e4,j,1e4,j);var B=this.xMin||0,H=this.yMin||0,X=this.xMax||0,ae=this.yMax||0,fe=this.advanceWidth||0;u.strokeStyle="blue",Le(u,v+B*P,-1e4,v+B*P,1e4),Le(u,v+X*P,-1e4,v+X*P,1e4),Le(u,-1e4,j+-H*P,1e4,j+-H*P),Le(u,-1e4,j+-ae*P,1e4,j+-ae*P),u.strokeStyle="green",Le(u,v+fe*P,-1e4,v+fe*P,1e4)},Te.prototype.get=function(u){return typeof this.glyphs[u]=="function"&&(this.glyphs[u]=this.glyphs[u]()),this.glyphs[u]},Te.prototype.push=function(u,v){this.glyphs[u]=v,this.length++};var Qe={GlyphSet:Te,glyphLoader:function(u,v){return new Ze({index:v,font:u})},ttfGlyphLoader:function(u,v,j,P,B,H){return function(){var X=new Ze({index:v,font:u});return X.path=function(){j(X,P,B);var ae=H(u.glyphs,X);return ae.unitsPerEm=u.unitsPerEm,ae},He(X,"xMin","_xMin"),He(X,"xMax","_xMax"),He(X,"yMin","_yMin"),He(X,"yMax","_yMax"),X}},cffGlyphLoader:function(u,v,j,P){return function(){var B=new Ze({index:v,font:u});return B.path=function(){var H=j(u,B,P);return H.unitsPerEm=u.unitsPerEm,H},B}}};function st(u){return u=u.length<1240?107:u.length<33900?1131:32768}function _t(u,v,j){var P,B=[],H=[],X=Ce.getCard16(u,v);if(X!==0){for(var ae=Ce.getByte(u,v+2),fe=v+(X+1)*ae+2,pe=v+3,Se=0;Se<X+1;Se+=1)B.push(Ce.getOffset(u,pe,ae)),pe+=ae;P=fe+B[X]}else P=v+2;for(var ke=0;ke<B.length-1;ke+=1){var Me=Ce.getBytes(u,fe+B[ke],fe+B[ke+1]);j&&(Me=j(Me)),H.push(Me)}return{objects:H,startOffset:v,endOffset:P}}function Tt(u,v){if(v===28)return u.parseByte()<<8|u.parseByte();if(v===29)return u.parseByte()<<24|u.parseByte()<<16|u.parseByte()<<8|u.parseByte();if(v===30){for(var j=u,P="",B=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var H=(X=j.parseByte())>>4,X=15&X;if(H==15||(P+=B[H],X==15))break;P+=B[X]}return parseFloat(P)}if(32<=v&&v<=246)return v-139;if(247<=v&&v<=250)return 256*(v-247)+u.parseByte()+108;if(251<=v&&v<=254)return 256*-(v-251)-u.parseByte()-108;throw new Error("Invalid b0 "+v)}function gt(u,v,j){var P=new Ce.Parser(u,v=v!==void 0?v:0),B=[],H=[];for(j=j!==void 0?j:u.length;P.relativeOffset<j;){var X=P.parseByte();X<=21?(X===12&&(X=1200+P.parseByte()),B.push([X,H]),H=[]):H.push(Tt(P,X))}for(var ae=B,fe={},pe=0;pe<ae.length;pe+=1){var Se=ae[pe][0],ke=ae[pe][1],Me=ke.length===1?ke[0]:ke;if(fe.hasOwnProperty(Se)&&!isNaN(fe[Se]))throw new Error("Object "+fe+" already has key "+Se);fe[Se]=Me}return fe}function vt(u,v){return v<=390?ft[v]:u[v-391]}function yt(u,v,j){for(var P,B={},H=0;H<v.length;H+=1){var X=v[H];if(Array.isArray(X.type)){var ae=[];ae.length=X.type.length;for(var fe=0;fe<X.type.length;fe++)(P=u[X.op]!==void 0?u[X.op][fe]:void 0)===void 0&&(P=X.value!==void 0&&X.value[fe]!==void 0?X.value[fe]:null),X.type[fe]==="SID"&&(P=vt(j,P)),ae[fe]=P;B[X.name]=ae}else(P=u[X.op])===void 0&&(P=X.value!==void 0?X.value:null),X.type==="SID"&&(P=vt(j,P)),B[X.name]=P}return B}var Mt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Lt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Zt(u,v,j,P){return yt(gt(u,v,j),Lt,P)}function Pt(u,v,j,P){for(var B=[],H=0;H<j.length;H+=1){var X,ae=((X=(ae=P,yt(gt(X=new DataView(new Uint8Array(j[H]).buffer),0,X.byteLength),Mt,ae)))._subrs=[],X._subrsBias=0,X.private[0]),fe=X.private[1];ae!==0&&fe!==0&&(ae=Zt(u,fe+v,ae,P),X._defaultWidthX=ae.defaultWidthX,X._nominalWidthX=ae.nominalWidthX,ae.subrs!==0&&(fe=_t(u,fe+ae.subrs+v),X._subrs=fe.objects,X._subrsBias=st(X._subrs)),X._privateDict=ae),B.push(X)}return B}function zt(u,v,j){var P,B,H,X,ae,fe,pe,Se,ke,Me=new L,be=[],Xe=0,De=!1,Be=!1,Ie=0,Ue=0,it=(ke=(u.isCIDFont?(ae=u.tables.cff.topDict._fdSelect[v.index],ae=u.tables.cff.topDict._fdArray[ae],fe=ae._subrs,pe=ae._subrsBias,Se=ae._defaultWidthX,ae):(fe=u.tables.cff.topDict._subrs,pe=u.tables.cff.topDict._subrsBias,Se=u.tables.cff.topDict._defaultWidthX,u.tables.cff.topDict))._nominalWidthX,Se);function nt(St,wt){Be&&Me.closePath(),Me.moveTo(St,wt),Be=!0}function at(){be.length%2==0||De||(it=be.shift()+ke),Xe+=be.length>>1,be.length=0,De=!0}return function St(wt){for(var Ot,Gt,Nt,Ct,bt,Vt,Ht,Bt,Rt,Xt,Qt,sr,Ut=0;Ut<wt.length;){var Jt=wt[Ut];switch(Ut+=1,Jt){case 1:case 3:at();break;case 4:1<be.length&&!De&&(it=be.shift()+ke,De=!0),Ue+=be.pop(),nt(Ie,Ue);break;case 5:for(;0<be.length;)Ie+=be.shift(),Ue+=be.shift(),Me.lineTo(Ie,Ue);break;case 6:for(;0<be.length&&(Ie+=be.shift(),Me.lineTo(Ie,Ue),be.length!==0);)Ue+=be.shift(),Me.lineTo(Ie,Ue);break;case 7:for(;0<be.length&&(Ue+=be.shift(),Me.lineTo(Ie,Ue),be.length!==0);)Ie+=be.shift(),Me.lineTo(Ie,Ue);break;case 8:for(;0<be.length;)P=Ie+be.shift(),B=Ue+be.shift(),H=P+be.shift(),X=B+be.shift(),Ie=H+be.shift(),Ue=X+be.shift(),Me.curveTo(P,B,H,X,Ie,Ue);break;case 10:bt=be.pop()+pe,(Vt=fe[bt])&&St(Vt);break;case 11:return;case 12:switch(Jt=wt[Ut],Ut+=1,Jt){case 35:P=Ie+be.shift(),B=Ue+be.shift(),H=P+be.shift(),X=B+be.shift(),Ht=H+be.shift(),Bt=X+be.shift(),Rt=Ht+be.shift(),Xt=Bt+be.shift(),Qt=Rt+be.shift(),sr=Xt+be.shift(),Ie=Qt+be.shift(),Ue=sr+be.shift(),be.shift(),Me.curveTo(P,B,H,X,Ht,Bt),Me.curveTo(Rt,Xt,Qt,sr,Ie,Ue);break;case 34:P=Ie+be.shift(),B=Ue,H=P+be.shift(),X=B+be.shift(),Ht=H+be.shift(),Bt=X,Rt=Ht+be.shift(),Xt=X,Qt=Rt+be.shift(),sr=Ue,Ie=Qt+be.shift(),Me.curveTo(P,B,H,X,Ht,Bt),Me.curveTo(Rt,Xt,Qt,sr,Ie,Ue);break;case 36:P=Ie+be.shift(),B=Ue+be.shift(),H=P+be.shift(),X=B+be.shift(),Ht=H+be.shift(),Bt=X,Rt=Ht+be.shift(),Xt=X,Qt=Rt+be.shift(),sr=Xt+be.shift(),Ie=Qt+be.shift(),Me.curveTo(P,B,H,X,Ht,Bt),Me.curveTo(Rt,Xt,Qt,sr,Ie,Ue);break;case 37:P=Ie+be.shift(),B=Ue+be.shift(),H=P+be.shift(),X=B+be.shift(),Ht=H+be.shift(),Bt=X+be.shift(),Rt=Ht+be.shift(),Xt=Bt+be.shift(),Qt=Rt+be.shift(),sr=Xt+be.shift(),Math.abs(Qt-Ie)>Math.abs(sr-Ue)?Ie=Qt+be.shift():Ue=sr+be.shift(),Me.curveTo(P,B,H,X,Ht,Bt),Me.curveTo(Rt,Xt,Qt,sr,Ie,Ue);break;default:console.log("Glyph "+v.index+": unknown operator 1200"+Jt),be.length=0}break;case 14:0<be.length&&!De&&(it=be.shift()+ke,De=!0),Be&&(Me.closePath(),Be=!1);break;case 18:at();break;case 19:case 20:at(),Ut+=Xe+7>>3;break;case 21:2<be.length&&!De&&(it=be.shift()+ke,De=!0),Ue+=be.pop(),nt(Ie+=be.pop(),Ue);break;case 22:1<be.length&&!De&&(it=be.shift()+ke,De=!0),nt(Ie+=be.pop(),Ue);break;case 23:at();break;case 24:for(;2<be.length;)P=Ie+be.shift(),B=Ue+be.shift(),H=P+be.shift(),X=B+be.shift(),Ie=H+be.shift(),Ue=X+be.shift(),Me.curveTo(P,B,H,X,Ie,Ue);Ie+=be.shift(),Ue+=be.shift(),Me.lineTo(Ie,Ue);break;case 25:for(;6<be.length;)Ie+=be.shift(),Ue+=be.shift(),Me.lineTo(Ie,Ue);P=Ie+be.shift(),B=Ue+be.shift(),H=P+be.shift(),X=B+be.shift(),Ie=H+be.shift(),Ue=X+be.shift(),Me.curveTo(P,B,H,X,Ie,Ue);break;case 26:for(be.length%2&&(Ie+=be.shift());0<be.length;)P=Ie,B=Ue+be.shift(),H=P+be.shift(),X=B+be.shift(),Ie=H,Ue=X+be.shift(),Me.curveTo(P,B,H,X,Ie,Ue);break;case 27:for(be.length%2&&(Ue+=be.shift());0<be.length;)P=Ie+be.shift(),B=Ue,H=P+be.shift(),X=B+be.shift(),Ie=H+be.shift(),Ue=X,Me.curveTo(P,B,H,X,Ie,Ue);break;case 28:Ot=wt[Ut],Gt=wt[Ut+1],be.push((Ot<<24|Gt<<16)>>16),Ut+=2;break;case 29:bt=be.pop()+u.gsubrsBias,(Vt=u.gsubrs[bt])&&St(Vt);break;case 30:for(;0<be.length&&(P=Ie,B=Ue+be.shift(),H=P+be.shift(),X=B+be.shift(),Ie=H+be.shift(),Ue=X+(be.length===1?be.shift():0),Me.curveTo(P,B,H,X,Ie,Ue),be.length!==0);)P=Ie+be.shift(),B=Ue,H=P+be.shift(),X=B+be.shift(),Ue=X+be.shift(),Ie=H+(be.length===1?be.shift():0),Me.curveTo(P,B,H,X,Ie,Ue);break;case 31:for(;0<be.length&&(P=Ie+be.shift(),B=Ue,H=P+be.shift(),X=B+be.shift(),Ue=X+be.shift(),Ie=H+(be.length===1?be.shift():0),Me.curveTo(P,B,H,X,Ie,Ue),be.length!==0);)P=Ie,B=Ue+be.shift(),H=P+be.shift(),X=B+be.shift(),Ie=H+be.shift(),Ue=X+(be.length===1?be.shift():0),Me.curveTo(P,B,H,X,Ie,Ue);break;default:Jt<32?console.log("Glyph "+v.index+": unknown operator "+Jt):Jt<247?be.push(Jt-139):Jt<251?(Ot=wt[Ut],Ut+=1,be.push(256*(Jt-247)+Ot+108)):Jt<255?(Ot=wt[Ut],Ut+=1,be.push(256*-(Jt-251)-Ot-108)):(Ot=wt[Ut],Gt=wt[Ut+1],Nt=wt[Ut+2],Ct=wt[Ut+3],Ut+=4,be.push((Ot<<24|Gt<<16|Nt<<8|Ct)/65536))}}}(j),v.advanceWidth=it,Me}function tr(u,v){var j,P=ft.indexOf(u);return 0<=P&&(j=P),0<=(P=v.indexOf(u))?j=P+ft.length:(j=ft.length+v.length,v.push(u)),j}function kt(u,v,j){for(var P={},B=0;B<u.length;B+=1){var H=u[B],X=v[H.name];X===void 0||function ae(fe,pe){if(fe===pe)return 1;if(Array.isArray(fe)&&Array.isArray(pe)&&fe.length===pe.length){for(var Se=0;Se<fe.length;Se+=1)if(!ae(fe[Se],pe[Se]))return;return 1}}(X,H.value)||(H.type==="SID"&&(X=tr(X,j)),P[H.op]={name:H.name,type:H.type,value:X})}return P}function rr(u,v){var j=new Oe.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return j.dict=kt(Mt,u,v),j}function Kt(u){var v=new Oe.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return v.topDicts=[{name:"topDict_0",type:"TABLE",value:u}],v}var Dt=function(u,v,j){j.tables.cff={},P=u,B=v,(H={}).formatMajor=Ce.getCard8(P,B),H.formatMinor=Ce.getCard8(P,B+1),H.size=Ce.getCard8(P,B+2),H.offsetSize=Ce.getCard8(P,B+3),H.startOffset=B,H.endOffset=B+4;var P=_t(u,H.endOffset,Ce.bytesToString),B=_t(u,P.endOffset),H=_t(u,B.endOffset,Ce.bytesToString);if(P=_t(u,H.endOffset),j.gsubrs=P.objects,j.gsubrsBias=st(j.gsubrs),(P=Pt(u,v,B.objects,H.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+P.length);if(B=P[0],(j.tables.cff.topDict=B)._privateDict&&(j.defaultWidthX=B._privateDict.defaultWidthX,j.nominalWidthX=B._privateDict.nominalWidthX),B.ros[0]!==void 0&&B.ros[1]!==void 0&&(j.isCIDFont=!0),j.isCIDFont){P=B.fdArray;var X=B.fdSelect;if(P===0||X===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");P=Pt(u,v,_t(u,P+=v).objects,H.objects),B._fdArray=P,B._fdSelect=function(Se,ke,Me,be){var Xe,De=[],Be=new Ce.Parser(Se,ke);if((Se=Be.parseCard8())===0)for(var Ie=0;Ie<Me;Ie++){if(be<=(Xe=Be.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Xe+" (FD count "+be+")");De.push(Xe)}else{if(Se!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Se);var Ue,it=Be.parseCard16(),nt=Be.parseCard16();if(nt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+nt);for(var at=0;at<it;at++){if(Xe=Be.parseCard8(),Ue=Be.parseCard16(),be<=Xe)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Xe+" (FD count "+be+")");if(Me<Ue)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Ue);for(;nt<Ue;nt++)De.push(Xe);nt=Ue}if(Ue!==Me)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Ue)}return De}(u,X+=v,j.numGlyphs,P.length)}P=Zt(u,X=v+B.private[1],B.private[0],H.objects);var ae=(j.defaultWidthX=P.defaultWidthX,j.nominalWidthX=P.nominalWidthX,P.subrs!==0?(X=_t(u,X+P.subrs),j.subrs=X.objects,j.subrsBias=st(j.subrs)):(j.subrs=[],j.subrsBias=0),_t(u,v+B.charStrings));j.nGlyphs=ae.objects.length,P=function(Se,ke,Me,be){var Xe=new Ce.Parser(Se,ke),De=(--Me,[".notdef"]);if((Se=Xe.parseCard8())===0)for(var Be=0;Be<Me;Be+=1)Ie=Xe.parseSID(),De.push(vt(be,Ie));else if(Se===1)for(;De.length<=Me;)for(var Ie=Xe.parseSID(),Ue=Xe.parseCard8(),it=0;it<=Ue;it+=1)De.push(vt(be,Ie)),Ie+=1;else{if(Se!==2)throw new Error("Unknown charset format "+Se);for(;De.length<=Me;){Ie=Xe.parseSID(),Ue=Xe.parseCard16();for(var nt=0;nt<=Ue;nt+=1)De.push(vt(be,Ie)),Ie+=1}}return De}(u,v+B.charset,j.nGlyphs,H.objects),B.encoding===0?j.cffEncoding=new ue(ot,P):B.encoding===1?j.cffEncoding=new ue(rt,P):j.cffEncoding=function(Se,ke,Me){var be={},Xe=new Ce.Parser(Se,ke);if((Se=Xe.parseCard8())===0)for(var De=Xe.parseCard8(),Be=0;Be<De;Be+=1)be[Ue=Xe.parseCard8()]=Be;else{if(Se!==1)throw new Error("Unknown encoding format "+Se);for(var Ie=Xe.parseCard8(),Ue=1,it=0;it<Ie;it+=1)for(var nt=Xe.parseCard8(),at=Xe.parseCard8(),St=nt;St<=nt+at;St+=1)be[St]=Ue,Ue+=1}return new ue(be,Me)}(u,v+B.encoding,P),j.encoding=j.encoding||j.cffEncoding,j.glyphs=new Qe.GlyphSet(j);for(var fe=0;fe<j.nGlyphs;fe+=1){var pe=ae.objects[fe];j.glyphs.push(fe,Qe.cffGlyphLoader(j,fe,zt,pe))}},Mr=function(u,v){for(var j,P=new Oe.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),B=1/v.unitsPerEm,H=(B={version:v.version,fullName:v.fullName,familyName:v.familyName,weight:v.weightName,fontBBox:v.fontBBox||[0,0,0,0],fontMatrix:[B,0,0,B,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},[]),X=1;X<u.length;X+=1)j=u.get(X),H.push(j.name);var ae,fe,pe=[],Se=(v=(P.header=new Oe.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),P.nameIndex=function(ke){var Me=new Oe.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Me.names=[];for(var be=0;be<ke.length;be+=1)Me.names.push({name:"name_"+be,type:"NAME",value:ke[be]});return Me}([v.postScriptName]),rr(B,pe)),P.topDictIndex=Kt(v),P.globalSubrIndex=new Oe.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),P.charsets=function(ke,Me){for(var be=new Oe.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Xe=0;Xe<ke.length;Xe+=1){var De=tr(ke[Xe],Me);be.fields.push({name:"glyph_"+Xe,type:"SID",value:De})}return be}(H,pe),P.charStringsIndex=function(ke){for(var Me=new Oe.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),be=0;be<ke.length;be+=1){var Xe=ke.get(be),De=function(Be){for(var Ie=[],Ue=Be.path,it=(Ie.push({name:"width",type:"NUMBER",value:Be.advanceWidth}),0),nt=0,at=0;at<Ue.commands.length;at+=1){var St,wt,Ot,Gt,Nt=void 0,Ct=void 0,bt=Ue.commands[at];(bt=bt.type==="Q"?{type:"C",x:bt.x,y:bt.y,x1:1/3*it+2/3*bt.x1,y1:1/3*nt+2/3*bt.y1,x2:1/3*bt.x+2/3*bt.x1,y2:1/3*bt.y+2/3*bt.y1}:bt).type==="M"?(Nt=Math.round(bt.x-it),Ct=Math.round(bt.y-nt),Ie.push({name:"dx",type:"NUMBER",value:Nt}),Ie.push({name:"dy",type:"NUMBER",value:Ct}),Ie.push({name:"rmoveto",type:"OP",value:21}),it=Math.round(bt.x),nt=Math.round(bt.y)):bt.type==="L"?(Nt=Math.round(bt.x-it),Ct=Math.round(bt.y-nt),Ie.push({name:"dx",type:"NUMBER",value:Nt}),Ie.push({name:"dy",type:"NUMBER",value:Ct}),Ie.push({name:"rlineto",type:"OP",value:5}),it=Math.round(bt.x),nt=Math.round(bt.y)):bt.type==="C"&&(St=Math.round(bt.x1-it),wt=Math.round(bt.y1-nt),Ot=Math.round(bt.x2-bt.x1),Gt=Math.round(bt.y2-bt.y1),Nt=Math.round(bt.x-bt.x2),Ct=Math.round(bt.y-bt.y2),Ie.push({name:"dx1",type:"NUMBER",value:St}),Ie.push({name:"dy1",type:"NUMBER",value:wt}),Ie.push({name:"dx2",type:"NUMBER",value:Ot}),Ie.push({name:"dy2",type:"NUMBER",value:Gt}),Ie.push({name:"dx",type:"NUMBER",value:Nt}),Ie.push({name:"dy",type:"NUMBER",value:Ct}),Ie.push({name:"rrcurveto",type:"OP",value:8}),it=Math.round(bt.x),nt=Math.round(bt.y))}return Ie.push({name:"endchar",type:"OP",value:14}),Ie}(Xe);Me.charStrings.push({name:Xe.name,type:"CHARSTRING",value:De})}return Me}(u),P.privateDict=(Se={},ae=pe,(fe=new Oe.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=kt(Lt,Se,ae),fe),P.stringIndex=function(ke){var Me=new Oe.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Me.strings=[];for(var be=0;be<ke.length;be+=1)Me.strings.push({name:"string_"+be,type:"STRING",value:ke[be]});return Me}(pe),P.header.sizeOf()+P.nameIndex.sizeOf()+P.topDictIndex.sizeOf()+P.stringIndex.sizeOf()+P.globalSubrIndex.sizeOf());return B.charset=Se,B.encoding=0,B.charStrings=B.charset+P.charsets.sizeOf(),B.private[1]=B.charStrings+P.charStringsIndex.sizeOf(),v=rr(B,pe),P.topDictIndex=Kt(v),P},Ar=function(u,v){var j={};return u=new Ce.Parser(u,v),j.version=u.parseVersion(),j.fontRevision=Math.round(1e3*u.parseFixed())/1e3,j.checkSumAdjustment=u.parseULong(),j.magicNumber=u.parseULong(),Z.argument(j.magicNumber===1594834165,"Font header has wrong magic number."),j.flags=u.parseUShort(),j.unitsPerEm=u.parseUShort(),j.created=u.parseLongDateTime(),j.modified=u.parseLongDateTime(),j.xMin=u.parseShort(),j.yMin=u.parseShort(),j.xMax=u.parseShort(),j.yMax=u.parseShort(),j.macStyle=u.parseUShort(),j.lowestRecPPEM=u.parseUShort(),j.fontDirectionHint=u.parseShort(),j.indexToLocFormat=u.parseShort(),j.glyphDataFormat=u.parseShort(),j},Rr=function(u){var v=Math.round(new Date().getTime()/1e3)+2082844800,j=v;return u.createdTimestamp&&(j=u.createdTimestamp+2082844800),new Oe.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:j},{name:"modified",type:"LONGDATETIME",value:v},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],u)},Lr=function(u,v){var j={};return u=new Ce.Parser(u,v),j.version=u.parseVersion(),j.ascender=u.parseShort(),j.descender=u.parseShort(),j.lineGap=u.parseShort(),j.advanceWidthMax=u.parseUShort(),j.minLeftSideBearing=u.parseShort(),j.minRightSideBearing=u.parseShort(),j.xMaxExtent=u.parseShort(),j.caretSlopeRise=u.parseShort(),j.caretSlopeRun=u.parseShort(),j.caretOffset=u.parseShort(),u.relativeOffset+=8,j.metricDataFormat=u.parseShort(),j.numberOfHMetrics=u.parseUShort(),j},Zr=function(u){return new Oe.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],u)},ge=function(u,v,j,P,B){for(var H,X,ae=new Ce.Parser(u,v),fe=0;fe<P;fe+=1){fe<j&&(H=ae.parseUShort(),X=ae.parseShort());var pe=B.get(fe);pe.advanceWidth=H,pe.leftSideBearing=X}},Ke=function(u){for(var v=new Oe.Table("hmtx",[]),j=0;j<u.length;j+=1){var P=(B=u.get(j)).advanceWidth||0,B=B.leftSideBearing||0;v.fields.push({name:"advanceWidth_"+j,type:"USHORT",value:P}),v.fields.push({name:"leftSideBearing_"+j,type:"SHORT",value:B})}return v},ut=function(u){for(var v=new Oe.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:u.length}]),j="",P=12+4*u.length,B=0;B<u.length;++B){var H=j.indexOf(u[B]);H<0&&(H=j.length,j+=u[B]),v.fields.push({name:"offset "+B,type:"USHORT",value:P+H}),v.fields.push({name:"length "+B,type:"USHORT",value:u[B].length})}return v.fields.push({name:"stringPool",type:"CHARARRAY",value:j}),v},Ye=function(u,v){for(var j=new Ce.Parser(u,v),P=j.parseULong(),B=(Z.argument(P===1,"Unsupported ltag table version."),j.skip("uLong",1),j.parseULong()),H=[],X=0;X<B;X++){for(var ae="",fe=v+j.parseUShort(),pe=j.parseUShort(),Se=fe;Se<fe+pe;++Se)ae+=String.fromCharCode(u.getInt8(Se));H.push(ae)}return H},Et=function(u,v){var j={};return u=new Ce.Parser(u,v),j.version=u.parseVersion(),j.numGlyphs=u.parseUShort(),j.version===1&&(j.maxPoints=u.parseUShort(),j.maxContours=u.parseUShort(),j.maxCompositePoints=u.parseUShort(),j.maxCompositeContours=u.parseUShort(),j.maxZones=u.parseUShort(),j.maxTwilightPoints=u.parseUShort(),j.maxStorage=u.parseUShort(),j.maxFunctionDefs=u.parseUShort(),j.maxInstructionDefs=u.parseUShort(),j.maxStackElements=u.parseUShort(),j.maxSizeOfInstructions=u.parseUShort(),j.maxComponentElements=u.parseUShort(),j.maxComponentDepth=u.parseUShort()),j},ze=function(u){return new Oe.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:u}])},It=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],ct={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},xt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},lt={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},er="utf-16",$t={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},fr={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function qt(u,v,j){switch(u){case 0:return er;case 1:return fr[j]||$t[v];case 3:if(v===1||v===10)return er}}function Wt(u){var v,j={};for(v in u)j[u[v]]=parseInt(v);return j}function nr(u,v,j,P,B,H){return new Oe.Record("NameRecord",[{name:"platformID",type:"USHORT",value:u},{name:"encodingID",type:"USHORT",value:v},{name:"languageID",type:"USHORT",value:j},{name:"nameID",type:"USHORT",value:P},{name:"length",type:"USHORT",value:B},{name:"offset",type:"USHORT",value:H}])}function ir(u,v){if((j=function(H,X){var ae=H.length,fe=X.length-ae+1;e:for(var pe=0;pe<fe;pe++)for(;pe<fe;pe++){for(var Se=0;Se<ae;Se++)if(X[pe+Se]!==H[Se])continue e;return pe}return-1}(u,v))<0)for(var j=v.length,P=0,B=u.length;P<B;++P)v.push(u[P]);return j}var or=function(u,v,j){for(var P={},B=new Ce.Parser(u,v),H=(v=B.parseUShort(),B.parseUShort()),X=B.offset+B.parseUShort(),ae=0;ae<H;ae++){var fe=B.parseUShort(),pe=B.parseUShort(),Se=B.parseUShort(),ke=B.parseUShort(),Me=(ke=It[ke]||ke,B.parseUShort()),be=B.parseUShort(),Xe=function(De,Be,Ie){switch(De){case 0:if(Be===65535)return"und";if(Ie)return Ie[Be];break;case 1:return ct[Be];case 3:return lt[Be]}}(fe,Se,j);(fe=qt(fe,pe,Se))!==void 0&&Xe!==void 0&&(pe=void 0,(pe=fe===er?ee.UTF16(u,X+be,Me):ee.MACSTRING(u,X+be,Me,fe))&&((Se=(Se=P[ke])===void 0?P[ke]={}:Se)[Xe]=pe))}return v===1&&B.parseUShort(),P},Yn=function(u,v){var j,P=[],B={},H=Wt(It);for(j in u){var X=H[j];if(X===void 0&&(X=j),Me=parseInt(X),isNaN(Me))throw new Error('Name table entry "'+j+'" does not exist, see nameTableNames for complete list.');B[Me]=u[j],P.push(Me)}for(var ae=Wt(ct),fe=Wt(lt),pe=[],Se=[],ke=0;ke<P.length;ke++){var Me,be,Xe=B[Me=P[ke]];for(be in Xe){var De=Xe[be],Be=1,Ie=ae[be],Ue=xt[Ie],it=qt(Be,Ue,Ie),nt=((it=te.MACSTRING(De,it))===void 0&&(Be=0,(Ie=v.indexOf(be))<0&&(Ie=v.length,v.push(be)),Ue=4,it=te.UTF16(De)),ir(it,Se));(Be=(pe.push(nr(Be,Ue,Ie,Me,it.length,nt)),fe[be]))!==void 0&&(Ie=ir(Ue=te.UTF16(De),Se),pe.push(nr(3,1,Be,Me,Ue.length,Ie)))}}pe.sort(function(wt,Ot){return wt.platformID-Ot.platformID||wt.encodingID-Ot.encodingID||wt.languageID-Ot.languageID||wt.nameID-Ot.nameID});for(var at=new Oe.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:pe.length},{name:"stringOffset",type:"USHORT",value:6+12*pe.length}]),St=0;St<pe.length;St++)at.fields.push({name:"record_"+St,type:"RECORD",value:pe[St]});return at.fields.push({name:"strings",type:"LITERAL",value:Se}),at},hn=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Xn=function(u,v){var j={},P=new Ce.Parser(u,v);j.version=P.parseUShort(),j.xAvgCharWidth=P.parseShort(),j.usWeightClass=P.parseUShort(),j.usWidthClass=P.parseUShort(),j.fsType=P.parseUShort(),j.ySubscriptXSize=P.parseShort(),j.ySubscriptYSize=P.parseShort(),j.ySubscriptXOffset=P.parseShort(),j.ySubscriptYOffset=P.parseShort(),j.ySuperscriptXSize=P.parseShort(),j.ySuperscriptYSize=P.parseShort(),j.ySuperscriptXOffset=P.parseShort(),j.ySuperscriptYOffset=P.parseShort(),j.yStrikeoutSize=P.parseShort(),j.yStrikeoutPosition=P.parseShort(),j.sFamilyClass=P.parseShort(),j.panose=[];for(var B=0;B<10;B++)j.panose[B]=P.parseByte();return j.ulUnicodeRange1=P.parseULong(),j.ulUnicodeRange2=P.parseULong(),j.ulUnicodeRange3=P.parseULong(),j.ulUnicodeRange4=P.parseULong(),j.achVendID=String.fromCharCode(P.parseByte(),P.parseByte(),P.parseByte(),P.parseByte()),j.fsSelection=P.parseUShort(),j.usFirstCharIndex=P.parseUShort(),j.usLastCharIndex=P.parseUShort(),j.sTypoAscender=P.parseShort(),j.sTypoDescender=P.parseShort(),j.sTypoLineGap=P.parseShort(),j.usWinAscent=P.parseUShort(),j.usWinDescent=P.parseUShort(),1<=j.version&&(j.ulCodePageRange1=P.parseULong(),j.ulCodePageRange2=P.parseULong()),2<=j.version&&(j.sxHeight=P.parseShort(),j.sCapHeight=P.parseShort(),j.usDefaultChar=P.parseUShort(),j.usBreakChar=P.parseUShort(),j.usMaxContent=P.parseUShort()),j},Zn=function(u){return new Oe.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],u)},Kn=function(u){for(var v=0;v<hn.length;v+=1){var j=hn[v];if(u>=j.begin&&u<j.end)return v}return-1},Qn=function(u,v){var j={},P=new Ce.Parser(u,v);switch(j.version=P.parseVersion(),j.italicAngle=P.parseFixed(),j.underlinePosition=P.parseShort(),j.underlineThickness=P.parseShort(),j.isFixedPitch=P.parseULong(),j.minMemType42=P.parseULong(),j.maxMemType42=P.parseULong(),j.minMemType1=P.parseULong(),j.maxMemType1=P.parseULong(),j.version){case 1:j.names=re.slice();break;case 2:j.numberOfGlyphs=P.parseUShort(),j.glyphNameIndex=new Array(j.numberOfGlyphs);for(var B=0;B<j.numberOfGlyphs;B++)j.glyphNameIndex[B]=P.parseUShort();j.names=[];for(var H,X=0;X<j.numberOfGlyphs;X++)j.glyphNameIndex[X]>=re.length&&(H=P.parseChar(),j.names.push(P.parseString(H)));break;case 2.5:j.numberOfGlyphs=P.parseUShort(),j.offset=new Array(j.numberOfGlyphs);for(var ae=0;ae<j.numberOfGlyphs;ae++)j.offset[ae]=P.parseChar()}return j},$n=function(){return new Oe.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},hr=new Array(9),lr=(hr[1]=function(){var u=this.offset+this.relativeOffset,v=this.parseUShort();return v===1?{substFormat:1,coverage:this.parsePointer(de.coverage),deltaGlyphId:this.parseUShort()}:v===2?{substFormat:2,coverage:this.parsePointer(de.coverage),substitute:this.parseOffset16List()}:void Z.assert(!1,"0x"+u.toString(16)+": lookup type 1 format must be 1 or 2.")},hr[2]=function(){var u=this.parseUShort();return Z.argument(u===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:u,coverage:this.parsePointer(de.coverage),sequences:this.parseListOfLists()}},hr[3]=function(){var u=this.parseUShort();return Z.argument(u===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:u,coverage:this.parsePointer(de.coverage),alternateSets:this.parseListOfLists()}},hr[4]=function(){var u=this.parseUShort();return Z.argument(u===1,"GSUB ligature table identifier-format must be 1"),{substFormat:u,coverage:this.parsePointer(de.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:de.uShort,lookupListIndex:de.uShort});hr[5]=function(){var u,v,j=this.offset+this.relativeOffset,P=this.parseUShort();return P===1?{substFormat:P,coverage:this.parsePointer(de.coverage),ruleSets:this.parseListOfLists(function(){var B=this.parseUShort(),H=this.parseUShort();return{input:this.parseUShortList(B-1),lookupRecords:this.parseRecordList(H,lr)}})}:P===2?{substFormat:P,coverage:this.parsePointer(de.coverage),classDef:this.parsePointer(de.classDef),classSets:this.parseListOfLists(function(){var B=this.parseUShort(),H=this.parseUShort();return{classes:this.parseUShortList(B-1),lookupRecords:this.parseRecordList(H,lr)}})}:P===3?(u=this.parseUShort(),v=this.parseUShort(),{substFormat:P,coverages:this.parseList(u,de.pointer(de.coverage)),lookupRecords:this.parseRecordList(v,lr)}):void Z.assert(!1,"0x"+j.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},hr[6]=function(){var u=this.offset+this.relativeOffset,v=this.parseUShort();return v===1?{substFormat:1,coverage:this.parsePointer(de.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(lr)}})}:v===2?{substFormat:2,coverage:this.parsePointer(de.coverage),backtrackClassDef:this.parsePointer(de.classDef),inputClassDef:this.parsePointer(de.classDef),lookaheadClassDef:this.parsePointer(de.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(lr)}})}:v===3?{substFormat:3,backtrackCoverage:this.parseList(de.pointer(de.coverage)),inputCoverage:this.parseList(de.pointer(de.coverage)),lookaheadCoverage:this.parseList(de.pointer(de.coverage)),lookupRecords:this.parseRecordList(lr)}:void Z.assert(!1,"0x"+u.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},hr[7]=function(){var u=this.parseUShort(),v=(u=(Z.argument(u===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),new de(this.data,this.offset+this.parseULong()));return{substFormat:1,lookupType:u,extension:hr[u].call(v)}},hr[8]=function(){var u=this.parseUShort();return Z.argument(u===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:u,coverage:this.parsePointer(de.coverage),backtrackCoverage:this.parseList(de.pointer(de.coverage)),lookaheadCoverage:this.parseList(de.pointer(de.coverage)),substitutes:this.parseUShortList()}};var Sr=new Array(9);Sr[1]=function(u){return u.substFormat===1?new Oe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Oe.Coverage(u.coverage)},{name:"deltaGlyphID",type:"USHORT",value:u.deltaGlyphId}]):new Oe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Oe.Coverage(u.coverage)}].concat(Oe.ushortList("substitute",u.substitute)))},Sr[3]=function(u){return Z.assert(u.substFormat===1,"Lookup type 3 substFormat must be 1."),new Oe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Oe.Coverage(u.coverage)}].concat(Oe.tableList("altSet",u.alternateSets,function(v){return new Oe.Table("alternateSetTable",Oe.ushortList("alternate",v))})))},Sr[4]=function(u){return Z.assert(u.substFormat===1,"Lookup type 4 substFormat must be 1."),new Oe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Oe.Coverage(u.coverage)}].concat(Oe.tableList("ligSet",u.ligatureSets,function(v){return new Oe.Table("ligatureSetTable",Oe.tableList("ligature",v,function(j){return new Oe.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:j.ligGlyph}].concat(Oe.ushortList("component",j.components,j.components.length+1)))}))})))};var Kr=function(u,v){return v=(u=new de(u,v=v||0)).parseVersion(1),Z.argument(v===1||v===1.1,"Unsupported GSUB table version."),v===1?{version:v,scripts:u.parseScriptList(),features:u.parseFeatureList(),lookups:u.parseLookupList(hr)}:{version:v,scripts:u.parseScriptList(),features:u.parseFeatureList(),lookups:u.parseLookupList(hr),variations:u.parseFeatureVariationsList()}},Jn=function(u){return new Oe.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Oe.ScriptList(u.scripts)},{name:"features",type:"TABLE",value:new Oe.FeatureList(u.features)},{name:"lookups",type:"TABLE",value:new Oe.LookupList(u.lookups,Sr)}])},eo=function(u,v){for(var j=new Ce.Parser(u,v),P=j.parseULong(),B=(Z.argument(P===1,"Unsupported META table version."),j.parseULong(),j.parseULong(),j.parseULong()),H={},X=0;X<B;X++){var ae=j.parseTag(),fe=j.parseULong(),pe=j.parseULong();fe=ee.UTF8(u,v+fe,pe),H[ae]=fe}return H},Qr=function(u){var v,j=Object.keys(u).length,P="",B=16+12*j,H=new Oe.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:B},{name:"numTags",type:"ULONG",value:j}]);for(v in u){var X=P.length;P+=u[v],H.fields.push({name:"tag "+v,type:"TAG",value:v}),H.fields.push({name:"offset "+v,type:"ULONG",value:B+X}),H.fields.push({name:"length "+v,type:"ULONG",value:u[v].length})}return H.fields.push({name:"stringPool",type:"CHARARRAY",value:P}),H};function pn(u){return Math.log(u)/Math.log(2)|0}function Dr(u){for(;u.length%4!=0;)u.push(0);for(var v=0,j=0;j<u.length;j+=4)v+=(u[j]<<24)+(u[j+1]<<16)+(u[j+2]<<8)+u[j+3];return v%Math.pow(2,32)}function mn(u,v,j,P){return new Oe.Record("Table Record",[{name:"tag",type:"TAG",value:u!==void 0?u:""},{name:"checkSum",type:"ULONG",value:v!==void 0?v:0},{name:"offset",type:"ULONG",value:j!==void 0?j:0},{name:"length",type:"ULONG",value:P!==void 0?P:0}])}function br(u){for(var v=new Oe.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),j=(v.tables=u,v.numTables=u.length,Math.pow(2,pn(v.numTables))),P=(v.searchRange=16*j,v.entrySelector=pn(j),v.rangeShift=16*v.numTables-v.searchRange,[]),B=[],H=v.sizeOf()+mn().sizeOf()*v.numTables;H%4!=0;)H+=1,B.push({name:"padding",type:"BYTE",value:0});for(var X=0;X<u.length;X+=1){var ae=u[X],fe=(Z.argument(ae.tableName.length===4,"Table name"+ae.tableName+" is invalid."),ae.sizeOf()),pe=mn(ae.tableName,Dr(ae.encode()),H,fe);for(P.push({name:pe.tag+" Table Record",type:"RECORD",value:pe}),B.push({name:ae.tableName+" table",type:"RECORD",value:ae}),H+=fe,Z.argument(!isNaN(H),"Something went wrong calculating the offset.");H%4!=0;)H+=1,B.push({name:"padding",type:"BYTE",value:0})}return P.sort(function(Se,ke){return Se.value.tag>ke.value.tag?1:-1}),v.fields=v.fields.concat(P),v.fields=v.fields.concat(B),v}function Ir(u,v,j){for(var P=0;P<v.length;P+=1){var B=u.charToGlyphIndex(v[P]);if(0<B)return u.glyphs.get(B).getMetrics()}return j}var nn=function(u){for(var v,j=[],P=[],B=[],H=[],X=[],ae=[],fe=[],pe=0,Se=0,ke=0,Me=0,be=0,Xe=0;Xe<u.glyphs.length;Xe+=1){var De=u.glyphs.get(Xe),Be=0|De.unicode;if(isNaN(De.advanceWidth))throw new Error("Glyph "+De.name+" ("+Xe+"): advanceWidth is not a number.");if((Be<v||v===void 0)&&0<Be&&(v=Be),pe<Be&&(pe=Be),(Be=Kn(Be))<32)Se|=1<<Be;else if(Be<64)ke|=1<<Be-32;else if(Be<96)Me|=1<<Be-64;else{if(!(Be<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");be|=1<<Be-96}De.name!==".notdef"&&(Be=De.getMetrics(),j.push(Be.xMin),P.push(Be.yMin),B.push(Be.xMax),H.push(Be.yMax),ae.push(Be.leftSideBearing),fe.push(Be.rightSideBearing),X.push(De.advanceWidth))}var Ie,Ue={xMin:Math.min.apply(null,j),yMin:Math.min.apply(null,P),xMax:Math.max.apply(null,B),yMax:Math.max.apply(null,H),advanceWidthMax:Math.max.apply(null,X),advanceWidthAvg:function(Jt){for(var Yr=0,Xr=0;Xr<Jt.length;Xr+=1)Yr+=Jt[Xr];return Yr/Jt.length}(X),minLeftSideBearing:Math.min.apply(null,ae),maxLeftSideBearing:Math.max.apply(null,ae),minRightSideBearing:Math.min.apply(null,fe)},it=(Ue.ascender=u.ascender,Ue.descender=u.descender,Rr({flags:3,unitsPerEm:u.unitsPerEm,xMin:Ue.xMin,yMin:Ue.yMin,xMax:Ue.xMax,yMax:Ue.yMax,lowestRecPPEM:3,createdTimestamp:u.createdTimestamp})),nt=Zr({ascender:Ue.ascender,descender:Ue.descender,advanceWidthMax:Ue.advanceWidthMax,minLeftSideBearing:Ue.minLeftSideBearing,minRightSideBearing:Ue.minRightSideBearing,xMaxExtent:Ue.maxLeftSideBearing+(Ue.xMax-Ue.xMin),numberOfHMetrics:u.glyphs.length}),at=ze(u.glyphs.length),St=Zn({xAvgCharWidth:Math.round(Ue.advanceWidthAvg),usWeightClass:u.tables.os2.usWeightClass,usWidthClass:u.tables.os2.usWidthClass,usFirstCharIndex:v,usLastCharIndex:pe,ulUnicodeRange1:Se,ulUnicodeRange2:ke,ulUnicodeRange3:Me,ulUnicodeRange4:be,fsSelection:u.tables.os2.fsSelection,sTypoAscender:Ue.ascender,sTypoDescender:Ue.descender,sTypoLineGap:0,usWinAscent:Ue.yMax,usWinDescent:Math.abs(Ue.yMin),ulCodePageRange1:1,sxHeight:Ir(u,"xyvw",{yMax:Math.round(Ue.ascender/2)}).yMax,sCapHeight:Ir(u,"HIKLEFJMNTZBDPRAGOQSUVWXY",Ue).yMax,usDefaultChar:u.hasChar(" ")?32:0,usBreakChar:u.hasChar(" ")?32:0}),wt=Ke(u.glyphs),Ot=et(u.glyphs),Gt=(Bt=u.getEnglishName("fontFamily"))+" "+(Rt=u.getEnglishName("fontSubfamily")),Nt=(Nt=u.getEnglishName("postScriptName"))||Bt.replace(/\s/g,"")+"-"+Rt,Ct={};for(Ie in u.names)Ct[Ie]=u.names[Ie];Ct.uniqueID||(Ct.uniqueID={en:u.getEnglishName("manufacturer")+":"+Gt}),Ct.postScriptName||(Ct.postScriptName={en:Nt}),Ct.preferredFamily||(Ct.preferredFamily=u.names.fontFamily),Ct.preferredSubfamily||(Ct.preferredSubfamily=u.names.fontSubfamily);var bt=Yn(Ct,Vt=[]),Vt=0<Vt.length?ut(Vt):void 0,Ht=$n(),Bt=(Gt=Mr(u.glyphs,{version:u.getEnglishName("version"),fullName:Gt,familyName:Bt,weightName:Rt,postScriptName:Nt,unitsPerEm:u.unitsPerEm,fontBBox:[0,Ue.yMin,Ue.ascender,Ue.advanceWidthMax]}),u.metas&&0<Object.keys(u.metas).length?Qr(u.metas):void 0),Rt=[it,nt,at,St,bt,Ot,Ht,Gt,wt];Vt&&Rt.push(Vt),u.tables.gsub&&Rt.push(Jn(u.tables.gsub)),Bt&&Rt.push(Bt);for(var Xt=Dr((Nt=br(Rt)).encode()),Qt=Nt.fields,sr=!1,Ut=0;Ut<Qt.length;Ut+=1)if(Qt[Ut].name==="head table"){Qt[Ut].value.checkSumAdjustment=2981146554-Xt,sr=!0;break}if(sr)return Nt;throw new Error("Could not find head table with checkSum to adjust.")};function Pr(u,v){for(var j=0,P=u.length-1;j<=P;){var B=j+P>>>1,H=u[B].tag;if(H===v)return B;H<v?j=1+B:P=B-1}return-j-1}function yn(u,v){for(var j=0,P=u.length-1;j<=P;){var B=j+P>>>1,H=u[B];if(H===v)return B;H<v?j=1+B:P=B-1}return-j-1}function gn(u,v){for(var j=0,P=u.length-1;j<=P;){var B,H=j+P>>>1,X=(B=u[H]).start;if(X===v)return B;X<v?j=1+H:P=H-1}if(0<j)return v>(B=u[j-1]).end?0:B}function $r(u,v){this.font=u,this.tableName=v}function Tr(u){$r.call(this,u,"gpos")}function ur(u){$r.call(this,u,"gsub")}function vn(u,v,j){for(var P=u.subtables,B=0;B<P.length;B++){var H=P[B];if(H.substFormat===v)return H}if(j)return P.push(j),j}function bn(u){for(var v=new ArrayBuffer(u.length),j=new Uint8Array(v),P=0;P<u.length;++P)j[P]=u[P];return v}function Or(u,v){if(!u)throw v}function _n(u,v,j,P,B){var H=0<(v&P)?(H=u.parseByte(),j+(H=v&B?H:-H)):0<(v&B)?j:j+u.parseShort();return H}function to(u,v,j){var P,B=new Ce.Parser(v,j);if(u.numberOfContours=B.parseShort(),u._xMin=B.parseShort(),u._yMin=B.parseShort(),u._xMax=B.parseShort(),u._yMax=B.parseShort(),0<u.numberOfContours){for(var H=u.endPointIndices=[],X=0;X<u.numberOfContours;X+=1)H.push(B.parseUShort());u.instructionLength=B.parseUShort(),u.instructions=[];for(var ae=0;ae<u.instructionLength;ae+=1)u.instructions.push(B.parseByte());for(var fe=H[H.length-1]+1,pe=[],Se=0;Se<fe;Se+=1)if(P=B.parseByte(),pe.push(P),0<(8&P))for(var ke=B.parseByte(),Me=0;Me<ke;Me+=1)pe.push(P),Se+=1;if(Z.argument(pe.length===fe,"Bad flags."),0<H.length){var be,Xe=[];if(0<fe){for(var De=0;De<fe;De+=1)P=pe[De],(be={}).onCurve=!!(1&P),be.lastPointOfContour=0<=H.indexOf(De),Xe.push(be);for(var Be=0,Ie=0;Ie<fe;Ie+=1)P=pe[Ie],(be=Xe[Ie]).x=_n(B,P,Be,2,16),Be=be.x;for(var Ue=0,it=0;it<fe;it+=1)P=pe[it],(be=Xe[it]).y=_n(B,P,Ue,4,32),Ue=be.y}u.points=Xe}else u.points=[]}else if(u.numberOfContours===0)u.points=[];else{u.isComposite=!0,u.points=[],u.components=[];for(var nt=!0;nt;){pe=B.parseUShort();var at={glyphIndex:B.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&pe)?0<(2&pe)?(at.dx=B.parseShort(),at.dy=B.parseShort()):at.matchedPoints=[B.parseUShort(),B.parseUShort()]:0<(2&pe)?(at.dx=B.parseChar(),at.dy=B.parseChar()):at.matchedPoints=[B.parseByte(),B.parseByte()],0<(8&pe)?at.xScale=at.yScale=B.parseF2Dot14():0<(64&pe)?(at.xScale=B.parseF2Dot14(),at.yScale=B.parseF2Dot14()):0<(128&pe)&&(at.xScale=B.parseF2Dot14(),at.scale01=B.parseF2Dot14(),at.scale10=B.parseF2Dot14(),at.yScale=B.parseF2Dot14()),u.components.push(at),nt=!!(32&pe)}if(256&pe){u.instructionLength=B.parseUShort(),u.instructions=[];for(var St=0;St<u.instructionLength;St+=1)u.instructions.push(B.parseByte())}}}function Fr(u,v){for(var j=[],P=0;P<u.length;P+=1){var B=u[P];B={x:v.xScale*B.x+v.scale01*B.y+v.dx,y:v.scale10*B.x+v.yScale*B.y+v.dy,onCurve:B.onCurve,lastPointOfContour:B.lastPointOfContour},j.push(B)}return j}function xn(u){var v=new L;if(u)for(var j=function(ke){for(var Me=[],be=[],Xe=0;Xe<ke.length;Xe+=1){var De=ke[Xe];be.push(De),De.lastPointOfContour&&(Me.push(be),be=[])}return Z.argument(be.length===0,"There are still points left in the current contour."),Me}(u),P=0;P<j.length;++P){var B,H=j[P],X=H[H.length-1],ae=H[0];X.onCurve?v.moveTo(X.x,X.y):ae.onCurve?v.moveTo(ae.x,ae.y):(B={x:.5*(X.x+ae.x),y:.5*(X.y+ae.y)},v.moveTo(B.x,B.y));for(var fe=0;fe<H.length;++fe){var pe,Se=X;X=ae,ae=H[(fe+1)%H.length],X.onCurve?v.lineTo(X.x,X.y):(pe=ae,Se.onCurve||(X.x,Se.x,X.y,Se.y),ae.onCurve||(pe={x:.5*(X.x+ae.x),y:.5*(X.y+ae.y)}),v.quadraticCurveTo(X.x,X.y,pe.x,pe.y))}v.closePath()}return v}function on(u,v){if(v.isComposite)for(var j=0;j<v.components.length;j+=1){var P=v.components[j],B=u.get(P.glyphIndex);if(B.getPath(),B.points){var H=void 0;if(P.matchedPoints===void 0)H=Fr(B.points,P);else{if(P.matchedPoints[0]>v.points.length-1||P.matchedPoints[1]>B.points.length-1)throw Error("Matched points out of range in "+v.name);var X=v.points[P.matchedPoints[0]],ae=Fr([ae=B.points[P.matchedPoints[1]]],P={xScale:P.xScale,scale01:P.scale01,scale10:P.scale10,yScale:P.yScale,dx:0,dy:0})[0];P.dx=X.x-ae.x,P.dy=X.y-ae.y,H=Fr(B.points,P)}v.points=v.points.concat(H)}}return xn(v.points)}(Tr.prototype=$r.prototype={searchTag:Pr,binSearch:yn,getTable:function(u){var v=this.font.tables[this.tableName];return!v&&u?this.font.tables[this.tableName]=this.createDefaultTable():v},getScriptNames:function(){var u=this.getTable();return u?u.scripts.map(function(v){return v.tag}):[]},getDefaultScriptName:function(){var u=this.getTable();if(u){for(var v=!1,j=0;j<u.scripts.length;j++){var P=u.scripts[j].tag;if(P==="DFLT")return P;P==="latn"&&(v=!0)}return v?"latn":void 0}},getScriptTable:function(u,v){var j,P=this.getTable(v);if(P)return j=P.scripts,0<=(P=Pr(P.scripts,u=u||"DFLT"))?j[P].script:v?(j.splice(-1-P,0,v={tag:u,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),v.script):void 0},getLangSysTable:function(u,v,j){var P;if(u=this.getScriptTable(u,j))return v&&v!=="dflt"&&v!=="DFLT"?0<=(P=Pr(u.langSysRecords,v))?u.langSysRecords[P].langSys:j?(u.langSysRecords.splice(-1-P,0,j={tag:v,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),j.langSys):void 0:u.defaultLangSys},getFeatureTable:function(u,v,j,P){if(u=this.getLangSysTable(u,v,P)){for(var B,H=u.featureIndexes,X=this.font.tables[this.tableName].features,ae=0;ae<H.length;ae++)if((B=X[H[ae]]).tag===j)return B.feature;if(P)return v=X.length,Z.assert(v===0||j>=X[v-1].tag,"Features must be added in alphabetical order."),X.push(B={tag:j,feature:{params:0,lookupListIndexes:[]}}),H.push(v),B.feature}},getLookupTables:function(u,v,j,P,B){var H=[];if(u=this.getFeatureTable(u,v,j,B)){for(var X,ae=u.lookupListIndexes,fe=this.font.tables[this.tableName].lookups,pe=0;pe<ae.length;pe++)(X=fe[ae[pe]]).lookupType===P&&H.push(X);if(H.length===0&&B)return v=fe.length,fe.push(X={lookupType:P,lookupFlag:0,subtables:[],markFilteringSet:void 0}),ae.push(v),[X]}return H},getGlyphClass:function(u,v){switch(u.format){case 1:return u.startGlyph<=v&&v<u.startGlyph+u.classes.length?u.classes[v-u.startGlyph]:0;case 2:var j=gn(u.ranges,v);return j?j.classId:0}},getCoverageIndex:function(u,v){switch(u.format){case 1:var j=yn(u.glyphs,v);return 0<=j?j:-1;case 2:return(j=gn(u.ranges,v))?j.index+v-j.start:-1}},expandCoverage:function(u){if(u.format===1)return u.glyphs;for(var v=[],j=u.ranges,P=0;P<j.length;P++)for(var B=j[P],H=B.start,X=B.end,ae=H;ae<=X;ae++)v.push(ae);return v}}).init=function(){var u=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(u)},Tr.prototype.getKerningValue=function(u,v,j){for(var P=0;P<u.length;P++)for(var B=u[P].subtables,H=0;H<B.length;H++){var X=B[H],ae=this.getCoverageIndex(X.coverage,v);if(!(ae<0))switch(X.posFormat){case 1:for(var fe=X.pairSets[ae],pe=0;pe<fe.length;pe++){var Se=fe[pe];if(Se.secondGlyph===j)return Se.value1&&Se.value1.xAdvance||0}break;case 2:var ke=this.getGlyphClass(X.classDef1,v),Me=this.getGlyphClass(X.classDef2,j);return(ke=X.classRecords[ke][Me]).value1&&ke.value1.xAdvance||0}}return 0},Tr.prototype.getKerningTables=function(u,v){if(this.font.tables.gpos)return this.getLookupTables(u,v,"kern",2)},(ur.prototype=$r.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},ur.prototype.getSingle=function(u,v,j){for(var P=[],B=this.getLookupTables(v,j,u,1),H=0;H<B.length;H++)for(var X=B[H].subtables,ae=0;ae<X.length;ae++){var fe=X[ae],pe=this.expandCoverage(fe.coverage),Se=void 0;if(fe.substFormat===1){var ke=fe.deltaGlyphId;for(Se=0;Se<pe.length;Se++){var Me=pe[Se];P.push({sub:Me,by:Me+ke})}}else{var be=fe.substitute;for(Se=0;Se<pe.length;Se++)P.push({sub:pe[Se],by:be[Se]})}}return P},ur.prototype.getAlternates=function(u,v,j){for(var P=[],B=this.getLookupTables(v,j,u,3),H=0;H<B.length;H++)for(var X=B[H].subtables,ae=0;ae<X.length;ae++)for(var fe=X[ae],pe=this.expandCoverage(fe.coverage),Se=fe.alternateSets,ke=0;ke<pe.length;ke++)P.push({sub:pe[ke],by:Se[ke]});return P},ur.prototype.getLigatures=function(u,v,j){for(var P=[],B=this.getLookupTables(v,j,u,4),H=0;H<B.length;H++)for(var X=B[H].subtables,ae=0;ae<X.length;ae++)for(var fe=X[ae],pe=this.expandCoverage(fe.coverage),Se=fe.ligatureSets,ke=0;ke<pe.length;ke++)for(var Me=pe[ke],be=Se[ke],Xe=0;Xe<be.length;Xe++){var De=be[Xe];P.push({sub:[Me].concat(De.components),by:De.ligGlyph})}return P},ur.prototype.addSingle=function(u,v,j,P){j=vn(this.getLookupTables(j,P,u,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),Z.assert(j.coverage.format===1,"Ligature: unable to modify coverage table format "+j.coverage.format),P=v.sub,(u=this.binSearch(j.coverage.glyphs,P))<0&&(j.coverage.glyphs.splice(u=-1-u,0,P),j.substitute.splice(u,0,0)),j.substitute[u]=v.by},ur.prototype.addAlternate=function(u,v,j,P){j=vn(this.getLookupTables(j,P,u,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),Z.assert(j.coverage.format===1,"Ligature: unable to modify coverage table format "+j.coverage.format),P=v.sub,(u=this.binSearch(j.coverage.glyphs,P))<0&&(j.coverage.glyphs.splice(u=-1-u,0,P),j.alternateSets.splice(u,0,0)),j.alternateSets[u]=v.by},ur.prototype.addLigature=function(u,v,j,P){(P=(j=this.getLookupTables(j,P,u,4,!0)[0]).subtables[0])||(j.subtables[0]=P={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),Z.assert(P.coverage.format===1,"Ligature: unable to modify coverage table format "+P.coverage.format),u=v.sub[0];var B=v.sub.slice(1);if(j={ligGlyph:v.by,components:B},0<=(v=this.binSearch(P.coverage.glyphs,u))){for(var H=P.ligatureSets[v],X=0;X<H.length;X++)if(function(ae,fe){var pe=ae.length;if(pe===fe.length){for(var Se=0;Se<pe;Se++)if(ae[Se]!==fe[Se])return;return 1}}(H[X].components,B))return;H.push(j)}else P.coverage.glyphs.splice(v=-1-v,0,u),P.ligatureSets.splice(v,0,[j])},ur.prototype.getFeature=function(u,v,j){if(/ss\d\d/.test(u))return this.getSingle(u,v,j);switch(u){case"aalt":case"salt":return this.getSingle(u,v,j).concat(this.getAlternates(u,v,j));case"dlig":case"liga":case"rlig":return this.getLigatures(u,v,j)}},ur.prototype.add=function(u,v,j,P){if(/ss\d\d/.test(u))return this.addSingle(u,v,j,P);switch(u){case"aalt":case"salt":return typeof v.by=="number"?this.addSingle(u,v,j,P):this.addAlternate(u,v,j,P);case"dlig":case"liga":case"rlig":return this.addLigature(u,v,j,P)}};var wn={getPath:xn,parse:function(u,v,j,P){for(var B=new Qe.GlyphSet(P),H=0;H<j.length-1;H+=1){var X=j[H];X!==j[H+1]?B.push(H,Qe.ttfGlyphLoader(P,H,to,u,v+X,on)):B.push(H,Qe.glyphLoader(P,H))}return B}};function jn(u){this.font=u,this.getCommands=function(v){return wn.getPath(v).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Jr(u){return u}function Sn(u){return Math.sign(u)*Math.round(Math.abs(u))}function ro(u){return Math.sign(u)*Math.round(Math.abs(2*u))/2}function no(u){return Math.sign(u)*(Math.round(Math.abs(u)+.5)-.5)}function oo(u){return Math.sign(u)*Math.ceil(Math.abs(u))}function so(u){return Math.sign(u)*Math.floor(Math.abs(u))}function Nr(u){var v=this.srPeriod,j=this.srPhase,P=1;return u<0&&(u=-u,P=-1),u+=this.srThreshold-j,u=Math.trunc(u/v)*v,(u+=j)<0?j*P:u*P}var yr={x:1,y:0,axis:"x",distance:function(u,v,j,P){return(j?u.xo:u.x)-(P?v.xo:v.x)},interpolate:function(u,v,j,P){var B,H,X,ae,fe,pe,Se;if(!P||P===this)return B=u.xo-v.xo,H=u.xo-j.xo,fe=v.x-v.xo,pe=j.x-j.xo,(Se=(X=Math.abs(B))+(ae=Math.abs(H)))===0?void(u.x=u.xo+(fe+pe)/2):void(u.x=u.xo+(fe*ae+pe*X)/Se);B=P.distance(u,v,!0,!0),H=P.distance(u,j,!0,!0),fe=P.distance(v,v,!1,!0),pe=P.distance(j,j,!1,!0),(Se=(X=Math.abs(B))+(ae=Math.abs(H)))===0?yr.setRelative(u,u,(fe+pe)/2,P,!0):yr.setRelative(u,u,(fe*ae+pe*X)/Se,P,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(u,v,j,P,B){var H,X;P&&P!==this?(H=B?v.xo:v.x,X=B?v.yo:v.y,H+=j*P.x,X+=j*P.y,u.x=H+(u.y-X)/P.normalSlope):u.x=(B?v.xo:v.x)+j},slope:0,touch:function(u){u.xTouched=!0},touched:function(u){return u.xTouched},untouch:function(u){u.xTouched=!1}},cr={x:0,y:1,axis:"y",distance:function(u,v,j,P){return(j?u.yo:u.y)-(P?v.yo:v.y)},interpolate:function(u,v,j,P){var B,H,X,ae,fe,pe,Se;if(!P||P===this)return B=u.yo-v.yo,H=u.yo-j.yo,fe=v.y-v.yo,pe=j.y-j.yo,(Se=(X=Math.abs(B))+(ae=Math.abs(H)))===0?void(u.y=u.yo+(fe+pe)/2):void(u.y=u.yo+(fe*ae+pe*X)/Se);B=P.distance(u,v,!0,!0),H=P.distance(u,j,!0,!0),fe=P.distance(v,v,!1,!0),pe=P.distance(j,j,!1,!0),(Se=(X=Math.abs(B))+(ae=Math.abs(H)))===0?cr.setRelative(u,u,(fe+pe)/2,P,!0):cr.setRelative(u,u,(fe*ae+pe*X)/Se,P,!0)},normalSlope:0,setRelative:function(u,v,j,P,B){var H,X;P&&P!==this?(H=B?v.xo:v.x,X=B?v.yo:v.y,H+=j*P.x,X+=j*P.y,u.y=X+P.normalSlope*(u.x-H)):u.y=(B?v.yo:v.y)+j},slope:Number.POSITIVE_INFINITY,touch:function(u){u.yTouched=!0},touched:function(u){return u.yTouched},untouch:function(u){u.yTouched=!1}};function Br(u,v){this.x=u,this.y=v,this.axis=void 0,this.slope=v/u,this.normalSlope=-u/v,Object.freeze(this)}function Er(u,v){var j=Math.sqrt(u*u+v*v);return v/=j,(u/=j)==1&&v===0?yr:u===0&&v===1?cr:new Br(u,v)}function gr(u,v,j,P){this.x=this.xo=Math.round(64*u)/64,this.y=this.yo=Math.round(64*v)/64,this.lastPointOfContour=j,this.onCurve=P,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(yr),Object.freeze(cr),Br.prototype.distance=function(u,v,j,P){return this.x*yr.distance(u,v,j,P)+this.y*cr.distance(u,v,j,P)},Br.prototype.interpolate=function(u,v,j,P){var B=P.distance(u,v,!0,!0),H=P.distance(u,j,!0,!0),X=(v=P.distance(v,v,!1,!0),j=P.distance(j,j,!1,!0),(B=Math.abs(B))+(H=Math.abs(H)));X===0?this.setRelative(u,u,(v+j)/2,P,!0):this.setRelative(u,u,(v*H+j*B)/X,P,!0)},Br.prototype.setRelative=function(u,v,j,P,B){var H=B?v.xo:v.x,X=(B=B?v.yo:v.y,v=H+j*(P=P||this).x,H=B+j*P.y,B=P.normalSlope,j=this.slope,P=u.x,u.y);u.x=(j*P-B*v+H-X)/(j-B),u.y=j*(u.x-P)+X},Br.prototype.touch=function(u){u.xTouched=!0,u.yTouched=!0},gr.prototype.nextTouched=function(u){for(var v=this.nextPointOnContour;!u.touched(v)&&v!==this;)v=v.nextPointOnContour;return v},gr.prototype.prevTouched=function(u){for(var v=this.prevPointOnContour;!u.touched(v)&&v!==this;)v=v.prevPointOnContour;return v};var Ur=Object.freeze(new gr(0,0)),io={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function _r(u,v){switch(this.env=u,this.stack=[],this.prog=v,u){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=yr,this.round=Sn}}function en(u){for(var v=u.tZone=new Array(u.gZone.length),j=0;j<v.length;j++)v[j]=new gr(0,0)}function Tn(u,v){var j,P=u.prog,B=u.ip,H=1;do if((j=P[++B])===88)H++;else if(j===89)H--;else if(j===64)B+=P[B+1]+1;else if(j===65)B+=2*P[B+1]+1;else if(176<=j&&j<=183)B+=j-176+1;else if(184<=j&&j<=191)B+=2*(j-184+1);else if(v&&H===1&&j===27)break;while(0<H);u.ip=B}function En(u,v){i.DEBUG&&console.log(v.step,"SVTCA["+u.axis+"]"),v.fv=v.pv=v.dpv=u}function Gr(u,v){i.DEBUG&&console.log(v.step,"SPVTCA["+u.axis+"]"),v.pv=v.dpv=u}function kn(u,v){i.DEBUG&&console.log(v.step,"SFVTCA["+u.axis+"]"),v.fv=u}function Mn(u,v){var j,P=(B=v.stack).pop(),B=B.pop(),H=v.z2[P],X=v.z1[B];i.DEBUG&&console.log("SPVTL["+u+"]",P,B),P=u?(j=H.y-X.y,X.x-H.x):(j=X.x-H.x,X.y-H.y),v.pv=v.dpv=Er(j,P)}function An(u,v){var j,P=(B=v.stack).pop(),B=B.pop(),H=v.z2[P],X=v.z1[B];i.DEBUG&&console.log("SFVTL["+u+"]",P,B),P=u?(j=H.y-X.y,X.x-H.x):(j=X.x-H.x,X.y-H.y),v.fv=Er(j,P)}function sn(u){i.DEBUG&&console.log(u.step,"POP[]"),u.stack.pop()}function Pn(u,v){var j=v.stack.pop(),P=v.z0[j],B=v.fv,H=v.pv,X=(i.DEBUG&&console.log(v.step,"MDAP["+u+"]",j),H.distance(P,Ur));u&&(X=v.round(X)),B.setRelative(P,Ur,X,H),B.touch(P),v.rp0=v.rp1=j}function Vr(u,v){var j,P,B,H=v.z2,X=H.length-2;i.DEBUG&&console.log(v.step,"IUP["+u.axis+"]");for(var ae=0;ae<X;ae++)j=H[ae],u.touched(j)||(P=j.prevTouched(u))!==j&&(P===(B=j.nextTouched(u))&&u.setRelative(j,j,u.distance(P,P,!1,!0),u,!0),u.interpolate(j,P,B,u))}function On(u,v){for(var j=v.stack,P=u?v.rp1:v.rp2,B=(u?v.z0:v.z1)[P],H=v.fv,X=v.pv,ae=v.loop,fe=v.z2;ae--;){var pe=j.pop(),Se=fe[pe],ke=X.distance(B,B,!1,!0);H.setRelative(Se,Se,ke,X),H.touch(Se),i.DEBUG&&console.log(v.step,(1<v.loop?"loop "+(v.loop-ae)+": ":"")+"SHP["+(u?"rp1":"rp2")+"]",pe)}v.loop=1}function Cr(u,v){for(var j=v.stack,P=u?v.rp1:v.rp2,B=(u?v.z0:v.z1)[P],H=v.fv,X=v.pv,ae=(P=j.pop(),v.z2[v.contours[P]]),fe=ae,pe=(i.DEBUG&&console.log(v.step,"SHC["+u+"]",P),X.distance(B,B,!1,!0));fe!==B&&H.setRelative(fe,fe,pe,X),(fe=fe.nextPointOnContour)!==ae;);}function Cn(u,v){var j,P,B=v.stack,H=u?v.rp1:v.rp2,X=(H=(u?v.z0:v.z1)[H],v.fv),ae=v.pv;switch(B=B.pop(),i.DEBUG&&console.log(v.step,"SHZ["+u+"]",B),B){case 0:j=v.tZone;break;case 1:j=v.gZone;break;default:throw new Error("Invalid zone")}for(var fe=ae.distance(H,H,!1,!0),pe=j.length-2,Se=0;Se<pe;Se++)P=j[Se],X.setRelative(P,P,fe,ae)}function tn(u,v){var j=(P=v.stack).pop()/64,P=P.pop(),B=v.z1[P],H=v.z0[v.rp0],X=v.fv,ae=v.pv;X.setRelative(B,H,j,ae),X.touch(B),i.DEBUG&&console.log(v.step,"MSIRP["+u+"]",j,P),v.rp1=v.rp0,v.rp2=P,u&&(v.rp0=P)}function Rn(u,v){var j=(P=v.stack).pop(),P=P.pop(),B=v.z0[P],H=v.fv,X=v.pv,ae=v.cvt[j];i.DEBUG&&console.log(v.step,"MIAP["+u+"]",j,"(",ae,")",P),j=X.distance(B,Ur),u&&(Math.abs(j-ae)<v.cvCutIn&&(j=ae),j=v.round(j)),H.setRelative(B,Ur,j,X),v.zp0===0&&(B.xo=B.x,B.yo=B.y),H.touch(B),v.rp0=v.rp1=P}function Ln(u,v){var j=v.stack,P=j.pop(),B=v.z2[P];i.DEBUG&&console.log(v.step,"GC["+u+"]",P),j.push(64*v.dpv.distance(B,Ur,u,!1))}function zr(u,v){var j=(P=v.stack).pop(),P=P.pop(),B=v.z1[j],H=v.z0[P];H=v.dpv.distance(H,B,u,u),i.DEBUG&&console.log(v.step,"MD["+u+"]",j,P,"->",H),v.stack.push(Math.round(64*H))}function an(u,v){var j=v.stack,P=j.pop(),B=v.fv,H=v.pv,X=v.ppem,ae=v.deltaBase+16*(u-1),fe=v.deltaShift,pe=v.z0;i.DEBUG&&console.log(v.step,"DELTAP["+u+"]",P,j);for(var Se=0;Se<P;Se++){var ke=j.pop(),Me=j.pop();ae+((240&Me)>>4)===X&&(0<=(Me=(15&Me)-8)&&Me++,i.DEBUG&&console.log(v.step,"DELTAPFIX",ke,"by",Me*fe),ke=pe[ke],B.setRelative(ke,ke,Me*fe,H))}}function rn(u,v){var j=v.stack,P=j.pop();i.DEBUG&&console.log(v.step,"ROUND[]"),j.push(64*v.round(P/64))}function ln(u,v){var j=v.stack,P=j.pop(),B=v.ppem,H=v.deltaBase+16*(u-1),X=v.deltaShift;i.DEBUG&&console.log(v.step,"DELTAC["+u+"]",P,j);for(var ae=0;ae<P;ae++){var fe=j.pop(),pe=j.pop();H+((240&pe)>>4)===B&&(0<=(pe=(15&pe)-8)&&pe++,pe*=X,i.DEBUG&&console.log(v.step,"DELTACFIX",fe,"by",pe),v.cvt[fe]+=pe)}}function Dn(u,v){var j,P=(B=v.stack).pop(),B=B.pop(),H=v.z2[P],X=v.z1[B];i.DEBUG&&console.log(v.step,"SDPVTL["+u+"]",P,B),P=u?(j=H.y-X.y,X.x-H.x):(j=X.x-H.x,X.y-H.y),v.dpv=Er(j,P)}function xr(u,v){var j=v.stack,P=v.prog,B=v.ip;i.DEBUG&&console.log(v.step,"PUSHB["+u+"]");for(var H=0;H<u;H++)j.push(P[++B]);v.ip=B}function pr(u,v){var j=v.ip,P=v.prog,B=v.stack;i.DEBUG&&console.log(v.ip,"PUSHW["+u+"]");for(var H=0;H<u;H++){var X=P[++j]<<8|P[++j];32768&X&&(X=-(1+(65535^X))),B.push(X)}v.ip=j}function dt(u,v,j,P,B,H){var X,ae,fe=H.stack,pe=u&&fe.pop(),Se=(fe=fe.pop(),H.rp0),ke=(Se=H.z0[Se],H.z1[fe]),Me=H.minDis,be=H.fv,Xe=H.dpv,De=X=Xe.distance(ke,Se,!0,!0),Be=0<=De?1:-1;De=Math.abs(De),u&&(ae=H.cvt[pe],P&&Math.abs(De-ae)<H.cvCutIn&&(De=ae)),j&&De<Me&&(De=Me),P&&(De=H.round(De)),be.setRelative(ke,Se,Be*De,Xe),be.touch(ke),i.DEBUG&&console.log(H.step,(u?"MIRP[":"MDRP[")+(v?"M":"m")+(j?">":"_")+(P?"R":"_")+(B===0?"Gr":B===1?"Bl":B===2?"Wh":"")+"]",u?pe+"("+H.cvt[pe]+","+ae+")":"",fe,"(d =",X,"->",Be*De,")"),H.rp1=H.rp0,H.rp2=fe,v&&(H.rp0=fe)}jn.prototype.exec=function(u,v){if(typeof v!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var j=this.font,P=this._prepState;if(!P||P.ppem!==v){var B=this._fpgmState;if(!B){_r.prototype=io,(B=this._fpgmState=new _r("fpgm",j.tables.fpgm)).funcs=[],B.font=j,i.DEBUG&&(console.log("---EXEC FPGM---"),B.step=-1);try{wr(B)}catch(pe){return console.log("Hinting error in FPGM:"+pe),void(this._errorState=3)}}_r.prototype=B,(P=this._prepState=new _r("prep",j.tables.prep)).ppem=v;var H=j.tables.cvt;if(H)for(var X=P.cvt=new Array(H.length),ae=v/j.unitsPerEm,fe=0;fe<H.length;fe++)X[fe]=H[fe]*ae;else P.cvt=[];i.DEBUG&&(console.log("---EXEC PREP---"),P.step=-1);try{wr(P)}catch(pe){this._errorState<2&&console.log("Hinting error in PREP:"+pe),this._errorState=2}}if(!(1<this._errorState))try{return qr(u,P)}catch(pe){this._errorState<1&&(console.log("Hinting error:"+pe),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var qr=function(u,v){var j=v.ppem/v.font.unitsPerEm,P=j,B=u.components;if(_r.prototype=v,B){for(var H=v.font,X=[],ae=[],fe=0;fe<B.length;fe++){var pe=B[fe],Se=H.glyphs.get(pe.glyphIndex),ke=new _r("glyf",Se.instructions);i.DEBUG&&(console.log("---EXEC COMP "+fe+"---"),ke.step=-1),In(Se,ke,j,P);for(var Me=Math.round(pe.dx*j),be=Math.round(pe.dy*P),Xe=ke.gZone,De=ke.contours,Be=0;Be<Xe.length;Be++){var Ie=Xe[Be];Ie.xTouched=Ie.yTouched=!1,Ie.xo=Ie.x=Ie.x+Me,Ie.yo=Ie.y=Ie.y+be}var Ue=X.length;X.push.apply(X,Xe);for(var it=0;it<De.length;it++)ae.push(De[it]+Ue)}u.instructions&&!ke.inhibitGridFit&&((ke=new _r("glyf",u.instructions)).gZone=ke.z0=ke.z1=ke.z2=X,ke.contours=ae,X.push(new gr(0,0),new gr(Math.round(u.advanceWidth*j),0)),i.DEBUG&&(console.log("---EXEC COMPOSITE---"),ke.step=-1),wr(ke),X.length-=2)}else ke=new _r("glyf",u.instructions),i.DEBUG&&(console.log("---EXEC GLYPH---"),ke.step=-1),In(u,ke,j,P),X=ke.gZone;return X},In=function(u,v,j,P){for(var B,H,X,ae=u.points||[],fe=ae.length,pe=v.gZone=v.z0=v.z1=v.z2=[],Se=v.contours=[],ke=0;ke<fe;ke++)B=ae[ke],pe[ke]=new gr(B.x*j,B.y*P,B.lastPointOfContour,B.onCurve);for(var Me=0;Me<fe;Me++)B=pe[Me],H||(H=B,Se.push(Me)),B.lastPointOfContour?((B.nextPointOnContour=H).prevPointOnContour=B,H=void 0):(X=pe[Me+1],(B.nextPointOnContour=X).prevPointOnContour=B);if(!v.inhibitGridFit){if(i.DEBUG){console.log("PROCESSING GLYPH",v.stack);for(var be=0;be<fe;be++)console.log(be,pe[be].x,pe[be].y)}if(pe.push(new gr(0,0),new gr(Math.round(u.advanceWidth*j),0)),wr(v),pe.length-=2,i.DEBUG){console.log("FINISHED GLYPH",v.stack);for(var Xe=0;Xe<fe;Xe++)console.log(Xe,pe[Xe].x,pe[Xe].y)}}},wr=function(u){var v=u.prog;if(v){var j,P=v.length;for(u.ip=0;u.ip<P;u.ip++){if(i.DEBUG&&u.step++,!(j=ao[v[u.ip]]))throw new Error("unknown instruction: 0x"+Number(v[u.ip]).toString(16));j(u)}}},ao=[En.bind(void 0,cr),En.bind(void 0,yr),Gr.bind(void 0,cr),Gr.bind(void 0,yr),kn.bind(void 0,cr),kn.bind(void 0,yr),Mn.bind(void 0,0),Mn.bind(void 0,1),An.bind(void 0,0),An.bind(void 0,1),function(u){var v=(j=u.stack).pop(),j=j.pop();i.DEBUG&&console.log(u.step,"SPVFS[]",v,j),u.pv=u.dpv=Er(j,v)},function(u){var v=(j=u.stack).pop(),j=j.pop();i.DEBUG&&console.log(u.step,"SPVFS[]",v,j),u.fv=Er(j,v)},function(u){var v=u.stack,j=u.pv;i.DEBUG&&console.log(u.step,"GPV[]"),v.push(16384*j.x),v.push(16384*j.y)},function(u){var v=u.stack,j=u.fv;i.DEBUG&&console.log(u.step,"GFV[]"),v.push(16384*j.x),v.push(16384*j.y)},function(u){u.fv=u.pv,i.DEBUG&&console.log(u.step,"SFVTPV[]")},function(u){var v=(H=u.stack).pop(),j=H.pop(),P=H.pop(),B=H.pop(),H=H.pop(),X=u.z0,ae=u.z1,fe=X[v],pe=(X=X[j],ae[P]),Se=(ae=ae[B],u=u.z2[H],v=(i.DEBUG&&console.log("ISECT[], ",v,j,P,B,H),fe.x),j=fe.y,P=X.x,B=X.y,H=pe.x,fe=pe.y,X=ae.x,ae=(v-P)*(fe-(pe=ae.y))-(j-B)*(H-X),v*B-j*P),ke=H*pe-fe*X;u.x=(Se*(H-X)-ke*(v-P))/ae,u.y=(Se*(fe-pe)-ke*(j-B))/ae},function(u){u.rp0=u.stack.pop(),i.DEBUG&&console.log(u.step,"SRP0[]",u.rp0)},function(u){u.rp1=u.stack.pop(),i.DEBUG&&console.log(u.step,"SRP1[]",u.rp1)},function(u){u.rp2=u.stack.pop(),i.DEBUG&&console.log(u.step,"SRP2[]",u.rp2)},function(u){var v=u.stack.pop();switch(i.DEBUG&&console.log(u.step,"SZP0[]",v),u.zp0=v){case 0:u.tZone||en(u),u.z0=u.tZone;break;case 1:u.z0=u.gZone;break;default:throw new Error("Invalid zone pointer")}},function(u){var v=u.stack.pop();switch(i.DEBUG&&console.log(u.step,"SZP1[]",v),u.zp1=v){case 0:u.tZone||en(u),u.z1=u.tZone;break;case 1:u.z1=u.gZone;break;default:throw new Error("Invalid zone pointer")}},function(u){var v=u.stack.pop();switch(i.DEBUG&&console.log(u.step,"SZP2[]",v),u.zp2=v){case 0:u.tZone||en(u),u.z2=u.tZone;break;case 1:u.z2=u.gZone;break;default:throw new Error("Invalid zone pointer")}},function(u){var v=u.stack.pop();switch(i.DEBUG&&console.log(u.step,"SZPS[]",v),u.zp0=u.zp1=u.zp2=v){case 0:u.tZone||en(u),u.z0=u.z1=u.z2=u.tZone;break;case 1:u.z0=u.z1=u.z2=u.gZone;break;default:throw new Error("Invalid zone pointer")}},function(u){u.loop=u.stack.pop(),i.DEBUG&&console.log(u.step,"SLOOP[]",u.loop)},function(u){i.DEBUG&&console.log(u.step,"RTG[]"),u.round=Sn},function(u){i.DEBUG&&console.log(u.step,"RTHG[]"),u.round=no},function(u){var v=u.stack.pop();i.DEBUG&&console.log(u.step,"SMD[]",v),u.minDis=v/64},function(u){i.DEBUG&&console.log(u.step,"ELSE[]"),Tn(u,!1)},function(u){var v=u.stack.pop();i.DEBUG&&console.log(u.step,"JMPR[]",v),u.ip+=v-1},function(u){var v=u.stack.pop();i.DEBUG&&console.log(u.step,"SCVTCI[]",v),u.cvCutIn=v/64},void 0,void 0,function(u){var v=u.stack;i.DEBUG&&console.log(u.step,"DUP[]"),v.push(v[v.length-1])},sn,function(u){i.DEBUG&&console.log(u.step,"CLEAR[]"),u.stack.length=0},function(u){var v=u.stack,j=v.pop(),P=v.pop();i.DEBUG&&console.log(u.step,"SWAP[]"),v.push(j),v.push(P)},function(u){var v=u.stack;i.DEBUG&&console.log(u.step,"DEPTH[]"),v.push(v.length)},function(u){var v=u.stack,j=v.pop();i.DEBUG&&console.log(u.step,"CINDEX[]",j),v.push(v[v.length-j])},function(u){var v=u.stack,j=v.pop();i.DEBUG&&console.log(u.step,"MINDEX[]",j),v.push(v.splice(v.length-j,1)[0])},void 0,void 0,void 0,function(u){var v=(P=u.stack).pop(),j=P.pop(),P=(i.DEBUG&&console.log(u.step,"LOOPCALL[]",v,j),u.ip),B=u.prog;u.prog=u.funcs[v];for(var H=0;H<j;H++)wr(u),i.DEBUG&&console.log(++u.step,H+1<j?"next loopcall":"done loopcall",H);u.ip=P,u.prog=B},function(u){var v=u.stack.pop(),j=(i.DEBUG&&console.log(u.step,"CALL[]",v),u.ip),P=u.prog;u.prog=u.funcs[v],wr(u),u.ip=j,u.prog=P,i.DEBUG&&console.log(++u.step,"returning from",v)},function(u){if(u.env!=="fpgm")throw new Error("FDEF not allowed here");var v=u.stack,j=u.prog,P=u.ip,B=(v=v.pop(),P);for(i.DEBUG&&console.log(u.step,"FDEF[]",v);j[++P]!==45;);u.ip=P,u.funcs[v]=j.slice(B+1,P)},void 0,Pn.bind(void 0,0),Pn.bind(void 0,1),Vr.bind(void 0,cr),Vr.bind(void 0,yr),On.bind(void 0,0),On.bind(void 0,1),Cr.bind(void 0,0),Cr.bind(void 0,1),Cn.bind(void 0,0),Cn.bind(void 0,1),function(u){for(var v=u.stack,j=u.loop,P=u.fv,B=v.pop()/64,H=u.z2;j--;){var X=v.pop(),ae=H[X];i.DEBUG&&console.log(u.step,(1<u.loop?"loop "+(u.loop-j)+": ":"")+"SHPIX[]",X,B),P.setRelative(ae,ae,B),P.touch(ae)}u.loop=1},function(u){for(var v=u.stack,j=u.rp1,P=u.rp2,B=u.loop,H=u.z0[j],X=u.z1[P],ae=u.fv,fe=u.dpv,pe=u.z2;B--;){var Se=v.pop(),ke=pe[Se];i.DEBUG&&console.log(u.step,(1<u.loop?"loop "+(u.loop-B)+": ":"")+"IP[]",Se,j,"<->",P),ae.interpolate(ke,H,X,fe),ae.touch(ke)}u.loop=1},tn.bind(void 0,0),tn.bind(void 0,1),function(u){for(var v=u.stack,j=u.rp0,P=u.z0[j],B=u.loop,H=u.fv,X=u.pv,ae=u.z1;B--;){var fe=v.pop(),pe=ae[fe];i.DEBUG&&console.log(u.step,(1<u.loop?"loop "+(u.loop-B)+": ":"")+"ALIGNRP[]",fe),H.setRelative(pe,P,0,X),H.touch(pe)}u.loop=1},function(u){i.DEBUG&&console.log(u.step,"RTDG[]"),u.round=ro},Rn.bind(void 0,0),Rn.bind(void 0,1),function(u){var v=u.prog,j=u.ip,P=u.stack,B=v[++j];i.DEBUG&&console.log(u.step,"NPUSHB[]",B);for(var H=0;H<B;H++)P.push(v[++j]);u.ip=j},function(u){var v=u.ip,j=u.prog,P=u.stack,B=j[++v];i.DEBUG&&console.log(u.step,"NPUSHW[]",B);for(var H=0;H<B;H++){var X=j[++v]<<8|j[++v];32768&X&&(X=-(1+(65535^X))),P.push(X)}u.ip=v},function(u){var v=u.stack,j=(j=u.store)||(u.store=[]),P=v.pop();v=v.pop(),i.DEBUG&&console.log(u.step,"WS",P,v),j[v]=P},function(u){var v=u.stack,j=u.store,P=v.pop();i.DEBUG&&console.log(u.step,"RS",P),u=j&&j[P]||0,v.push(u)},function(u){var v=(j=u.stack).pop(),j=j.pop();i.DEBUG&&console.log(u.step,"WCVTP",v,j),u.cvt[j]=v/64},function(u){var v=u.stack,j=v.pop();i.DEBUG&&console.log(u.step,"RCVT",j),v.push(64*u.cvt[j])},Ln.bind(void 0,0),Ln.bind(void 0,1),void 0,zr.bind(void 0,0),zr.bind(void 0,1),function(u){i.DEBUG&&console.log(u.step,"MPPEM[]"),u.stack.push(u.ppem)},void 0,function(u){i.DEBUG&&console.log(u.step,"FLIPON[]"),u.autoFlip=!0},void 0,void 0,function(u){var v=u.stack,j=v.pop(),P=v.pop();i.DEBUG&&console.log(u.step,"LT[]",j,P),v.push(P<j?1:0)},function(u){var v=u.stack,j=v.pop(),P=v.pop();i.DEBUG&&console.log(u.step,"LTEQ[]",j,P),v.push(P<=j?1:0)},function(u){var v=u.stack,j=v.pop(),P=v.pop();i.DEBUG&&console.log(u.step,"GT[]",j,P),v.push(j<P?1:0)},function(u){var v=u.stack,j=v.pop(),P=v.pop();i.DEBUG&&console.log(u.step,"GTEQ[]",j,P),v.push(j<=P?1:0)},function(u){var v=u.stack,j=v.pop(),P=v.pop();i.DEBUG&&console.log(u.step,"EQ[]",j,P),v.push(j===P?1:0)},function(u){var v=u.stack,j=v.pop(),P=v.pop();i.DEBUG&&console.log(u.step,"NEQ[]",j,P),v.push(j!==P?1:0)},function(u){var v=u.stack,j=v.pop();i.DEBUG&&console.log(u.step,"ODD[]",j),v.push(Math.trunc(j)%2?1:0)},function(u){var v=u.stack,j=v.pop();i.DEBUG&&console.log(u.step,"EVEN[]",j),v.push(Math.trunc(j)%2?0:1)},function(u){var v=u.stack.pop();i.DEBUG&&console.log(u.step,"IF[]",v),v||(Tn(u,!0),i.DEBUG&&console.log(u.step,"EIF[]"))},function(u){i.DEBUG&&console.log(u.step,"EIF[]")},function(u){var v=u.stack,j=v.pop(),P=v.pop();i.DEBUG&&console.log(u.step,"AND[]",j,P),v.push(j&&P?1:0)},function(u){var v=u.stack,j=v.pop(),P=v.pop();i.DEBUG&&console.log(u.step,"OR[]",j,P),v.push(j||P?1:0)},function(u){var v=u.stack,j=v.pop();i.DEBUG&&console.log(u.step,"NOT[]",j),v.push(j?0:1)},an.bind(void 0,1),function(u){var v=u.stack.pop();i.DEBUG&&console.log(u.step,"SDB[]",v),u.deltaBase=v},function(u){var v=u.stack.pop();i.DEBUG&&console.log(u.step,"SDS[]",v),u.deltaShift=Math.pow(.5,v)},function(u){var v=u.stack,j=v.pop(),P=v.pop();i.DEBUG&&console.log(u.step,"ADD[]",j,P),v.push(P+j)},function(u){var v=u.stack,j=v.pop(),P=v.pop();i.DEBUG&&console.log(u.step,"SUB[]",j,P),v.push(P-j)},function(u){var v=u.stack,j=v.pop(),P=v.pop();i.DEBUG&&console.log(u.step,"DIV[]",j,P),v.push(64*P/j)},function(u){var v=u.stack,j=v.pop(),P=v.pop();i.DEBUG&&console.log(u.step,"MUL[]",j,P),v.push(P*j/64)},function(u){var v=u.stack,j=v.pop();i.DEBUG&&console.log(u.step,"ABS[]",j),v.push(Math.abs(j))},function(u){var v=u.stack,j=v.pop();i.DEBUG&&console.log(u.step,"NEG[]",j),v.push(-j)},function(u){var v=u.stack,j=v.pop();i.DEBUG&&console.log(u.step,"FLOOR[]",j),v.push(64*Math.floor(j/64))},function(u){var v=u.stack,j=v.pop();i.DEBUG&&console.log(u.step,"CEILING[]",j),v.push(64*Math.ceil(j/64))},rn.bind(void 0,0),rn.bind(void 0,1),rn.bind(void 0,2),rn.bind(void 0,3),void 0,void 0,void 0,void 0,function(u){var v=(j=u.stack).pop(),j=j.pop();i.DEBUG&&console.log(u.step,"WCVTF[]",v,j),u.cvt[j]=v*u.ppem/u.font.unitsPerEm},an.bind(void 0,2),an.bind(void 0,3),ln.bind(void 0,1),ln.bind(void 0,2),ln.bind(void 0,3),function(u){var v,j=u.stack.pop();switch(i.DEBUG&&console.log(u.step,"SROUND[]",j),u.round=Nr,192&j){case 0:v=.5;break;case 64:v=1;break;case 128:v=2;break;default:throw new Error("invalid SROUND value")}switch(u.srPeriod=v,48&j){case 0:u.srPhase=0;break;case 16:u.srPhase=.25*v;break;case 32:u.srPhase=.5*v;break;case 48:u.srPhase=.75*v;break;default:throw new Error("invalid SROUND value")}u.srThreshold=(j&=15)==0?0:(j/8-.5)*v},function(u){var v,j=u.stack.pop();switch(i.DEBUG&&console.log(u.step,"S45ROUND[]",j),u.round=Nr,192&j){case 0:v=Math.sqrt(2)/2;break;case 64:v=Math.sqrt(2);break;case 128:v=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(u.srPeriod=v,48&j){case 0:u.srPhase=0;break;case 16:u.srPhase=.25*v;break;case 32:u.srPhase=.5*v;break;case 48:u.srPhase=.75*v;break;default:throw new Error("invalid S45ROUND value")}u.srThreshold=(j&=15)==0?0:(j/8-.5)*v},void 0,void 0,function(u){i.DEBUG&&console.log(u.step,"ROFF[]"),u.round=Jr},void 0,function(u){i.DEBUG&&console.log(u.step,"RUTG[]"),u.round=oo},function(u){i.DEBUG&&console.log(u.step,"RDTG[]"),u.round=so},sn,sn,void 0,void 0,void 0,void 0,void 0,function(u){var v=u.stack.pop();i.DEBUG&&console.log(u.step,"SCANCTRL[]",v)},Dn.bind(void 0,0),Dn.bind(void 0,1),function(u){var v=u.stack,j=v.pop(),P=0;i.DEBUG&&console.log(u.step,"GETINFO[]",j),1&j&&(P=35),32&j&&(P|=4096),v.push(P)},void 0,function(u){var v=u.stack,j=v.pop(),P=v.pop(),B=v.pop();i.DEBUG&&console.log(u.step,"ROLL[]"),v.push(P),v.push(j),v.push(B)},function(u){var v=u.stack,j=v.pop(),P=v.pop();i.DEBUG&&console.log(u.step,"MAX[]",j,P),v.push(Math.max(P,j))},function(u){var v=u.stack,j=v.pop(),P=v.pop();i.DEBUG&&console.log(u.step,"MIN[]",j,P),v.push(Math.min(P,j))},function(u){var v=u.stack.pop();i.DEBUG&&console.log(u.step,"SCANTYPE[]",v)},function(u){var v=u.stack.pop(),j=u.stack.pop();switch(i.DEBUG&&console.log(u.step,"INSTCTRL[]",v,j),v){case 1:return void(u.inhibitGridFit=!!j);case 2:return void(u.ignoreCvt=!!j);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,xr.bind(void 0,1),xr.bind(void 0,2),xr.bind(void 0,3),xr.bind(void 0,4),xr.bind(void 0,5),xr.bind(void 0,6),xr.bind(void 0,7),xr.bind(void 0,8),pr.bind(void 0,1),pr.bind(void 0,2),pr.bind(void 0,3),pr.bind(void 0,4),pr.bind(void 0,5),pr.bind(void 0,6),pr.bind(void 0,7),pr.bind(void 0,8),dt.bind(void 0,0,0,0,0,0),dt.bind(void 0,0,0,0,0,1),dt.bind(void 0,0,0,0,0,2),dt.bind(void 0,0,0,0,0,3),dt.bind(void 0,0,0,0,1,0),dt.bind(void 0,0,0,0,1,1),dt.bind(void 0,0,0,0,1,2),dt.bind(void 0,0,0,0,1,3),dt.bind(void 0,0,0,1,0,0),dt.bind(void 0,0,0,1,0,1),dt.bind(void 0,0,0,1,0,2),dt.bind(void 0,0,0,1,0,3),dt.bind(void 0,0,0,1,1,0),dt.bind(void 0,0,0,1,1,1),dt.bind(void 0,0,0,1,1,2),dt.bind(void 0,0,0,1,1,3),dt.bind(void 0,0,1,0,0,0),dt.bind(void 0,0,1,0,0,1),dt.bind(void 0,0,1,0,0,2),dt.bind(void 0,0,1,0,0,3),dt.bind(void 0,0,1,0,1,0),dt.bind(void 0,0,1,0,1,1),dt.bind(void 0,0,1,0,1,2),dt.bind(void 0,0,1,0,1,3),dt.bind(void 0,0,1,1,0,0),dt.bind(void 0,0,1,1,0,1),dt.bind(void 0,0,1,1,0,2),dt.bind(void 0,0,1,1,0,3),dt.bind(void 0,0,1,1,1,0),dt.bind(void 0,0,1,1,1,1),dt.bind(void 0,0,1,1,1,2),dt.bind(void 0,0,1,1,1,3),dt.bind(void 0,1,0,0,0,0),dt.bind(void 0,1,0,0,0,1),dt.bind(void 0,1,0,0,0,2),dt.bind(void 0,1,0,0,0,3),dt.bind(void 0,1,0,0,1,0),dt.bind(void 0,1,0,0,1,1),dt.bind(void 0,1,0,0,1,2),dt.bind(void 0,1,0,0,1,3),dt.bind(void 0,1,0,1,0,0),dt.bind(void 0,1,0,1,0,1),dt.bind(void 0,1,0,1,0,2),dt.bind(void 0,1,0,1,0,3),dt.bind(void 0,1,0,1,1,0),dt.bind(void 0,1,0,1,1,1),dt.bind(void 0,1,0,1,1,2),dt.bind(void 0,1,0,1,1,3),dt.bind(void 0,1,1,0,0,0),dt.bind(void 0,1,1,0,0,1),dt.bind(void 0,1,1,0,0,2),dt.bind(void 0,1,1,0,0,3),dt.bind(void 0,1,1,0,1,0),dt.bind(void 0,1,1,0,1,1),dt.bind(void 0,1,1,0,1,2),dt.bind(void 0,1,1,0,1,3),dt.bind(void 0,1,1,1,0,0),dt.bind(void 0,1,1,1,0,1),dt.bind(void 0,1,1,1,0,2),dt.bind(void 0,1,1,1,0,3),dt.bind(void 0,1,1,1,1,0),dt.bind(void 0,1,1,1,1,1),dt.bind(void 0,1,1,1,1,2),dt.bind(void 0,1,1,1,1,3)],lo=Array.from||function(u){return u.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function At(u){(u=u||{}).empty||(Or(u.familyName,"When creating a new Font object, familyName is required."),Or(u.styleName,"When creating a new Font object, styleName is required."),Or(u.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Or(u.ascender,"When creating a new Font object, ascender is required."),Or(u.descender,"When creating a new Font object, descender is required."),Or(u.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:u.familyName||" "},fontSubfamily:{en:u.styleName||" "},fullName:{en:u.fullName||u.familyName+" "+u.styleName},postScriptName:{en:u.postScriptName||(u.familyName+u.styleName).replace(/\s/g,"")},designer:{en:u.designer||" "},designerURL:{en:u.designerURL||" "},manufacturer:{en:u.manufacturer||" "},manufacturerURL:{en:u.manufacturerURL||" "},license:{en:u.license||" "},licenseURL:{en:u.licenseURL||" "},version:{en:u.version||"Version 0.1"},description:{en:u.description||" "},copyright:{en:u.copyright||" "},trademark:{en:u.trademark||" "}},this.unitsPerEm=u.unitsPerEm||1e3,this.ascender=u.ascender,this.descender=u.descender,this.createdTimestamp=u.createdTimestamp,this.tables={os2:{usWeightClass:u.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:u.widthClass||this.usWidthClasses.MEDIUM,fsSelection:u.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new Qe.GlyphSet(this,u.glyphs||[]),this.encoding=new Q(this),this.position=new Tr(this),this.substitution=new ur(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new jn(this):void 0)}})}At.prototype.hasChar=function(u){return this.encoding.charToGlyphIndex(u)!==null},At.prototype.charToGlyphIndex=function(u){return this.encoding.charToGlyphIndex(u)},At.prototype.charToGlyph=function(u){return u=this.charToGlyphIndex(u),this.glyphs.get(u)||this.glyphs.get(0)},At.prototype.stringToGlyphs=function(u,v){v=v||this.defaultRenderOptions;for(var j=lo(u),P=[],B=0;B<j.length;B+=1){var H=j[B];P.push(this.charToGlyphIndex(H))}var X=P.length;if(v.features){u=v.script||this.substitution.getDefaultScriptName();var ae=[];v.features.liga&&(ae=ae.concat(this.substitution.getFeature("liga",u,v.language))),v.features.rlig&&(ae=ae.concat(this.substitution.getFeature("rlig",u,v.language)));for(var fe=0;fe<X;fe+=1)for(var pe=0;pe<ae.length;pe++){for(var Se=ae[pe],ke=Se.sub,Me=ke.length,be=0;be<Me&&ke[be]===P[fe+be];)be++;be===Me&&(P.splice(fe,Me,Se.by),X=X-Me+1)}}for(var Xe=new Array(X),De=this.glyphs.get(0),Be=0;Be<X;Be+=1)Xe[Be]=this.glyphs.get(P[Be])||De;return Xe},At.prototype.nameToGlyphIndex=function(u){return this.glyphNames.nameToGlyphIndex(u)},At.prototype.nameToGlyph=function(u){return u=this.nameToGlyphIndex(u),this.glyphs.get(u)||this.glyphs.get(0)},At.prototype.glyphIndexToName=function(u){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(u):""},At.prototype.getKerningValue=function(u,v){u=u.index||u,v=v.index||v;var j=this.position.defaultKerningTables;return j?this.position.getKerningValue(j,u,v):this.kerningPairs[u+","+v]||0},At.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},At.prototype.forEachGlyph=function(u,v,j,P,B,H){v=v!==void 0?v:0,j=j!==void 0?j:0,B=B||this.defaultRenderOptions;var X,ae=1/this.unitsPerEm*(P=P!==void 0?P:72),fe=this.stringToGlyphs(u,B);B.kerning&&(u=B.script||this.position.getDefaultScriptName(),X=this.position.getKerningTables(u,B.language));for(var pe=0;pe<fe.length;pe+=1){var Se=fe[pe];H.call(this,Se,v,j,P,B),Se.advanceWidth&&(v+=Se.advanceWidth*ae),B.kerning&&pe<fe.length-1&&(v+=(X?this.position.getKerningValue(X,Se.index,fe[pe+1].index):this.getKerningValue(Se,fe[pe+1]))*ae),B.letterSpacing?v+=B.letterSpacing*P:B.tracking&&(v+=B.tracking/1e3*P)}return v},At.prototype.getPath=function(u,v,j,P,B){var H=new L;return this.forEachGlyph(u,v,j,P,B,function(X,ae,fe,pe){X=X.getPath(ae,fe,pe,B,this),H.extend(X)}),H},At.prototype.getPaths=function(u,v,j,P,B){var H=[];return this.forEachGlyph(u,v,j,P,B,function(X,ae,fe,pe){X=X.getPath(ae,fe,pe,B,this),H.push(X)}),H},At.prototype.getAdvanceWidth=function(u,v,j){return this.forEachGlyph(u,0,0,v,j,function(){})},At.prototype.draw=function(u,v,j,P,B,H){this.getPath(v,j,P,B,H).draw(u)},At.prototype.drawPoints=function(u,v,j,P,B,H){this.forEachGlyph(v,j,P,B,H,function(X,ae,fe,pe){X.drawPoints(u,ae,fe,pe)})},At.prototype.drawMetrics=function(u,v,j,P,B,H){this.forEachGlyph(v,j,P,B,H,function(X,ae,fe,pe){X.drawMetrics(u,ae,fe,pe)})},At.prototype.getEnglishName=function(u){if(u=this.names[u])return u.en},At.prototype.validate=function(){var u=this;function v(j){(j=u.getEnglishName(j))&&j.trim().length}v("fontFamily"),v("weightName"),v("manufacturer"),v("copyright"),v("version"),this.unitsPerEm},At.prototype.toTables=function(){return nn(this)},At.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},At.prototype.toArrayBuffer=function(){for(var u=this.toTables().encode(),v=new ArrayBuffer(u.length),j=new Uint8Array(v),P=0;P<u.length;P++)j[P]=u[P];return v},At.prototype.download=function(u){var v=this.getEnglishName("fontFamily"),j=this.getEnglishName("fontSubfamily"),P=(u=u||v.replace(/\s/g,"")+"-"+j+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,P.byteLength,function(B){B.root.getFile(u,{create:!0},function(H){H.createWriter(function(X){var ae=new DataView(P);ae=new Blob([ae],{type:"font/opentype"}),X.write(ae),X.addEventListener("writeend",function(){location.href=H.toURL()},!1)})})},function(B){throw new Error(B.name+": "+B.message)})):(v=t("fs"),j=function(B){for(var H=new f(B.byteLength),X=new Uint8Array(B),ae=0;ae<H.length;++ae)H[ae]=X[ae];return H}(P),v.writeFileSync(u,j))},At.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},At.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},At.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Fn=function(u,v,j){for(var P,B,H,X,ae=new Ce.Parser(u,v),fe=ae.parseULong(),pe=(Z.argument(fe===65536,"Unsupported fvar table version."),ae.parseOffset16()),Se=(ae.skip("uShort",1),ae.parseUShort()),ke=ae.parseUShort(),Me=ae.parseUShort(),be=ae.parseUShort(),Xe=[],De=0;De<Se;De++)Xe.push((P=u,B=v+pe+De*ke,H=j,X={},P=new Ce.Parser(P,B),X.tag=P.parseTag(),X.minValue=P.parseFixed(),X.defaultValue=P.parseFixed(),X.maxValue=P.parseFixed(),P.skip("uShort",1),X.name=H[P.parseUShort()]||{},X));for(var Be=[],Ie=v+pe+Se*ke,Ue=0;Ue<Me;Ue++)Be.push(function(it,nt,at,St){var wt={},Ot=new Ce.Parser(it,nt);wt.name=St[Ot.parseUShort()]||{},Ot.skip("uShort",1),wt.coordinates={};for(var Gt=0;Gt<at.length;++Gt)wt.coordinates[at[Gt].tag]=Ot.parseFixed();return wt}(u,Ie+Ue*be,Xe,j));return{axes:Xe,instances:Be}},mr=new Array(10);mr[1]=function(){var u=this.offset+this.relativeOffset,v=this.parseUShort();return v===1?{posFormat:1,coverage:this.parsePointer(de.coverage),value:this.parseValueRecord()}:v===2?{posFormat:2,coverage:this.parsePointer(de.coverage),values:this.parseValueRecordList()}:void Z.assert(!1,"0x"+u.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},mr[2]=function(){var u,v,j,P,B=this.offset+this.relativeOffset,H=this.parseUShort(),X=(B=(Z.assert(H===1||H===2,"0x"+B.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(de.coverage)),this.parseUShort()),ae=this.parseUShort();return H===1?{posFormat:H,coverage:B,valueFormat1:X,valueFormat2:ae,pairSets:this.parseList(de.pointer(de.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(X),value2:this.parseValueRecord(ae)}})))}:H===2?(u=this.parsePointer(de.classDef),v=this.parsePointer(de.classDef),j=this.parseUShort(),P=this.parseUShort(),{posFormat:H,coverage:B,valueFormat1:X,valueFormat2:ae,classDef1:u,classDef2:v,class1Count:j,class2Count:P,classRecords:this.parseList(j,de.list(P,function(){return{value1:this.parseValueRecord(X),value2:this.parseValueRecord(ae)}}))}):void 0},mr[3]=function(){return{error:"GPOS Lookup 3 not supported"}},mr[4]=function(){return{error:"GPOS Lookup 4 not supported"}},mr[5]=function(){return{error:"GPOS Lookup 5 not supported"}},mr[6]=function(){return{error:"GPOS Lookup 6 not supported"}},mr[7]=function(){return{error:"GPOS Lookup 7 not supported"}},mr[8]=function(){return{error:"GPOS Lookup 8 not supported"}},mr[9]=function(){return{error:"GPOS Lookup 9 not supported"}},new Array(10);var Nn=function(u,v){return v=(u=new de(u,v=v||0)).parseVersion(1),Z.argument(v===1||v===1.1,"Unsupported GPOS table version "+v),v===1?{version:v,scripts:u.parseScriptList(),features:u.parseFeatureList(),lookups:u.parseLookupList(mr)}:{version:v,scripts:u.parseScriptList(),features:u.parseFeatureList(),lookups:u.parseLookupList(mr),variations:u.parseFeatureVariationsList()}},Bn=function(u,v){if((v=(u=new Ce.Parser(u,v)).parseUShort())===0){var j=u,P={},B=(j.skip("uShort"),j.parseUShort()),H=(Z.argument(B===0,"Unsupported kern sub-table version."),j.skip("uShort",2),j.parseUShort());j.skip("uShort",3);for(var X=0;X<H;X+=1){var ae=j.parseUShort(),fe=j.parseUShort(),pe=j.parseShort();P[ae+","+fe]=pe}return P}if(v!==1)throw new Error("Unsupported kern table version ("+v+").");var Se=u,ke={};if(Se.skip("uShort"),1<Se.parseULong()&&console.warn("Only the first kern subtable is supported."),Se.skip("uLong"),B=255&Se.parseUShort(),Se.skip("uShort"),B==0){var Me=Se.parseUShort();Se.skip("uShort",3);for(var be=0;be<Me;be+=1){var Xe=Se.parseUShort(),De=Se.parseUShort(),Be=Se.parseShort();ke[Xe+","+De]=Be}}return ke},uo=function(u,v,j,P){for(var B=new Ce.Parser(u,v),H=P?B.parseUShort:B.parseULong,X=[],ae=0;ae<j+1;ae+=1){var fe=H.call(B);P&&(fe*=2),X.push(fe)}return X};function Wr(u,v){t("fs").readFile(u,function(j,P){if(j)return v(j.message);v(null,bn(P))})}function co(u,v){var j=new XMLHttpRequest;j.open("get",u,!0),j.responseType="arraybuffer",j.onload=function(){return j.response?v(null,j.response):v("Font could not be loaded: "+j.statusText)},j.onerror=function(){v("Font could not be loaded")},j.send()}function jr(u,v){for(var j=[],P=12,B=0;B<v;B+=1){var H=Ce.getTag(u,P),X=Ce.getULong(u,P+4),ae=Ce.getULong(u,P+8),fe=Ce.getULong(u,P+12);j.push({tag:H,checksum:X,offset:ae,length:fe,compression:!1}),P+=16}return j}function Yt(u,v){if(v.compression!=="WOFF")return{data:u,offset:v.offset};u=new Uint8Array(u.buffer,v.offset+2,v.compressedLength-2);var j=new Uint8Array(v.length);if(function(P,B){var H,X,ae,fe=new n(P,B);do{switch((X=fe).bitcount--||(X.tag=X.source[X.sourceIndex++],X.bitcount=7),ae=1&X.tag,X.tag>>>=1,X=ae,x(fe,2,0)){case 0:H=function(at){for(var St,wt;8<at.bitcount;)at.sourceIndex--,at.bitcount-=8;if((St=256*at.source[at.sourceIndex+1]+at.source[at.sourceIndex])!==(65535&~(256*at.source[at.sourceIndex+3]+at.source[at.sourceIndex+2])))return-3;for(at.sourceIndex+=4,wt=St;wt;--wt)at.dest[at.destLen++]=at.source[at.sourceIndex++];return at.bitcount=0,0}(fe);break;case 1:H=S(fe,o,s);break;case 2:it=Ue=Ie=nt=pe=Be=void 0;for(var pe,Se=fe,ke=fe.ltree,Me=fe.dtree,be=x(Se,5,257),Xe=x(Se,5,1),De=x(Se,4,4),Be=0;Be<19;++Be)m[Be]=0;for(Be=0;Be<De;++Be){var Ie=x(Se,3,0);m[c[Be]]=Ie}for(T(p,m,0,19),pe=0;pe<be+Xe;){var Ue=R(Se,p);switch(Ue){case 16:for(var it=m[pe-1],nt=x(Se,2,3);nt;--nt)m[pe++]=it;break;case 17:for(nt=x(Se,3,3);nt;--nt)m[pe++]=0;break;case 18:for(nt=x(Se,7,11);nt;--nt)m[pe++]=0;break;default:m[pe++]=Ue}}T(ke,m,0,be),T(Me,m,be,Xe),H=S(fe,fe.ltree,fe.dtree);break;default:H=-3}if(H!==0)throw new Error("Data error")}while(!X);fe.destLen<fe.dest.length?typeof fe.dest.slice=="function"?fe.dest.slice(0,fe.destLen):fe.dest.subarray(0,fe.destLen):fe.dest}(u,j),j.byteLength!==v.length)throw new Error("Decompression error: "+v.tag+" decompressed length doesn't match recorded length");return{data:new DataView(j.buffer,0),offset:0}}function Hr(u){var v,j,P,B,H,X,ae,fe,pe,Se,ke,Me,be,Xe,De=new At({empty:!0}),Be=new DataView(u,0),Ie=[];if((u=Ce.getTag(Be,0))==="\0\0\0"||u==="true"||u==="typ1")De.outlinesFormat="truetype",Ie=jr(Be,P=Ce.getUShort(Be,4));else if(u==="OTTO")De.outlinesFormat="cff",Ie=jr(Be,P=Ce.getUShort(Be,4));else{if(u!=="wOFF")throw new Error("Unsupported OpenType signature "+u);if((at=Ce.getTag(Be,4))==="\0\0\0")De.outlinesFormat="truetype";else{if(at!=="OTTO")throw new Error("Unsupported OpenType flavor "+u);De.outlinesFormat="cff"}Ie=function(Ht,Bt){for(var Rt=[],Xt=44,Qt=0;Qt<Bt;Qt+=1){var sr=Ce.getTag(Ht,Xt),Ut=Ce.getULong(Ht,Xt+4),Jt=Ce.getULong(Ht,Xt+8),Yr=Ce.getULong(Ht,Xt+12),Xr=Jt<Yr&&"WOFF";Rt.push({tag:sr,offset:Ut,compression:Xr,compressedLength:Jt,length:Yr}),Xt+=20}return Rt}(Be,P=Ce.getUShort(Be,12))}for(var Ue=0;Ue<P;Ue+=1){var it=Ie[Ue],nt=void 0;switch(it.tag){case"cmap":nt=Yt(Be,it),De.tables.cmap=qe(nt.data,nt.offset),De.encoding=new ne(De.tables.cmap);break;case"cvt ":nt=Yt(Be,it),Xe=new Ce.Parser(nt.data,nt.offset),De.tables.cvt=Xe.parseShortList(it.length/2);break;case"fvar":H=it;break;case"fpgm":nt=Yt(Be,it),Xe=new Ce.Parser(nt.data,nt.offset),De.tables.fpgm=Xe.parseByteList(it.length);break;case"head":nt=Yt(Be,it),De.tables.head=Ar(nt.data,nt.offset),De.unitsPerEm=De.tables.head.unitsPerEm,v=De.tables.head.indexToLocFormat;break;case"hhea":nt=Yt(Be,it),De.tables.hhea=Lr(nt.data,nt.offset),De.ascender=De.tables.hhea.ascender,De.descender=De.tables.hhea.descender,De.numberOfHMetrics=De.tables.hhea.numberOfHMetrics;break;case"hmtx":pe=it;break;case"ltag":nt=Yt(Be,it),j=Ye(nt.data,nt.offset);break;case"maxp":nt=Yt(Be,it),De.tables.maxp=Et(nt.data,nt.offset),De.numGlyphs=De.tables.maxp.numGlyphs;break;case"name":Me=it;break;case"OS/2":nt=Yt(Be,it),De.tables.os2=Xn(nt.data,nt.offset);break;case"post":nt=Yt(Be,it),De.tables.post=Qn(nt.data,nt.offset),De.glyphNames=new we(De.tables.post);break;case"prep":nt=Yt(Be,it),Xe=new Ce.Parser(nt.data,nt.offset),De.tables.prep=Xe.parseByteList(it.length);break;case"glyf":X=it;break;case"loca":ke=it;break;case"CFF ":B=it;break;case"kern":Se=it;break;case"GPOS":ae=it;break;case"GSUB":fe=it;break;case"meta":be=it}}if(at=Yt(Be,Me),De.tables.name=or(at.data,at.offset,j),De.names=De.tables.name,X&&ke)u=v===0,at=Yt(Be,ke),at=uo(at.data,at.offset,De.numGlyphs,u),u=Yt(Be,X),De.glyphs=wn.parse(u.data,u.offset,at,De);else{if(!B)throw new Error("Font doesn't contain TrueType or CFF outlines.");u=Yt(Be,B),Dt(u.data,u.offset,De)}for(var at=Yt(Be,pe),St=(ge(at.data,at.offset,De.numberOfHMetrics,De.numGlyphs,De.glyphs),De),wt=St.tables.cmap.glyphIndexMap,Ot=Object.keys(wt),Gt=0;Gt<Ot.length;Gt+=1){var Nt,Ct=Ot[Gt],bt=wt[Ct];(Nt=St.glyphs.get(bt)).addUnicode(parseInt(Ct))}for(var Vt=0;Vt<St.glyphs.length;Vt+=1)Nt=St.glyphs.get(Vt),St.cffEncoding?St.isCIDFont?Nt.name="gid"+Vt:Nt.name=St.cffEncoding.charset[Vt]:St.glyphNames.names&&(Nt.name=St.glyphNames.glyphIndexToName(Vt));return Se?(u=Yt(Be,Se),De.kerningPairs=Bn(u.data,u.offset)):De.kerningPairs={},ae&&(at=Yt(Be,ae),De.tables.gpos=Nn(at.data,at.offset),De.position.init()),fe&&(u=Yt(Be,fe),De.tables.gsub=Kr(u.data,u.offset)),H&&(at=Yt(Be,H),De.tables.fvar=Fn(at.data,at.offset,De.names)),be&&(u=Yt(Be,be),De.tables.meta=eo(u.data,u.offset),De.metas=De.tables.meta),De}i.Font=At,i.Glyph=Ze,i.Path=L,i.BoundingBox=M,i._parse=Ce,i.parse=Hr,i.load=function(u,v){(typeof window>"u"?Wr:co)(u,function(j,P){if(j)return v(j);var B;try{B=Hr(P)}catch(H){return v(H,null)}return v(null,B)})},i.loadSync=function(u){return Hr(bn(t("fs").readFileSync(u)))},Object.defineProperty(i,"__esModule",{value:!0})})(typeof _=="object"&&O!==void 0?_:this.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],248:[function(t,O,_){(function(f){function i(y,n){for(var o=0,s=y.length-1;0<=s;s--){var r=y[s];r==="."?y.splice(s,1):r===".."?(y.splice(s,1),o++):o&&(y.splice(s,1),o--)}if(n)for(;o--;)y.unshift("..");return y}function l(y,n){if(y.filter)return y.filter(n);for(var o=[],s=0;s<y.length;s++)n(y[s],s,y)&&o.push(y[s]);return o}_.resolve=function(){for(var y="",n=!1,o=arguments.length-1;-1<=o&&!n;o--){var s=0<=o?arguments[o]:f.cwd();if(typeof s!="string")throw new TypeError("Arguments to path.resolve must be strings");s&&(y=s+"/"+y,n=s.charAt(0)==="/")}return(n?"/":"")+(y=i(l(y.split("/"),function(r){return!!r}),!n).join("/"))||"."},_.normalize=function(y){var n=_.isAbsolute(y),o=g(y,-1)==="/";return(y=(y=i(l(y.split("/"),function(s){return!!s}),!n).join("/"))||n?y:".")&&o&&(y+="/"),(n?"/":"")+y},_.isAbsolute=function(y){return y.charAt(0)==="/"},_.join=function(){var y=Array.prototype.slice.call(arguments,0);return _.normalize(l(y,function(n,o){if(typeof n!="string")throw new TypeError("Arguments to path.join must be strings");return n}).join("/"))},_.relative=function(y,n){function o(p){for(var m=0;m<p.length&&p[m]==="";m++);for(var b=p.length-1;0<=b&&p[b]==="";b--);return b<m?[]:p.slice(m,b-m+1)}y=_.resolve(y).substr(1),n=_.resolve(n).substr(1);for(var s=o(y.split("/")),r=o(n.split("/")),a=Math.min(s.length,r.length),d=a,h=0;h<a;h++)if(s[h]!==r[h]){d=h;break}var c=[];for(h=d;h<s.length;h++)c.push("..");return(c=c.concat(r.slice(d))).join("/")},_.sep="/",_.delimiter=":",_.dirname=function(y){if(typeof y!="string"&&(y+=""),y.length===0)return".";for(var n=y.charCodeAt(0)===47,o=-1,s=!0,r=y.length-1;1<=r;--r)if(y.charCodeAt(r)===47){if(!s){o=r;break}}else s=!1;return o===-1?n?"/":".":n&&o===1?"/":y.slice(0,o)},_.basename=function(y,n){return y=function(o){typeof o!="string"&&(o+="");for(var s=0,r=-1,a=!0,d=o.length-1;0<=d;--d)if(o.charCodeAt(d)===47){if(!a){s=d+1;break}}else r===-1&&(a=!1,r=d+1);return r===-1?"":o.slice(s,r)}(y),n&&y.substr(-1*n.length)===n?y.substr(0,y.length-n.length):y},_.extname=function(y){typeof y!="string"&&(y+="");for(var n=-1,o=0,s=-1,r=!0,a=0,d=y.length-1;0<=d;--d){var h=y.charCodeAt(d);if(h===47){if(r)continue;o=d+1;break}s===-1&&(r=!1,s=d+1),h===46?n===-1?n=d:a!==1&&(a=1):n!==-1&&(a=-1)}return n===-1||s===-1||a===0||a===1&&n===s-1&&n===o+1?"":y.slice(n,s)};var g="ab".substr(-1)==="b"?function(y,n,o){return y.substr(n,o)}:function(y,n,o){return n<0&&(n=y.length+n),y.substr(n,o)}}).call(this,t("_process"))},{_process:249}],249:[function(t,O,_){var f,i;O=O.exports={};function l(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}try{f=typeof setTimeout=="function"?setTimeout:l}catch{f=l}try{i=typeof clearTimeout=="function"?clearTimeout:g}catch{i=g}function y(p){if(f===setTimeout)return setTimeout(p,0);if((f===l||!f)&&setTimeout)return(f=setTimeout)(p,0);try{return f(p,0)}catch{try{return f.call(null,p,0)}catch{return f.call(this,p,0)}}}var n,o=[],s=!1,r=-1;function a(){s&&n&&(s=!1,n.length?o=n.concat(o):r=-1,o.length&&d())}function d(){if(!s){for(var p=y(a),m=(s=!0,o.length);m;){for(n=o,o=[];++r<m;)n&&n[r].run();r=-1,m=o.length}n=null,s=!1,function(b){if(i===clearTimeout)return clearTimeout(b);if((i===g||!i)&&clearTimeout)return(i=clearTimeout)(b);try{i(b)}catch{try{return i.call(null,b)}catch{return i.call(this,b)}}}(p)}}function h(p,m){this.fun=p,this.array=m}function c(){}O.nextTick=function(p){var m=new Array(arguments.length-1);if(1<arguments.length)for(var b=1;b<arguments.length;b++)m[b-1]=arguments[b];o.push(new h(p,m)),o.length!==1||s||y(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},O.title="browser",O.browser=!0,O.env={},O.argv=[],O.version="",O.versions={},O.on=c,O.addListener=c,O.once=c,O.off=c,O.removeListener=c,O.removeAllListeners=c,O.emit=c,O.prependListener=c,O.prependOnceListener=c,O.listeners=function(p){return[]},O.binding=function(p){throw new Error("process.binding is not supported")},O.cwd=function(){return"/"},O.chdir=function(p){throw new Error("process.chdir is not supported")},O.umask=function(){return 0}},{}],250:[function(t,O,_){O=function(f){var i,l=Object.prototype,g=l.hasOwnProperty,y=(T=typeof Symbol=="function"?Symbol:{}).iterator||"@@iterator",n=T.asyncIterator||"@@asyncIterator",o=T.toStringTag||"@@toStringTag";function s(z,Y,Z,ee){var te,oe,U,q;return Y=Y&&Y.prototype instanceof m?Y:m,Y=Object.create(Y.prototype),ee=new F(ee||[]),Y._invoke=(te=z,oe=Z,U=ee,q=a,function(K,se){if(q===h)throw new Error("Generator is already running");if(q===c){if(K==="throw")throw se;return L()}for(U.method=K,U.arg=se;;){var ie=U.delegate;if(ie&&(ie=function le($,ce){var ye=$.iterator[ce.method];if(ye===i){if(ce.delegate=null,ce.method==="throw"){if($.iterator.return&&(ce.method="return",ce.arg=i,le($,ce),ce.method==="throw"))return p;ce.method="throw",ce.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}return(ye=r(ye,$.iterator,ce.arg)).type==="throw"?(ce.method="throw",ce.arg=ye.arg,ce.delegate=null,p):(ye=ye.arg)?ye.done?(ce[$.resultName]=ye.value,ce.next=$.nextLoc,ce.method!=="return"&&(ce.method="next",ce.arg=i),ce.delegate=null,p):ye:(ce.method="throw",ce.arg=new TypeError("iterator result is not an object"),ce.delegate=null,p)}(ie,U))){if(ie===p)continue;return ie}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(q===a)throw q=c,U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);if(q=h,(ie=r(te,oe,U)).type==="normal"){if(q=U.done?c:d,ie.arg!==p)return{value:ie.arg,done:U.done}}else ie.type==="throw"&&(q=c,U.method="throw",U.arg=ie.arg)}}),Y}function r(z,Y,Z){try{return{type:"normal",arg:z.call(Y,Z)}}catch(ee){return{type:"throw",arg:ee}}}f.wrap=s;var a="suspendedStart",d="suspendedYield",h="executing",c="completed",p={};function m(){}function b(){}function A(){}var T,x,R=((x=(x=((T={})[y]=function(){return this},Object.getPrototypeOf))&&x(x(M([]))))&&x!==l&&g.call(x,y)&&(T=x),A.prototype=m.prototype=Object.create(T));function S(z){["next","throw","return"].forEach(function(Y){z[Y]=function(Z){return this._invoke(Y,Z)}})}function C(z){var Y;this._invoke=function(Z,ee){function te(){return new Promise(function(oe,U){(function q(K,se,ie,le){var $;if((K=r(z[K],z,se)).type!=="throw")return(se=($=K.arg).value)&&typeof se=="object"&&g.call(se,"__await")?Promise.resolve(se.__await).then(function(ce){q("next",ce,ie,le)},function(ce){q("throw",ce,ie,le)}):Promise.resolve(se).then(function(ce){$.value=ce,ie($)},function(ce){return q("throw",ce,ie,le)});le(K.arg)})(Z,ee,oe,U)})}return Y=Y?Y.then(te,te):te()}}function D(z){var Y={tryLoc:z[0]};1 in z&&(Y.catchLoc=z[1]),2 in z&&(Y.finallyLoc=z[2],Y.afterLoc=z[3]),this.tryEntries.push(Y)}function N(z){var Y=z.completion||{};Y.type="normal",delete Y.arg,z.completion=Y}function F(z){this.tryEntries=[{tryLoc:"root"}],z.forEach(D,this),this.reset(!0)}function M(z){if(z){var Y,Z=z[y];if(Z)return Z.call(z);if(typeof z.next=="function")return z;if(!isNaN(z.length))return Y=-1,(Z=function ee(){for(;++Y<z.length;)if(g.call(z,Y))return ee.value=z[Y],ee.done=!1,ee;return ee.value=i,ee.done=!0,ee}).next=Z}return{next:L}}function L(){return{value:i,done:!0}}return(b.prototype=R.constructor=A).constructor=b,A[o]=b.displayName="GeneratorFunction",f.isGeneratorFunction=function(z){return!!(z=typeof z=="function"&&z.constructor)&&(z===b||(z.displayName||z.name)==="GeneratorFunction")},f.mark=function(z){return Object.setPrototypeOf?Object.setPrototypeOf(z,A):(z.__proto__=A,o in z||(z[o]="GeneratorFunction")),z.prototype=Object.create(R),z},f.awrap=function(z){return{__await:z}},S(C.prototype),C.prototype[n]=function(){return this},f.AsyncIterator=C,f.async=function(z,Y,Z,ee){var te=new C(s(z,Y,Z,ee));return f.isGeneratorFunction(Y)?te:te.next().then(function(oe){return oe.done?oe.value:te.next()})},S(R),R[o]="Generator",R[y]=function(){return this},R.toString=function(){return"[object Generator]"},f.keys=function(z){var Y,Z=[];for(Y in z)Z.push(Y);return Z.reverse(),function ee(){for(;Z.length;){var te=Z.pop();if(te in z)return ee.value=te,ee.done=!1,ee}return ee.done=!0,ee}},f.values=M,F.prototype={constructor:F,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(N),!z)for(var Y in this)Y.charAt(0)==="t"&&g.call(this,Y)&&!isNaN(+Y.slice(1))&&(this[Y]=i)},stop:function(){this.done=!0;var z=this.tryEntries[0].completion;if(z.type==="throw")throw z.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var Y=this;function Z(K,se){return oe.type="throw",oe.arg=z,Y.next=K,se&&(Y.method="next",Y.arg=i),!!se}for(var ee=this.tryEntries.length-1;0<=ee;--ee){var te=this.tryEntries[ee],oe=te.completion;if(te.tryLoc==="root")return Z("end");if(te.tryLoc<=this.prev){var U=g.call(te,"catchLoc"),q=g.call(te,"finallyLoc");if(U&&q){if(this.prev<te.catchLoc)return Z(te.catchLoc,!0);if(this.prev<te.finallyLoc)return Z(te.finallyLoc)}else if(U){if(this.prev<te.catchLoc)return Z(te.catchLoc,!0)}else{if(!q)throw new Error("try statement without catch or finally");if(this.prev<te.finallyLoc)return Z(te.finallyLoc)}}}},abrupt:function(z,Y){for(var Z=this.tryEntries.length-1;0<=Z;--Z){var ee=this.tryEntries[Z];if(ee.tryLoc<=this.prev&&g.call(ee,"finallyLoc")&&this.prev<ee.finallyLoc){var te=ee;break}}var oe=(te=te&&(z==="break"||z==="continue")&&te.tryLoc<=Y&&Y<=te.finallyLoc?null:te)?te.completion:{};return oe.type=z,oe.arg=Y,te?(this.method="next",this.next=te.finallyLoc,p):this.complete(oe)},complete:function(z,Y){if(z.type==="throw")throw z.arg;return z.type==="break"||z.type==="continue"?this.next=z.arg:z.type==="return"?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):z.type==="normal"&&Y&&(this.next=Y),p},finish:function(z){for(var Y=this.tryEntries.length-1;0<=Y;--Y){var Z=this.tryEntries[Y];if(Z.finallyLoc===z)return this.complete(Z.completion,Z.afterLoc),N(Z),p}},catch:function(z){for(var Y=this.tryEntries.length-1;0<=Y;--Y){var Z,ee,te=this.tryEntries[Y];if(te.tryLoc===z)return(Z=te.completion).type==="throw"&&(ee=Z.arg,N(te)),ee}throw new Error("illegal catch attempt")},delegateYield:function(z,Y,Z){return this.delegate={iterator:M(z),resultName:Y,nextLoc:Z},this.method==="next"&&(this.arg=i),p}},f}(typeof O=="object"?O.exports:{});try{regeneratorRuntime=O}catch{Function("r","regeneratorRuntime = r")(O)}},{}],251:[function(t,O,_){(function(f){var i,l,g,y,n,o,s,r,a,d;function h(N){if(typeof N!="string"&&(N=String(N)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(N))throw new TypeError("Invalid character in header field name");return N.toLowerCase()}function c(N){return typeof N!="string"?String(N):N}function p(N){var F={next:function(){var M=N.shift();return{done:M===void 0,value:M}}};return l&&(F[Symbol.iterator]=function(){return F}),F}function m(N){this.map={},N instanceof m?N.forEach(function(F,M){this.append(M,F)},this):Array.isArray(N)?N.forEach(function(F){this.append(F[0],F[1])},this):N&&Object.getOwnPropertyNames(N).forEach(function(F){this.append(F,N[F])},this)}function b(N){if(N.bodyUsed)return Promise.reject(new TypeError("Already read"));N.bodyUsed=!0}function A(N){return new Promise(function(F,M){N.onload=function(){F(N.result)},N.onerror=function(){M(N.error)}})}function T(N){var F=new FileReader,M=A(F);return F.readAsArrayBuffer(N),M}function x(N){var F;return N.slice?N.slice(0):((F=new Uint8Array(N.byteLength)).set(new Uint8Array(N)),F.buffer)}function R(){return this.bodyUsed=!1,this._initBody=function(N){if(this._bodyInit=N)if(typeof N=="string")this._bodyText=N;else if(g&&Blob.prototype.isPrototypeOf(N))this._bodyBlob=N;else if(y&&FormData.prototype.isPrototypeOf(N))this._bodyFormData=N;else if(i&&URLSearchParams.prototype.isPrototypeOf(N))this._bodyText=N.toString();else if(n&&g&&s(N))this._bodyArrayBuffer=x(N.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!n||!ArrayBuffer.prototype.isPrototypeOf(N)&&!r(N))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=x(N)}else this._bodyText="";this.headers.get("content-type")||(typeof N=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(N)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g&&(this.blob=function(){var N=b(this);if(N)return N;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?b(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(T)}),this.text=function(){var N,F,M=b(this);if(M)return M;if(this._bodyBlob)return M=this._bodyBlob,F=A(N=new FileReader),N.readAsText(M),F;if(this._bodyArrayBuffer)return Promise.resolve(function(L){for(var z=new Uint8Array(L),Y=new Array(z.length),Z=0;Z<z.length;Z++)Y[Z]=String.fromCharCode(z[Z]);return Y.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},y&&(this.formData=function(){return this.text().then(C)}),this.json=function(){return this.text().then(JSON.parse)},this}function S(N,F){var M,L=(F=F||{}).body;if(N instanceof S){if(N.bodyUsed)throw new TypeError("Already read");this.url=N.url,this.credentials=N.credentials,F.headers||(this.headers=new m(N.headers)),this.method=N.method,this.mode=N.mode,L||N._bodyInit==null||(L=N._bodyInit,N.bodyUsed=!0)}else this.url=String(N);if(this.credentials=F.credentials||this.credentials||"omit",!F.headers&&this.headers||(this.headers=new m(F.headers)),this.method=(M=(N=F.method||this.method||"GET").toUpperCase(),-1<a.indexOf(M)?M:N),this.mode=F.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&L)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(L)}function C(N){var F=new FormData;return N.trim().split("&").forEach(function(M){var L;M&&(L=(M=M.split("=")).shift().replace(/\+/g," "),M=M.join("=").replace(/\+/g," "),F.append(decodeURIComponent(L),decodeURIComponent(M)))}),F}function D(N,F){F=F||{},this.type="default",this.status=F.status===void 0?200:F.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in F?F.statusText:"OK",this.headers=new m(F.headers),this.url=F.url||"",this._initBody(N)}f.fetch||(i="URLSearchParams"in f,l="Symbol"in f&&"iterator"in Symbol,g="FileReader"in f&&"Blob"in f&&function(){try{return new Blob,!0}catch{return!1}}(),y="FormData"in f,(n="ArrayBuffer"in f)&&(o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(N){return N&&DataView.prototype.isPrototypeOf(N)},r=ArrayBuffer.isView||function(N){return N&&-1<o.indexOf(Object.prototype.toString.call(N))}),m.prototype.append=function(N,F){N=h(N),F=c(F);var M=this.map[N];this.map[N]=M?M+","+F:F},m.prototype.delete=function(N){delete this.map[h(N)]},m.prototype.get=function(N){return N=h(N),this.has(N)?this.map[N]:null},m.prototype.has=function(N){return this.map.hasOwnProperty(h(N))},m.prototype.set=function(N,F){this.map[h(N)]=c(F)},m.prototype.forEach=function(N,F){for(var M in this.map)this.map.hasOwnProperty(M)&&N.call(F,this.map[M],M,this)},m.prototype.keys=function(){var N=[];return this.forEach(function(F,M){N.push(M)}),p(N)},m.prototype.values=function(){var N=[];return this.forEach(function(F){N.push(F)}),p(N)},m.prototype.entries=function(){var N=[];return this.forEach(function(F,M){N.push([M,F])}),p(N)},l&&(m.prototype[Symbol.iterator]=m.prototype.entries),a=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],S.prototype.clone=function(){return new S(this,{body:this._bodyInit})},R.call(S.prototype),R.call(D.prototype),D.prototype.clone=function(){return new D(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},D.error=function(){var N=new D(null,{status:0,statusText:""});return N.type="error",N},d=[301,302,303,307,308],D.redirect=function(N,F){if(d.indexOf(F)===-1)throw new RangeError("Invalid status code");return new D(null,{status:F,headers:{location:N}})},f.Headers=m,f.Request=S,f.Response=D,f.fetch=function(N,F){return new Promise(function(M,L){var z=new S(N,F),Y=new XMLHttpRequest;Y.onload=function(){var Z,ee={status:Y.status,statusText:Y.statusText,headers:(ee=Y.getAllResponseHeaders()||"",Z=new m,ee.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(oe){var U=(oe=oe.split(":")).shift().trim();U&&(oe=oe.join(":").trim(),Z.append(U,oe))}),Z)},te=(ee.url="responseURL"in Y?Y.responseURL:ee.headers.get("X-Request-URL"),"response"in Y?Y.response:Y.responseText);M(new D(te,ee))},Y.onerror=function(){L(new TypeError("Network request failed"))},Y.ontimeout=function(){L(new TypeError("Network request failed"))},Y.open(z.method,z.url,!0),z.credentials==="include"?Y.withCredentials=!0:z.credentials==="omit"&&(Y.withCredentials=!1),"responseType"in Y&&g&&(Y.responseType="blob"),z.headers.forEach(function(Z,ee){Y.setRequestHeader(ee,Z)}),Y.send(z._bodyInit===void 0?null:z._bodyInit)})},f.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],252:[function(t,O,_){t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f,i=g(t("../core/main")),l=g(t("../color/color_conversion"));function g(o){return o&&o.__esModule?o:{default:o}}var y=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],n=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];i.default.prototype._rgbColorName=function(o){o=l.default._rgbaToHSBA(o);var s,r,a=[(f=o)[0],o[1],o[2]];a[0]!==0&&(a[0]=Math.round(100*a[0]),(o=a[0].toString().split(""))[r=o.length-1]=parseInt(o[r]),o[r]<2.5?o[r]=0:2.5<=o[r]&&o[r]<7.5&&(o[r]=5),o.length===2?(o[0]=parseInt(o[0]),7.5<=o[r]&&(o[r]=0,o[0]=o[0]+1),a[0]=10*o[0]+o[1]):7.5<=o[r]?a[0]=10:a[0]=o[r]),a[2]=a[2]/255;for(var d=a.length-1;1<=d;d--)a[d]<=.25?a[d]=0:.25<a[d]&&a[d]<.75?a[d]=.5:a[d]=1;if(a[0]===0&&a[1]===0&&a[2]===1){for(var h=2;0<=h;h--)f[h]=Math.round(1e4*f[h])/1e4;for(var c=0;c<y.length;c++){if(y[c].h===f[0]&&y[c].s===f[1]&&y[c].b===f[2]){s=y[c].name;break}s="white"}}else for(var p=0;p<n.length;p++)if(n[p].h===a[0]&&n[p].s===a[1]&&n[p].b===a[2]){s=n[p].name;break}return s},t=i.default,_.default=t},{"../color/color_conversion":258,"../core/main":273,"core-js/modules/es.function.name":167,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.split":196}],253:[function(t,O,_){t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t},i="_Description",l="_fallbackDesc",g="_fallbackTable",y="_Label",n="_labelDesc",o="_labelTable";function s(r){if(r==="label"||r==="fallback")throw new Error("description should not be LABEL or FALLBACK");return r.endsWith(".")||r.endsWith(";")||r.endsWith(",")||r.endsWith("?")||r.endsWith("!")||(r+="."),r}f.default.prototype.describe=function(r,a){var d;f.default._validateParameters("describe",arguments),typeof r=="string"&&(d=this.canvas.id,r=s(r),this.dummyDOM||(this.dummyDOM=document.getElementById(d).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==r&&(this.descriptions.fallback.innerHTML=r):this._describeHTML("fallback",r),a===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==r&&(this.descriptions.label.innerHTML=r):this._describeHTML("label",r)))},f.default.prototype.describeElement=function(r,a,d){var h,c;f.default._validateParameters("describeElement",arguments),typeof a=="string"&&typeof r=="string"&&(h=this.canvas.id,a=s(a),c=function(p){if(p==="label"||p==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return p.endsWith(".")||p.endsWith(";")||p.endsWith(",")?p=p.replace(/.$/,":"):p.endsWith(":")||(p+=":"),p}(r),r=r.replace(/[^a-zA-Z0-9]/g,""),c='<th scope="row">'.concat(c,"</th><td>").concat(a,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(h).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[r]?this.descriptions.fallbackElements[r].innerHTML!==c&&(this.descriptions.fallbackElements[r].innerHTML=c):this._describeElementHTML("fallback",r,c),d===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[r]?this.descriptions.labelElements[r].innerHTML!==c&&(this.descriptions.labelElements[r].innerHTML=c):this._describeElementHTML("label",r,c)))},f.default.prototype._describeHTML=function(r,a){var d,h=this.canvas.id;r==="fallback"?(this.dummyDOM.querySelector("#".concat(h+i))?this.dummyDOM.querySelector("#"+h+g).insertAdjacentHTML("beforebegin",'<p id="'.concat(h+l,'"></p>')):(d='<div id="'.concat(h).concat(i,'" role="region" aria-label="Canvas Description"><p id="').concat(h).concat(l,'"></p></div>'),this.dummyDOM.querySelector("#".concat(h,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(h,"accessibleOutput")).insertAdjacentHTML("beforebegin",d):this.dummyDOM.querySelector("#".concat(h)).innerHTML=d),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(h).concat(l)),this.descriptions.fallback.innerHTML=a):r==="label"&&(this.dummyDOM.querySelector("#".concat(h+y))?this.dummyDOM.querySelector("#".concat(h+o))&&this.dummyDOM.querySelector("#".concat(h+o)).insertAdjacentHTML("beforebegin",'<p id="'.concat(h).concat(n,'"></p>')):(d='<div id="'.concat(h).concat(y,'" class="p5Label"><p id="').concat(h).concat(n,'"></p></div>'),this.dummyDOM.querySelector("#".concat(h,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(h,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",d):this.dummyDOM.querySelector("#"+h).insertAdjacentHTML("afterend",d)),this.descriptions.label=this.dummyDOM.querySelector("#"+h+n),this.descriptions.label.innerHTML=a)},f.default.prototype._describeElementHTML=function(r,a,d){var h,c=this.canvas.id;r==="fallback"?(this.dummyDOM.querySelector("#".concat(c+i))?this.dummyDOM.querySelector("#"+c+g)||this.dummyDOM.querySelector("#"+c+l).insertAdjacentHTML("afterend",'<table id="'.concat(c).concat(g,'"><caption>Canvas elements and their descriptions</caption></table>')):(h='<div id="'.concat(c).concat(i,'" role="region" aria-label="Canvas Description"><table id="').concat(c).concat(g,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(c,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(c,"accessibleOutput")).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#"+c).innerHTML=h),(h=document.createElement("tr")).id=c+"_fte_"+a,this.dummyDOM.querySelector("#"+c+g).appendChild(h),this.descriptions.fallbackElements[a]=this.dummyDOM.querySelector("#".concat(c).concat("_fte_").concat(a)),this.descriptions.fallbackElements[a].innerHTML=d):r==="label"&&(this.dummyDOM.querySelector("#".concat(c+y))?this.dummyDOM.querySelector("#".concat(c+o))||this.dummyDOM.querySelector("#"+c+n).insertAdjacentHTML("afterend",'<table id="'.concat(c+o,'"></table>')):(h='<div id="'.concat(c).concat(y,'" class="p5Label"><table id="').concat(c).concat(o,'"></table></div>'),this.dummyDOM.querySelector("#".concat(c,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(c,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#"+c).insertAdjacentHTML("afterend",h)),(r=document.createElement("tr")).id=c+"_lte_"+a,this.dummyDOM.querySelector("#"+c+o).appendChild(r),this.descriptions.labelElements[a]=this.dummyDOM.querySelector("#".concat(c).concat("_lte_").concat(a)),this.descriptions.labelElements[a].innerHTML=d)},t=f.default,_.default=t},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.ends-with":188,"core-js/modules/es.string.replace":194}],254:[function(t,O,_){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,(t=(t=t("../core/main"))&&t.__esModule?t:{default:t}).default.prototype._updateGridOutput=function(f){var i,l,g,y;this.dummyDOM.querySelector("#".concat(f,"_summary"))&&(i=this._accessibleOutputs[f],g=function(n,o,s,r){return o="".concat(o," canvas, ").concat(s," by ").concat(r," pixels, contains ").concat(n[0]),o=(n[0]===1?"".concat(o," shape: "):"".concat(o," shapes: ")).concat(n[1])}((l=function(n,o){var s,r="",a="",d=0;for(s in o){var h,c=0;for(h in o[s]){var p='<li id="'.concat(n,"shape").concat(d,'">').concat(o[s][h].color," ").concat(s,",");s==="line"?p+=" location = ".concat(o[s][h].pos,", length = ").concat(o[s][h].length," pixels"):(p+=" location = ".concat(o[s][h].pos),s!=="point"&&(p+=", area = ".concat(o[s][h].area," %")),p+="</li>"),r+=p,c++,d++}a=1<c?"".concat(a," ").concat(c," ").concat(s,"s"):"".concat(a," ").concat(c," ").concat(s)}return{numShapes:[d,a],details:r}}(f,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),y=function(n,o){var s,r,a=0,d="",h=Array.from(Array(10),function(){return Array(10)});for(s in o)for(var c in o[s]){var p;p=s!=="line"?'<a href="#'.concat(n,"shape").concat(a,'">').concat(o[s][c].color," ").concat(s,"</a>"):'<a href="#'.concat(n,"shape").concat(a,'">').concat(o[s][c].color," ").concat(s," midpoint</a>"),h[o[s][c].loc.locY][o[s][c].loc.locX]?h[o[s][c].loc.locY][o[s][c].loc.locX]=h[o[s][c].loc.locY][o[s][c].loc.locX]+"  "+p:h[o[s][c].loc.locY][o[s][c].loc.locX]=p,a++}for(r in h){var m,b="<tr>";for(m in h[r])b+="<td>",h[r][m]!==void 0&&(b+=h[r][m]),b+="</td>";d=d+b+"</tr>"}return d}(f,this.ingredients.shapes),g!==i.summary.innerHTML&&(i.summary.innerHTML=g),y!==i.map.innerHTML&&(i.map.innerHTML=y),l.details!==i.shapeDetails.innerHTML&&(i.shapeDetails.innerHTML=l.details),this._accessibleOutputs[f]=i)},t=t.default,_.default=t},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.from":157,"core-js/modules/es.array.map":163,"core-js/modules/es.string.iterator":190}],255:[function(t,O,_){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function i(l,g,y){return(g=Math.floor(l[0]/g*10))===10&&(g-=1),(l=Math.floor(l[1]/y*10))===10&&(l-=1),{locX:g,locY:l}}f.default.prototype.textOutput=function(l){f.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),l===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},f.default.prototype.gridOutput=function(l){f.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),l===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},f.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},f.default.prototype._createOutput=function(l,g){var y,n,o,s=this.canvas.id,r=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(s).parentNode),"");g==="Fallback"?(y=s+l,this.dummyDOM.querySelector("#".concat(n=s+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(s,"_Description"))?this.dummyDOM.querySelector("#".concat(s,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(n,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(s)).innerHTML='<div id="'.concat(n,'" role="region" aria-label="Canvas Outputs"></div>'))):g==="Label"&&(y=s+l+(r=g),this.dummyDOM.querySelector("#".concat(n=s+"accessibleOutput"+g))||(this.dummyDOM.querySelector("#".concat(s,"_Label"))?this.dummyDOM.querySelector("#".concat(s,"_Label")):this.dummyDOM.querySelector("#".concat(s))).insertAdjacentHTML("afterend",'<div id="'.concat(n,'"></div>'))),this._accessibleOutputs[y]={},l==="textOutput"?(r="#".concat(s,"gridOutput").concat(r),o='<div id="'.concat(y,'">Text Output<div id="').concat(y,'Summary" aria-label="text output summary"><p id="').concat(y,'_summary"></p><ul id="').concat(y,'_list"></ul></div><table id="').concat(y,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(r)?this.dummyDOM.querySelector(r).insertAdjacentHTML("beforebegin",o):this.dummyDOM.querySelector("#".concat(n)).innerHTML=o,this._accessibleOutputs[y].list=this.dummyDOM.querySelector("#".concat(y,"_list"))):l==="gridOutput"&&(r="#".concat(s,"textOutput").concat(r),o='<div id="'.concat(y,'">Grid Output<p id="').concat(y,'_summary" aria-label="grid output summary"><table id="').concat(y,'_map" summary="grid output content"></table><ul id="').concat(y,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(r)?this.dummyDOM.querySelector(r).insertAdjacentHTML("afterend",o):this.dummyDOM.querySelector("#".concat(n)).innerHTML=o,this._accessibleOutputs[y].map=this.dummyDOM.querySelector("#".concat(y,"_map"))),this._accessibleOutputs[y].shapeDetails=this.dummyDOM.querySelector("#".concat(y,"_shapeDetails")),this._accessibleOutputs[y].summary=this.dummyDOM.querySelector("#".concat(y,"_summary"))},f.default.prototype._updateAccsOutput=function(){var l=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(l+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(l+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(l+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(l+"gridOutputLabel"))},f.default.prototype._accsBackground=function(l){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==l&&(this.ingredients.colors.backgroundRGBA=l,this.ingredients.colors.background=this._rgbColorName(l))},f.default.prototype._accsCanvasColors=function(l,g){l==="fill"?this.ingredients.colors.fillRGBA!==g&&(this.ingredients.colors.fillRGBA=g,this.ingredients.colors.fill=this._rgbColorName(g)):l==="stroke"&&this.ingredients.colors.strokeRGBA!==g&&(this.ingredients.colors.strokeRGBA=g,this.ingredients.colors.stroke=this._rgbColorName(g))},f.default.prototype._accsOutput=function(l,g){l==="ellipse"&&g[2]===g[3]?l="circle":l==="rectangle"&&g[2]===g[3]&&(l="square");var y,n,o={},s=!0,r=function(d,h){var c;return d=d==="rectangle"||d==="ellipse"||d==="arc"||d==="circle"||d==="square"?(c=Math.round(h[0]+h[2]/2),Math.round(h[1]+h[3]/2)):d==="triangle"?(c=(h[0]+h[2]+h[4])/3,(h[1]+h[3]+h[5])/3):d==="quadrilateral"?(c=(h[0]+h[2]+h[4]+h[6])/4,(h[1]+h[3]+h[5]+h[7])/4):d==="line"?(c=(h[0]+h[2])/2,(h[1]+h[3])/2):(c=h[0],h[1]),[c,d]}(l,g);if(l==="line"?(o.color=this.ingredients.colors.stroke,o.length=Math.round(this.dist(g[0],g[1],g[2],g[3])),y=this._getPos(g[0],[1]),n=this._getPos(g[2],[3]),o.loc=i(r,this.width,this.height),o.pos=y===n?"at ".concat(y):"from ".concat(y," to ").concat(n)):(l==="point"?o.color=this.ingredients.colors.stroke:(o.color=this.ingredients.colors.fill,o.area=this._getArea(l,g)),o.pos=this._getPos.apply(this,function(d){return function(h){if(Array.isArray(h)){for(var c=0,p=new Array(h.length);c<h.length;c++)p[c]=h[c];return p}}(d)||function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(r)),o.loc=i(r,this.width,this.height)),this.ingredients.shapes[l]){if(this.ingredients.shapes[l]!==[o]){for(var a in this.ingredients.shapes[l])JSON.stringify(this.ingredients.shapes[l][a])===JSON.stringify(o)&&(s=!1);s===!0&&this.ingredients.shapes[l].push(o)}}else this.ingredients.shapes[l]=[o]},f.default.prototype._getPos=function(l,g){l=new DOMPointReadOnly(l,g),g=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),g=(l=l.matrixTransform(g)).x,l=l.y;var y=this.width,n=this.height;return g<.4*y?l<.4*n?"top left":.6*n<l?"bottom left":"mid left":.6*y<g?l<.4*n?"top right":.6*n<l?"bottom right":"mid right":l<.4*n?"top middle":.6*n<l?"bottom middle":"middle"},f.default.prototype._getArea=function(l,g){var y,n,o=0,s=(l==="arc"?(o=(y=((g[5]-g[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*g[2]*g[3]/8,g[6]!=="open"&&g[6]!=="chord"||(n=g[0],h=g[1],s=g[0]+g[2]/2*Math.cos(g[4]).toFixed(2),c=g[1]+g[3]/2*Math.sin(g[4]).toFixed(2),a=g[0]+g[2]/2*Math.cos(g[5]).toFixed(2),r=g[1]+g[3]/2*Math.sin(g[5]).toFixed(2),n=Math.abs(n*(c-r)+s*(r-h)+a*(h-c))/2,y>Math.PI?o+=n:o-=n)):l==="ellipse"||l==="circle"?o=3.14*g[2]/2*g[3]/2:l==="line"||l==="point"?o=0:l==="quadrilateral"?o=Math.abs((g[6]+g[0])*(g[7]-g[1])+(g[0]+g[2])*(g[1]-g[3])+(g[2]+g[4])*(g[3]-g[5])+(g[4]+g[6])*(g[5]-g[7]))/2:l==="rectangle"||l==="square"?o=g[2]*g[3]:l==="triangle"&&(o=Math.abs(g[0]*(g[3]-g[5])+g[2]*(g[5]-g[1])+g[4]*(g[1]-g[3]))/2),this.width*this._pixelDensity),r=this.height*this._pixelDensity,a=[new DOMPoint(0,0),new DOMPoint(s,0),new DOMPoint(s,r),new DOMPoint(0,r)],d=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),h=a.map(function(p){return p.matrixTransform(d)}),c=Math.abs((h[3].x+h[0].x)*(h[3].y-h[0].y)+(h[0].x+h[1].x)*(h[0].y-h[1].y)+(h[1].x+h[2].x)*(h[1].y-h[2].y)+(h[2].x+h[3].x)*(h[2].y-h[3].y))/2;return Math.round(100*o/c)},t=f.default,_.default=t},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],256:[function(t,O,_){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,(t=(t=t("../core/main"))&&t.__esModule?t:{default:t}).default.prototype._updateTextOutput=function(f){var i,l,g,y;this.dummyDOM.querySelector("#".concat(f,"_summary"))&&(i=this._accessibleOutputs[f],g=function(n,o,s,r){return s="Your output is a, ".concat(s," by ").concat(r," pixels, ").concat(o," canvas containing the following"),s=n===1?"".concat(s," shape:"):"".concat(s," ").concat(n," shapes:")}((l=function(n,o){var s,r="",a=0;for(s in o)for(var d in o[s]){var h='<li><a href="#'.concat(n,"shape").concat(a,'">').concat(o[s][d].color," ").concat(s,"</a>");s==="line"?h+=", ".concat(o[s][d].pos,", ").concat(o[s][d].length," pixels long.</li>"):(h+=", at ".concat(o[s][d].pos),s!=="point"&&(h+=", covering ".concat(o[s][d].area,"% of the canvas")),h+=".</li>"),r+=h,a++}return{numShapes:a,listShapes:r}}(f,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),y=function(n,o){var s,r="",a=0;for(s in o)for(var d in o[s]){var h='<tr id="'.concat(n,"shape").concat(a,'"><th>').concat(o[s][d].color," ").concat(s,"</th>");s==="line"?h+="<td>location = ".concat(o[s][d].pos,"</td><td>length = ").concat(o[s][d].length," pixels</td></tr>"):(h+="<td>location = ".concat(o[s][d].pos,"</td>"),s!=="point"&&(h+="<td> area = ".concat(o[s][d].area,"%</td>")),h+="</tr>"),r+=h,a++}return r}(f,this.ingredients.shapes),g!==i.summary.innerHTML&&(i.summary.innerHTML=g),l.listShapes!==i.list.innerHTML&&(i.list.innerHTML=l.listShapes),y!==i.shapeDetails.innerHTML&&(i.shapeDetails.innerHTML=y),this._accessibleOutputs[f]=i)},t=t.default,_.default=t},{"../core/main":273,"core-js/modules/es.array.concat":151}],257:[function(t,O,_){var f=(f=t("./core/main"))&&f.__esModule?f:{default:f};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),O.exports=f.default},{"./accessibility/color_namer":252,"./accessibility/describe":253,"./accessibility/gridOutput":254,"./accessibility/outputs":255,"./accessibility/textOutput":256,"./color/color_conversion":258,"./color/creating_reading":259,"./color/p5.Color":260,"./color/setting":261,"./core/constants":262,"./core/environment":263,"./core/friendly_errors/fes_core":264,"./core/friendly_errors/file_errors":265,"./core/friendly_errors/sketch_reader":266,"./core/friendly_errors/stacktrace":267,"./core/friendly_errors/validate_params":268,"./core/helpers":269,"./core/init":270,"./core/legacy":272,"./core/main":273,"./core/p5.Element":274,"./core/p5.Graphics":275,"./core/p5.Renderer":276,"./core/p5.Renderer2D":277,"./core/preload":278,"./core/rendering":279,"./core/shape/2d_primitives":280,"./core/shape/attributes":281,"./core/shape/curves":282,"./core/shape/vertex":283,"./core/shim":284,"./core/structure":285,"./core/transform":286,"./data/local_storage.js":287,"./data/p5.TypedDict":288,"./dom/dom":289,"./events/acceleration":290,"./events/keyboard":291,"./events/mouse":292,"./events/touch":293,"./image/filters":294,"./image/image":295,"./image/loading_displaying":296,"./image/p5.Image":297,"./image/pixels":298,"./io/files":299,"./io/p5.Table":300,"./io/p5.TableRow":301,"./io/p5.XML":302,"./math/calculation":303,"./math/math":304,"./math/noise":305,"./math/p5.Vector":306,"./math/random":307,"./math/trigonometry":308,"./typography/attributes":309,"./typography/loading_displaying":310,"./typography/p5.Font":311,"./utilities/array_functions":312,"./utilities/conversion":313,"./utilities/string_functions":314,"./utilities/time_date":315,"./webgl/3d_primitives":316,"./webgl/interaction":317,"./webgl/light":318,"./webgl/loading":319,"./webgl/material":320,"./webgl/p5.Camera":321,"./webgl/p5.Framebuffer":322,"./webgl/p5.Geometry":323,"./webgl/p5.Matrix":324,"./webgl/p5.RenderBuffer":325,"./webgl/p5.RendererGL":328,"./webgl/p5.RendererGL.Immediate":326,"./webgl/p5.RendererGL.Retained":327,"./webgl/p5.Shader":329,"./webgl/p5.Texture":330,"./webgl/text":331}],258:[function(t,O,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,(t=(t=t("../core/main"))&&t.__esModule?t:{default:t}).default.ColorConversion={_hsbaToHSLA:function(f){var i=f[0],l=f[1],g=f[2],y=(2-l)*g/2;return y!=0&&(y==1?l=0:y<.5?l/=2-l:l=l*g/(2-2*y)),[i,l,y,f[3]]},_hsbaToRGBA:function(f){var i,l,g,y,n,o=6*f[0],s=f[1],r=f[2];return s===0?[r,r,r,f[3]]:(l=r*(1-s),g=r*(1-s*(o-(i=Math.floor(o)))),s=r*(1-s*(1+i-o)),o=i===1?(y=g,n=r,l):i===2?(y=l,n=r,s):i===3?(y=l,n=g,r):i===4?(y=s,n=l,r):i===5?(y=r,n=l,g):(y=r,n=s,l),[y,n,o,f[3]])},_hslaToHSBA:function(f){var i=f[0],l=f[1],g=f[2],y=g<.5?(1+l)*g:g+l-g*l;return[i,l=2*(y-g)/y,y,f[3]]},_hslaToRGBA:function(f){var i,l=6*f[0],g=f[1],y=f[2];return g===0?[y,y,y,f[3]]:[(i=function(n,o,s){return n<0?n+=6:6<=n&&(n-=6),n<1?o+(s-o)*n:n<3?s:n<4?o+(s-o)*(4-n):o})(2+l,g=2*y-(y=y<.5?(1+g)*y:y+g-y*g),y),i(l,g,y),i(l-2,g,y),f[3]]},_rgbaToHSBA:function(f){var i,l,g=f[0],y=f[1],n=f[2],o=Math.max(g,y,n),s=o-Math.min(g,y,n);return s==0?l=i=0:(l=s/o,g===o?i=(y-n)/s:y===o?i=2+(n-g)/s:n===o&&(i=4+(g-y)/s),i<0?i+=6:6<=i&&(i-=6)),[i/6,l,o,f[3]]},_rgbaToHSLA:function(f){var i,l,g,y=f[0],n=f[1],o=f[2],s=Math.max(y,n,o),r=s+(g=Math.min(y,n,o));return(g=s-g)==0?l=i=0:(l=r<1?g/r:g/(2-r),y===s?i=(n-o)/g:n===s?i=2+(o-y)/g:o===s&&(i=4+(y-n)/g),i<0?i+=6:6<=i&&(i-=6)),[i/6,l,r/2,f[3]]}},t=t.default.ColorConversion,_.default=t},{"../core/main":273}],259:[function(t,O,_){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(n)}function i(n){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(o){return f(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":f(o)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var l=(y=t("../core/main"))&&y.__esModule?y:{default:y},g=function(n){if(n&&n.__esModule)return n;if(n===null||i(n)!=="object"&&typeof n!="function")return{default:n};var o=function(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,h)}();if(o&&o.has(n))return o.get(n);var s,r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in n){var d;Object.prototype.hasOwnProperty.call(n,s)&&((d=a?Object.getOwnPropertyDescriptor(n,s):null)&&(d.get||d.set)?Object.defineProperty(r,s,d):r[s]=n[s])}return r.default=n,o&&o.set(n,r),r}(t("../core/constants"));t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),l.default.prototype.alpha=function(n){return l.default._validateParameters("alpha",arguments),this.color(n)._getAlpha()},l.default.prototype.blue=function(n){return l.default._validateParameters("blue",arguments),this.color(n)._getBlue()},l.default.prototype.brightness=function(n){return l.default._validateParameters("brightness",arguments),this.color(n)._getBrightness()},l.default.prototype.color=function(){var n;return l.default._validateParameters("color",arguments),arguments[0]instanceof l.default.Color?arguments[0]:(n=arguments[0]instanceof Array?arguments[0]:arguments,new l.default.Color(this,n))},l.default.prototype.green=function(n){return l.default._validateParameters("green",arguments),this.color(n)._getGreen()},l.default.prototype.hue=function(n){return l.default._validateParameters("hue",arguments),this.color(n)._getHue()},l.default.prototype.lerpColor=function(n,o,s){l.default._validateParameters("lerpColor",arguments);var r,a,d,h=this._colorMode,c=this._colorMaxes;if(h===g.RGB)a=n.levels.map(function(p){return p/255}),d=o.levels.map(function(p){return p/255});else if(h===g.HSB)n._getBrightness(),o._getBrightness(),a=n.hsba,d=o.hsba;else{if(h!==g.HSL)throw new Error("".concat(h,"cannot be used for interpolation."));n._getLightness(),o._getLightness(),a=n.hsla,d=o.hsla}return s=Math.max(Math.min(s,1),0),this.lerp===void 0&&(this.lerp=function(p,m,b){return b*(m-p)+p}),n=this.lerp(a[0],d[0],s),o=this.lerp(a[1],d[1],s),r=this.lerp(a[2],d[2],s),a=this.lerp(a[3],d[3],s),n*=c[h][0],o*=c[h][1],r*=c[h][2],a*=c[h][3],this.color(n,o,r,a)},l.default.prototype.lightness=function(n){return l.default._validateParameters("lightness",arguments),this.color(n)._getLightness()},l.default.prototype.red=function(n){return l.default._validateParameters("red",arguments),this.color(n)._getRed()},l.default.prototype.saturation=function(n){return l.default._validateParameters("saturation",arguments),this.color(n)._getSaturation()};var y=l.default;_.default=y},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"./p5.Color":260,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],260:[function(t,O,_){function f(c){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(c)}function i(c){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(p){return f(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":f(p)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.trim"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var l=n(t("../core/main")),g=function(c){if(c&&c.__esModule)return c;if(c===null||i(c)!=="object"&&typeof c!="function")return{default:c};var p=function(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,x)}();if(p&&p.has(c))return p.get(c);var m,b={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in c){var T;Object.prototype.hasOwnProperty.call(c,m)&&((T=A?Object.getOwnPropertyDescriptor(c,m):null)&&(T.get||T.set)?Object.defineProperty(b,m,T):b[m]=c[m])}return b.default=c,p&&p.set(c,b),b}(t("../core/constants")),y=n(t("./color_conversion"));function n(c){return c&&c.__esModule?c:{default:c}}function o(c,p){for(var m=0;m<p.length;m++){var b=p[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(c,b.key,b)}}var s={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},r=(t=/\s*/,/(\d{1,3})/),a=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,d=new RegExp("".concat(a.source,"%")),h={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",r.source,",",r.source,",",r.source,"\\)$"].join(t.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",d.source,",",d.source,",",d.source,"\\)$"].join(t.source),"i"),RGBA:new RegExp(["^rgba\\(",r.source,",",r.source,",",r.source,",",a.source,"\\)$"].join(t.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",d.source,",",d.source,",",d.source,",",a.source,"\\)$"].join(t.source),"i"),HSL:new RegExp(["^hsl\\(",r.source,",",d.source,",",d.source,"\\)$"].join(t.source),"i"),HSLA:new RegExp(["^hsla\\(",r.source,",",d.source,",",d.source,",",a.source,"\\)$"].join(t.source),"i"),HSB:new RegExp(["^hsb\\(",r.source,",",d.source,",",d.source,"\\)$"].join(t.source),"i"),HSBA:new RegExp(["^hsba\\(",r.source,",",d.source,",",d.source,",",a.source,"\\)$"].join(t.source),"i")};l.default.Color=function(){function c(A,T){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(A._colorMode,A._colorMaxes),![g.RGB,g.HSL,g.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=c._parseInputs.apply(this,T),this._calculateLevels()}var p,m,b;return p=c,b=[{key:"_parseInputs",value:function(A,T,x,R){var S,C=arguments.length,D=this.mode,N=this.maxes[D],F=[];if(3<=C){for(F[0]=A/N[0],F[1]=T/N[1],F[2]=x/N[2],F[3]=typeof R=="number"?R/N[3]:1,S=F.length-1;0<=S;--S){var M=F[S];M<0?F[S]=0:1<M&&(F[S]=1)}return D===g.HSL?y.default._hslaToRGBA(F):D===g.HSB?y.default._hsbaToRGBA(F):F}if(C===1&&typeof A=="string"){if(x=A.trim().toLowerCase(),s[x])return c._parseInputs.call(this,s[x]);if(h.HEX3.test(x))return(F=h.HEX3.exec(x).slice(1).map(function(L){return parseInt(L+L,16)/255}))[3]=1,F;if(h.HEX6.test(x))return(F=h.HEX6.exec(x).slice(1).map(function(L){return parseInt(L,16)/255}))[3]=1,F;if(h.HEX4.test(x))return h.HEX4.exec(x).slice(1).map(function(L){return parseInt(L+L,16)/255});if(h.HEX8.test(x))return h.HEX8.exec(x).slice(1).map(function(L){return parseInt(L,16)/255});if(h.RGB.test(x))return(F=h.RGB.exec(x).slice(1).map(function(L){return L/255}))[3]=1,F;if(h.RGB_PERCENT.test(x))return(F=h.RGB_PERCENT.exec(x).slice(1).map(function(L){return parseFloat(L)/100}))[3]=1,F;if(h.RGBA.test(x))return h.RGBA.exec(x).slice(1).map(function(L,z){return z===3?parseFloat(L):L/255});if(h.RGBA_PERCENT.test(x))return h.RGBA_PERCENT.exec(x).slice(1).map(function(L,z){return z===3?parseFloat(L):parseFloat(L)/100});if(h.HSL.test(x)?(F=h.HSL.exec(x).slice(1).map(function(L,z){return z===0?parseInt(L,10)/360:parseInt(L,10)/100}))[3]=1:h.HSLA.test(x)&&(F=h.HSLA.exec(x).slice(1).map(function(L,z){return z===0?parseInt(L,10)/360:z===3?parseFloat(L):parseInt(L,10)/100})),(F=F.map(function(L){return Math.max(Math.min(L,1),0)})).length)return y.default._hslaToRGBA(F);if(h.HSB.test(x)?(F=h.HSB.exec(x).slice(1).map(function(L,z){return z===0?parseInt(L,10)/360:parseInt(L,10)/100}))[3]=1:h.HSBA.test(x)&&(F=h.HSBA.exec(x).slice(1).map(function(L,z){return z===0?parseInt(L,10)/360:z===3?parseFloat(L):parseInt(L,10)/100})),F.length){for(S=F.length-1;0<=S;--S)F[S]=Math.max(Math.min(F[S],1),0);return y.default._hsbaToRGBA(F)}F=[1,1,1,1]}else{if(C!==1&&C!==2||typeof A!="number")throw new Error("".concat(arguments,"is not a valid color representation."));F[0]=A/N[2],F[1]=A/N[2],F[2]=A/N[2],F[3]=typeof T=="number"?T/N[3]:1,F=F.map(function(L){return Math.max(Math.min(L,1),0)})}return F}}],(m=[{key:"toString",value:function(A){var T=this.levels,x=this._array,R=x[3];switch(A){case"#rrggbb":return"#".concat(T[0]<16?"0".concat(T[0].toString(16)):T[0].toString(16),T[1]<16?"0".concat(T[1].toString(16)):T[1].toString(16),T[2]<16?"0".concat(T[2].toString(16)):T[2].toString(16));case"#rrggbbaa":return"#".concat(T[0]<16?"0".concat(T[0].toString(16)):T[0].toString(16),T[1]<16?"0".concat(T[1].toString(16)):T[1].toString(16),T[2]<16?"0".concat(T[2].toString(16)):T[2].toString(16),T[3]<16?"0".concat(T[3].toString(16)):T[3].toString(16));case"#rgb":return"#".concat(Math.round(15*x[0]).toString(16),Math.round(15*x[1]).toString(16),Math.round(15*x[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*x[0]).toString(16),Math.round(15*x[1]).toString(16),Math.round(15*x[2]).toString(16),Math.round(15*x[3]).toString(16));case"rgb":return"rgb(".concat(T[0],", ",T[1],", ",T[2],")");case"rgb%":return"rgb(".concat((100*x[0]).toPrecision(3),"%, ",(100*x[1]).toPrecision(3),"%, ",(100*x[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*x[0]).toPrecision(3),"%, ",(100*x[1]).toPrecision(3),"%, ",(100*x[2]).toPrecision(3),"%, ",(100*x[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[g.HSB][0],", ",this.hsba[1]*this.maxes[g.HSB][1],", ",this.hsba[2]*this.maxes[g.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[g.HSB][0],", ",this.hsba[1]*this.maxes[g.HSB][1],", ",this.hsba[2]*this.maxes[g.HSB][2],", ",R,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*R).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[g.HSL][0],", ",this.hsla[1]*this.maxes[g.HSL][1],", ",this.hsla[2]*this.maxes[g.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[g.HSL][0],", ",this.hsla[1]*this.maxes[g.HSL][1],", ",this.hsla[2]*this.maxes[g.HSL][2],", ",R,")");case"hsla%":return this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*R).toPrecision(3),"%)");default:return"rgba(".concat(T[0],",",T[1],",",T[2],",",R,")")}}},{key:"setRed",value:function(A){this._array[0]=A/this.maxes[g.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(A){this._array[1]=A/this.maxes[g.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(A){this._array[2]=A/this.maxes[g.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(A){this._array[3]=A/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var A=this._array,T=this.levels=new Array(A.length),x=A.length-1;0<=x;--x)T[x]=Math.round(255*A[x]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(A,T){this.mode=A,this.maxes=T}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[g.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[g.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[g.RGB][1]}},{key:"_getHue",value:function(){return this.mode===g.HSB?(this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[g.HSB][0]):(this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[g.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[g.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[g.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===g.HSB?(this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[g.HSB][1]):(this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[g.HSL][1])}}])&&o(p.prototype,m),b&&o(p,b),c}(),r=l.default.Color,_.default=r},{"../core/constants":262,"../core/main":273,"./color_conversion":258,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],261:[function(t,O,_){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(n)}function i(n){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(o){return f(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":f(o)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var l=(y=t("../core/main"))&&y.__esModule?y:{default:y},g=function(n){if(n&&n.__esModule)return n;if(n===null||i(n)!=="object"&&typeof n!="function")return{default:n};var o=function(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,h)}();if(o&&o.has(n))return o.get(n);var s,r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in n){var d;Object.prototype.hasOwnProperty.call(n,s)&&((d=a?Object.getOwnPropertyDescriptor(n,s):null)&&(d.get||d.set)?Object.defineProperty(r,s,d):r[s]=n[s])}return r.default=n,o&&o.set(n,r),r}(t("../core/constants"));t("./p5.Color"),l.default.prototype.background=function(){var n;return(n=this._renderer).background.apply(n,arguments),this},l.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},l.default.prototype.colorMode=function(n,o,s,r,a){return l.default._validateParameters("colorMode",arguments),n!==g.RGB&&n!==g.HSB&&n!==g.HSL||(this._colorMode=n,n=this._colorMaxes[n],arguments.length===2?(n[0]=o,n[1]=o,n[2]=o,n[3]=o):arguments.length===4?(n[0]=o,n[1]=s,n[2]=r):arguments.length===5&&(n[0]=o,n[1]=s,n[2]=r,n[3]=a)),this},l.default.prototype.fill=function(){var n;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(n=this._renderer).fill.apply(n,arguments),this},l.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},l.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},l.default.prototype.stroke=function(){var n;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(n=this._renderer).stroke.apply(n,arguments),this},l.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},l.default.prototype.noErase=function(){return this._renderer.noErase(),this};var y=l.default;_.default=y},{"../core/constants":262,"../core/main":273,"./p5.Color":260,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],262:[function(t,O,_){Object.defineProperty(_,"__esModule",{value:!0}),_.QUADRATIC=_.LINEAR=_._CTX_MIDDLE=_._DEFAULT_LEADMULT=_._DEFAULT_TEXT_FILL=_.WORD=_.CHAR=_.BOLDITALIC=_.BOLD=_.ITALIC=_.NORMAL=_.BLUR=_.ERODE=_.DILATE=_.POSTERIZE=_.INVERT=_.OPAQUE=_.GRAY=_.THRESHOLD=_.BURN=_.DODGE=_.SOFT_LIGHT=_.HARD_LIGHT=_.OVERLAY=_.REPLACE=_.SCREEN=_.MULTIPLY=_.EXCLUSION=_.SUBTRACT=_.DIFFERENCE=_.LIGHTEST=_.DARKEST=_.ADD=_.REMOVE=_.BLEND=_.UP_ARROW=_.TAB=_.SHIFT=_.RIGHT_ARROW=_.RETURN=_.OPTION=_.LEFT_ARROW=_.ESCAPE=_.ENTER=_.DOWN_ARROW=_.DELETE=_.CONTROL=_.BACKSPACE=_.ALT=_.AUTO=_.HSL=_.HSB=_.RGB=_.MITER=_.BEVEL=_.ROUND=_.SQUARE=_.PROJECT=_.PIE=_.CHORD=_.OPEN=_.CLOSE=_.TESS=_.QUAD_STRIP=_.QUADS=_.TRIANGLE_STRIP=_.TRIANGLE_FAN=_.TRIANGLES=_.LINE_LOOP=_.LINE_STRIP=_.LINES=_.POINTS=_.BASELINE=_.BOTTOM=_.TOP=_.CENTER=_.LEFT=_.RIGHT=_.RADIUS=_.CORNERS=_.CORNER=_.RAD_TO_DEG=_.DEG_TO_RAD=_.RADIANS=_.DEGREES=_.TWO_PI=_.TAU=_.QUARTER_PI=_.PI=_.HALF_PI=_.WAIT=_.TEXT=_.MOVE=_.HAND=_.CROSS=_.ARROW=_.WEBGL2=_.WEBGL=_.P2D=_.VERSION=void 0,_.RGBA=_.HALF_FLOAT=_.FLOAT=_.UNSIGNED_INT=_.UNSIGNED_BYTE=_.COVER=_.CONTAIN=_.FALLBACK=_.LABEL=_.AXES=_.GRID=_._DEFAULT_FILL=_._DEFAULT_STROKE=_.PORTRAIT=_.LANDSCAPE=_.MIRROR=_.CLAMP=_.REPEAT=_.NEAREST=_.IMAGE=_.IMMEDIATE=_.TEXTURE=_.FILL=_.STROKE=_.CURVE=_.BEZIER=void 0;var f=Math.PI,i=(_.VERSION="1.7.0",_.P2D="p2d",_.WEBGL="webgl",_.WEBGL2="webgl2",_.ARROW="default",_.CROSS="crosshair",_.HAND="pointer",_.MOVE="move",_.TEXT="text",_.WAIT="wait",f/2);_.HALF_PI=i,i=f,_.PI=i,i=f/4,_.QUARTER_PI=i,i=2*f,_.TAU=i,i=2*f,_.TWO_PI=i,_.DEGREES="degrees",_.RADIANS="radians",i=f/180,_.DEG_TO_RAD=i,i=180/f,_.RAD_TO_DEG=i,_.CORNER="corner",_.CORNERS="corners",_.RADIUS="radius",_.RIGHT="right",_.LEFT="left",_.CENTER="center",_.TOP="top",_.BOTTOM="bottom",_.BASELINE="alphabetic",_.POINTS=0,_.LINES=1,_.LINE_STRIP=3,_.LINE_LOOP=2,_.TRIANGLES=4,_.TRIANGLE_FAN=6,_.TRIANGLE_STRIP=5,_.QUADS="quads",_.QUAD_STRIP="quad_strip",_.TESS="tess",_.CLOSE="close",_.OPEN="open",_.CHORD="chord",_.PIE="pie",_.PROJECT="square",_.SQUARE="butt",_.ROUND="round",_.BEVEL="bevel",_.MITER="miter",_.RGB="rgb",_.HSB="hsb",_.HSL="hsl",_.AUTO="auto",_.ALT=18,_.BACKSPACE=8,_.CONTROL=17,_.DELETE=46,_.DOWN_ARROW=40,_.ENTER=13,_.ESCAPE=27,_.LEFT_ARROW=37,_.OPTION=18,_.RETURN=13,_.RIGHT_ARROW=39,_.SHIFT=16,_.TAB=9,_.UP_ARROW=38,_.BLEND="source-over",_.REMOVE="destination-out",_.ADD="lighter",_.DARKEST="darken",_.LIGHTEST="lighten",_.DIFFERENCE="difference",_.SUBTRACT="subtract",_.EXCLUSION="exclusion",_.MULTIPLY="multiply",_.SCREEN="screen",_.REPLACE="copy",_.OVERLAY="overlay",_.HARD_LIGHT="hard-light",_.SOFT_LIGHT="soft-light",_.DODGE="color-dodge",_.BURN="color-burn",_.THRESHOLD="threshold",_.GRAY="gray",_.OPAQUE="opaque",_.INVERT="invert",_.POSTERIZE="posterize",_.DILATE="dilate",_.ERODE="erode",_.BLUR="blur",_.NORMAL="normal",_.ITALIC="italic",_.BOLD="bold",_.BOLDITALIC="bold italic",_.CHAR="CHAR",_.WORD="WORD",_._DEFAULT_TEXT_FILL="#000000",_._DEFAULT_LEADMULT=1.25,_._CTX_MIDDLE="middle",_.LINEAR="linear",_.QUADRATIC="quadratic",_.BEZIER="bezier",_.CURVE="curve",_.STROKE="stroke",_.FILL="fill",_.TEXTURE="texture",_.IMMEDIATE="immediate",_.IMAGE="image",_.NEAREST="nearest",_.REPEAT="repeat",_.CLAMP="clamp",_.MIRROR="mirror",_.LANDSCAPE="landscape",_.PORTRAIT="portrait",_._DEFAULT_STROKE="#000000",_._DEFAULT_FILL="#FFFFFF",_.GRID="grid",_.AXES="axes",_.LABEL="label",_.FALLBACK="fallback",_.CONTAIN="contain",_.COVER="cover",_.UNSIGNED_BYTE="unsigned-byte",_.UNSIGNED_INT="unsigned-int",_.FLOAT="float",_.HALF_FLOAT="half-float",_.RGBA="rgba"},{}],263:[function(t,O,_){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(r)}function i(r){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(a){return f(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":f(a)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var l=(g=t("./main"))&&g.__esModule?g:{default:g},g=function(r){if(r&&r.__esModule)return r;if(r===null||i(r)!=="object"&&typeof r!="function")return{default:r};var a=function(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,m)}();if(a&&a.has(r))return a.get(r);var d,h={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in r){var p;Object.prototype.hasOwnProperty.call(r,d)&&((p=c?Object.getOwnPropertyDescriptor(r,d):null)&&(p.get||p.set)?Object.defineProperty(h,d,p):h[d]=r[d])}return h.default=r,a&&a.set(r,h),h}(t("./constants")),y=[g.ARROW,g.CROSS,g.HAND,g.MOVE,g.TEXT,g.WAIT],n=(l.default.prototype._frameRate=0,l.default.prototype._lastFrameTime=window.performance.now(),l.default.prototype._targetFrameRate=60,window.print);function o(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function s(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}l.default.prototype.print=function(){var r;arguments.length?(r=console).log.apply(r,arguments):n()},l.default.prototype.frameCount=0,l.default.prototype.deltaTime=0,l.default.prototype.focused=document.hasFocus(),l.default.prototype.cursor=function(r,a,d){var h,c="auto",p=this._curElement.elt;y.includes(r)?c=r:typeof r=="string"&&(h="",a&&d&&typeof a=="number"&&typeof d=="number"&&(h="".concat(a," ").concat(d)),c=r.substring(0,7)==="http://"||r.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(r)?"url(".concat(r,") ").concat(h,", auto"):r),p.style.cursor=c},l.default.prototype.frameRate=function(r){return l.default._validateParameters("frameRate",arguments),typeof r!="number"||r<0?this._frameRate:(this._setProperty("_targetFrameRate",r),r===0&&this._setProperty("_frameRate",r),this)},l.default.prototype.getFrameRate=function(){return this.frameRate()},l.default.prototype.setFrameRate=function(r){return this.frameRate(r)},l.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},l.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},l.default.prototype.webglVersion=g.P2D,l.default.prototype.displayWidth=screen.width,l.default.prototype.displayHeight=screen.height,l.default.prototype.windowWidth=o(),l.default.prototype.windowHeight=s(),l.default.prototype._onresize=function(r){this._setProperty("windowWidth",o()),this._setProperty("windowHeight",s());var a=this._isGlobal?window:this;typeof a.windowResized!="function"||(a=a.windowResized(r))===void 0||a||r.preventDefault()},l.default.prototype.width=0,l.default.prototype.height=0,l.default.prototype.fullscreen=function(r){if(l.default._validateParameters("fullscreen",arguments),r===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(r){if(r=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");r.requestFullscreen?r.requestFullscreen():r.mozRequestFullScreen?r.mozRequestFullScreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen():r.msRequestFullscreen&&r.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},l.default.prototype.pixelDensity=function(r){var a;return l.default._validateParameters("pixelDensity",arguments),typeof r=="number"?(r!==this._pixelDensity&&(this._pixelDensity=r),(a=this).resizeCanvas(this.width,this.height,!0)):a=this._pixelDensity,a},l.default.prototype.displayDensity=function(){return window.devicePixelRatio},l.default.prototype.getURL=function(){return location.href},l.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(r){return r!==""})},l.default.prototype.getURLParams=function(){for(var r,a=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,d={};(r=a.exec(location.search))!=null;)r.index===a.lastIndex&&a.lastIndex++,d[r[1]]=r[2];return d},t=l.default,_.default=t},{"./constants":262,"./main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.search":195,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],264:[function(t,O,_){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=(n=t("../main"))&&n.__esModule?n:{default:n};function i(o,s){s=s||console.log.bind(console),l||g(),l.some(function(r){var a;if(o.message&&o.message.match("\\W?".concat(r.name,"\\W"))!==null)return a=r.type==="function"?"".concat(r.name,"()"):r.name,s("Did you just try to use p5.js's ".concat(a," ").concat(r.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(y)),!0})}t("../internationalization");var l=null,g=null,y=(f.default._friendlyError=f.default._checkForUserDefinedFunctions=f.default._fesErrorMonitor=function(){},l=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),n=(g=function(){function o(r){return Object.getOwnPropertyNames(r).filter(function(a){return a[0]!=="_"&&!(a in s)&&(s[a]=!0)}).map(function(a){var d=typeof r[a]=="function"?"function":a===a.toUpperCase()?"constant":"variable";return{name:a,type:d}})}var s={};(l=[].concat(o(f.default.prototype),o(t("../constants")))).sort(function(r,a){return a.name.length-r.name.length})},f.default.prototype._helpForMisusedAtTopLevelCode=i,document.readyState!=="complete"&&(window.addEventListener("error",i,!1),window.addEventListener("load",function(){window.removeEventListener("error",i,!1)})),f.default);_.default=n},{"../constants":262,"../internationalization":271,"../main":273,"./browser_errors":void 0,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.function.name":167,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-names":177,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.starts-with":197,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],265:[function(t,O,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=(f=t("../main"))&&f.__esModule?f:{default:f};t("../internationalization"),f.default._friendlyFileLoadError=function(){},t=f.default,_.default=t},{"../internationalization":271,"../main":273}],266:[function(t,O,_){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(n)}function i(n){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(o){return f(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":f(o)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var l=function(n){return n&&n.__esModule?n:{default:n}}(t("../main"));t("../internationalization"),function(n){if(n&&n.__esModule)return n;if(n===null||i(n)!=="object"&&typeof n!="function")return{default:n};var o=g();if(o&&o.has(n))return o.get(n);var s,r,a={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&((r=d?Object.getOwnPropertyDescriptor(n,s):null)&&(r.get||r.set)?Object.defineProperty(a,s,r):a[s]=n[s]);a.default=n,o&&o.set(n,a)}(t("../constants"));function g(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,g=function(){return n},n)}l.default._fesCodeReader=function(){};var y=l.default;_.default=y},{"../constants":262,"../internationalization":271,"../main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],267:[function(t,O,_){function f(){var i=/(^|@)\S+:\d+/,l=/^\s*at .*(\S+:\d+|\(native\))/m,g=/^(eval@)?(\[native code])?$/;return{parse:function(y){return y.stacktrace!==void 0||y["opera#sourceloc"]!==void 0?this.parseOpera(y):y.stack&&y.stack.match(l)?this.parseV8OrIE(y):y.stack?this.parseFFOrSafari(y):void 0},extractLocation:function(y){return y.indexOf(":")===-1?[y]:[(y=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(y.replace(/[()]/g,"")))[1],y[2]||void 0,y[3]||void 0]},parseV8OrIE:function(y){return y.stack.split(`
`).filter(function(n){return!!n.match(l)},this).map(function(n){var o=(s=(n=-1<n.indexOf("(eval ")?n.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):n).replace(/^\s+/,"").replace(/\(eval code/g,"(")).match(/ (\((.+):(\d+):(\d+)\)$)/),s=(s=o?s.replace(o[0],""):s).split(/\s+/).slice(1);return o=this.extractLocation(o?o[1]:s.pop()),{functionName:s.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(o[0])?void 0:o[0],lineNumber:o[1],columnNumber:o[2],source:n}},this)},parseFFOrSafari:function(y){return y.stack.split(`
`).filter(function(n){return!n.match(g)},this).map(function(n){var o,s;return(n=-1<n.indexOf(" > eval")?n.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):n).indexOf("@")===-1&&n.indexOf(":")===-1?{functionName:n}:{functionName:(s=n.match(o=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&s[1]?s[1]:void 0,fileName:(s=this.extractLocation(n.replace(o,"")))[0],lineNumber:s[1],columnNumber:s[2],source:n}},this)},parseOpera:function(y){return!y.stacktrace||-1<y.message.indexOf(`
`)&&y.message.split(`
`).length>y.stacktrace.split(`
`).length?this.parseOpera9(y):y.stack?this.parseOpera11(y):this.parseOpera10(y)},parseOpera9:function(y){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,o=y.message.split(`
`),s=[],r=2,a=o.length;r<a;r+=2){var d=n.exec(o[r]);d&&s.push({fileName:d[2],lineNumber:d[1],source:o[r]})}return s},parseOpera10:function(y){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,o=y.stacktrace.split(`
`),s=[],r=0,a=o.length;r<a;r+=2){var d=n.exec(o[r]);d&&s.push({functionName:d[3]||void 0,fileName:d[2],lineNumber:d[1],source:o[r]})}return s},parseOpera11:function(y){return y.stack.split(`
`).filter(function(n){return!!n.match(i)&&!n.match(/^Error created at/)},this).map(function(n){var o,s=n.split("@"),r=this.extractLocation(s.pop());return{functionName:(s=s.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(o=s.match(/\(([^)]*)\)/)?s.replace(/^[^(]+\(([^)]*)\)$/,"$1"):o)===void 0||o==="[arguments not available]"?void 0:o.split(","),fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:n}},this)}}}t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,(t=(t=t("../main"))&&t.__esModule?t:{default:t}).default._getErrorStackParser=function(){return new f},t=t.default,_.default=t},{"../main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196}],268:[function(t,O,_){function f(g){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var i=(i=t("../main"))&&i.__esModule?i:{default:i};function l(g){return(l=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(y){return f(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":f(y)})(g)}(function(g){if(!(g&&g.__esModule||g===null||l(g)!=="object"&&typeof g!="function")){var y=function(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,a)}();if(y&&y.has(g))return y.get(g);var n,o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in g){var r;Object.prototype.hasOwnProperty.call(g,n)&&((r=s?Object.getOwnPropertyDescriptor(g,n):null)&&(r.get||r.set)?Object.defineProperty(o,n,r):o[n]=g[n])}o.default=g,y&&y.set(g,o)}})(t("../constants")),t("../internationalization"),i.default._validateParameters=i.default._clearValidateParamsCache=function(){},t=i.default,_.default=t},{"../../../docs/parameterData.json":void 0,"../constants":262,"../internationalization":271,"../main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.map":168,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],269:[function(t,O,_){function f(g){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function i(g){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(y){return f(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":f(y)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var l=function(g){if(g&&g.__esModule)return g;if(g===null||i(g)!=="object"&&typeof g!="function")return{default:g};var y=function(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,a)}();if(y&&y.has(g))return y.get(g);var n,o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in g){var r;Object.prototype.hasOwnProperty.call(g,n)&&((r=s?Object.getOwnPropertyDescriptor(g,n):null)&&(r.get||r.set)?Object.defineProperty(o,n,r):o[n]=g[n])}return o.default=g,y&&y.set(g,o),o}(t("./constants"));_.default={modeAdjust:function(g,y,n,o,s){return s===l.CORNER?{x:g,y,w:n,h:o}:s===l.CORNERS?{x:g,y,w:n-g,h:o-y}:s===l.RADIUS?{x:g-n,y:y-o,w:2*n,h:2*o}:s===l.CENTER?{x:g-.5*n,y:y-.5*o,w:n,h:o}:void 0}}},{"./constants":262,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],270:[function(t,O,_){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var f=(i=t("../core/main"))&&i.__esModule?i:{default:i};t("./internationalization");var i=Promise.resolve();Promise.all([new Promise(function(l,g){document.readyState==="complete"?l():window.addEventListener("load",l,!1)}),i]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!f.default.instance&&new f.default})},{"../core/main":273,"./internationalization":271,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.string.iterator":190,"core-js/modules/web.dom-collections.iterator":236}],271:[function(t,O,_){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.setTranslatorLanguage=_.currentTranslatorLanguage=_.availableTranslatorLanguages=_.initialize=_.translator=void 0;var f,i=g(t("i18next")),l=g(t("i18next-browser-languagedetector"));function g(o){return o&&o.__esModule?o:{default:o}}function y(o,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}var n=function(){function o(a,d){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.init(a,d)}var s,r;return s=o,(r=[{key:"fetchWithTimeout",value:function(a,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(a,d),new Promise(function(c,p){return setTimeout(function(){return p(new Error("timeout"))},h)})])}},{key:"init",value:function(a){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=a,this.options=d}},{key:"read",value:function(a,d,h){var c=this.options.loadPath;a===this.options.fallback?h(null,f[a][d]):(void 0).includes(a)?(c=this.services.interpolator.interpolate(c,{lng:a,ns:d}),this.loadUrl(c,h)):h("Not found",!1)}},{key:"loadUrl",value:function(a,d){this.fetchWithTimeout(a).then(function(h){if(h.ok)return h.json();throw new Error("failed loading ".concat(a))},function(){throw new Error("failed loading ".concat(a))}).then(function(h){return d(null,h)}).catch(d)}}])&&y(s.prototype,r),o}();n.type="backend",_.translator=function(o,s){console.debug("p5.js translator called before translations were loaded"),i.default.t(o,s)},_.initialize=function(){return i.default.use(l.default).use(n).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:f}).then(function(o){_.translator=o},function(o){return console.debug("Translations failed to load (".concat(o,")"))})},_.availableTranslatorLanguages=function(){return i.default.languages},_.currentTranslatorLanguage=function(o){return i.default.language},_.setTranslatorLanguage=function(o){return i.default.changeLanguage(o||void 0,function(s){return console.debug("Translations failed to load (".concat(s,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/web.dom-collections.iterator":236,i18next:3,"i18next-browser-languagedetector":3}],272:[function(t,O,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,(t=(t=t("./main"))&&t.__esModule?t:{default:t}).default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,_.default=t},{"./main":273}],273:[function(t,O,_){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(o)}function i(o){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(s){return f(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":f(s)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,t("./shim");var l=function(o){if(o&&o.__esModule)return o;if(o===null||i(o)!=="object"&&typeof o!="function")return{default:o};var s=function(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,c)}();if(s&&s.has(o))return s.get(o);var r,a={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in o){var h;Object.prototype.hasOwnProperty.call(o,r)&&((h=d?Object.getOwnPropertyDescriptor(o,r):null)&&(h.get||h.set)?Object.defineProperty(a,r,h):a[r]=o[r])}return a.default=o,s&&s.set(o,a),a}(t("./constants"));function g(o,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}var y,n=function(){function o(a,d,h){var c=this;if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=d,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={},d=Object.getOwnPropertyNames(o.prototype._registeredMethods);var p=!0,m=!1,b=void 0;try{for(var A,T=d[Symbol.iterator]();!(p=(A=T.next()).done);p=!0){var x=A.value;this._registeredMethods[x]=o.prototype._registeredMethods[x].slice()}}catch(z){m=!0,b=z}finally{try{p||T.return==null||T.return()}finally{if(m)throw b}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){c._userNode&&typeof c._userNode=="string"&&(c._userNode=document.getElementById(c._userNode));var z=c._isGlobal?window:c;if(z.preload){var Y,Z=document.getElementById(c._loadingScreenId),ee=(Z||((Z=document.createElement("div")).innerHTML="Loading...",Z.style.position="absolute",Z.id=c._loadingScreenId,(c._userNode||document.body).appendChild(Z)),c._preloadMethods);for(Y in ee){ee[Y]=ee[Y]||o;var te=ee[Y];te!==o.prototype&&te!==o||(c._isGlobal&&(window[Y]=c._wrapPreload(c,Y)),te=c),c._registeredPreloadMethods[Y]=te[Y],te[Y]=c._wrapPreload(te,Y)}z.preload(),c._runIfPreloadsAreDone()}else c._setup(),c._recording||c._draw()},this._runIfPreloadsAreDone=function(){var z,Y=this._isGlobal?window:this;Y._preloadCount===0&&((z=document.getElementById(Y._loadingScreenId))&&z.parentNode.removeChild(z),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),Y._setup(),this._recording||Y._draw()))},this._decrementPreload=function(){var z=this._isGlobal?window:this;z._preloadDone||typeof z.preload!="function"||(z._setProperty("_preloadCount",z._preloadCount-1),z._runIfPreloadsAreDone())},this._wrapPreload=function(z,Y){var Z=this;return function(){Z._incrementPreload();for(var ee=arguments.length,te=new Array(ee),oe=0;oe<ee;oe++)te[oe]=arguments[oe];return Z._registeredPreloadMethods[Y].apply(z,te)}},this._incrementPreload=function(){var z=this._isGlobal?window:this;z._preloadDone||z._setProperty("_preloadCount",z._preloadCount+1)},this._setup=function(){c.createCanvas(c._defaultCanvasSize.width,c._defaultCanvasSize.height,"p2d");var z=c._isGlobal?window:c;if(typeof z.preload=="function")for(var Y in c._preloadMethods)z[Y]=c._preloadMethods[Y][Y],z[Y]&&c&&(z[Y]=z[Y].bind(c));c._millisStart=window.performance.now(),z._preloadDone=!0,typeof z.setup=="function"&&z.setup();var Z=document.getElementsByTagName("canvas"),ee=!0,te=!1,oe=void 0;try{for(var U,q=Z[Symbol.iterator]();!(ee=(U=q.next()).done);ee=!0){var K=U.value;K.dataset.hidden==="true"&&(K.style.visibility="",delete K.dataset.hidden)}}catch(se){te=!0,oe=se}finally{try{ee||q.return==null||q.return()}finally{if(te)throw oe}}c._lastTargetFrameTime=window.performance.now(),c._lastRealFrameTime=window.performance.now(),c._setupDone=!0,(c._accessibleOutputs.grid||c._accessibleOutputs.text)&&c._updateAccsOutput()},this._draw=function(){var z=window.performance.now(),Y=z-c._lastTargetFrameTime,Z=1e3/c._targetFrameRate;(!c._loop||Z-5<=Y)&&(c.deltaTime=z-c._lastRealFrameTime,c._setProperty("deltaTime",c.deltaTime),c._frameRate=1e3/c.deltaTime,c.redraw(),c._lastTargetFrameTime=Math.max(c._lastTargetFrameTime+Z,z),c._lastRealFrameTime=z,c._updateMouseCoords!==void 0&&(c._updateMouseCoords(),c._setProperty("movedX",0),c._setProperty("movedY",0))),c._loop&&(c._requestAnimId=window.requestAnimationFrame(c._draw))},this._setProperty=function(z,Y){c[z]=Y,c._isGlobal&&(window[z]=Y)},this.remove=function(){if((Z=document.getElementById(c._loadingScreenId))&&(Z.parentNode.removeChild(Z),c._incrementPreload()),c._curElement){for(var z in c._loop=!1,c._requestAnimId&&window.cancelAnimationFrame(c._requestAnimId),c._events)window.removeEventListener(z,c._events[z]);var Y=!0,Z=!1,ee=void 0;try{for(var te,oe=c._elements[Symbol.iterator]();!(Y=(te=oe.next()).done);Y=!0){var U,q=te.value;for(U in q.elt&&q.elt.parentNode&&q.elt.parentNode.removeChild(q.elt),q._events)q.elt.removeEventListener(U,q._events[U])}}catch(le){Z=!0,ee=le}finally{try{Y||oe.return==null||oe.return()}finally{if(Z)throw ee}}var K=c;c._registeredMethods.remove.forEach(function(le){le!==void 0&&le.call(K)})}if(c._isGlobal){for(var se in o.prototype)try{delete window[se]}catch{window[se]=void 0}for(var ie in c)if(c.hasOwnProperty(ie))try{delete window[ie]}catch{window[ie]=void 0}o.instance=null}},this._registeredMethods.init.forEach(function(z){z!==void 0&&z.call(this)},this),this._setupPromisePreloads();var R,S,C=this._createFriendlyGlobalFunctionBinder();if(a)a(this),o._checkForUserDefinedFunctions(this);else{for(var D in this._isGlobal=!0,o.instance=this,o.prototype)typeof o.prototype[D]=="function"?(R=D.substring(2),this._events.hasOwnProperty(R)||(Math.hasOwnProperty(D)&&Math[D]===o.prototype[D]?C(D,o.prototype[D]):C(D,o.prototype[D].bind(this)))):C(D,o.prototype[D]);for(var N in this)this.hasOwnProperty(N)&&C(N,this[N])}for(S in this._events){var F=this["_on".concat(S)];F&&(F=F.bind(this),window.addEventListener(S,F,{passive:!1}),this._events[S]=F)}function M(){c._setProperty("focused",!0)}function L(){c._setProperty("focused",!1)}window.addEventListener("focus",M),window.addEventListener("blur",L),this.registerMethod("remove",function(){window.removeEventListener("focus",M),window.removeEventListener("blur",L)}),document.readyState==="complete"?this._start():window.addEventListener("load",this._start.bind(this),!1)}var s,r;return s=o,(r=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=l.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(a,d){o.prototype._preloadMethods.hasOwnProperty(a)||(o.prototype._preloadMethods[a]=d)}},{key:"registerMethod",value:function(a,d){var h=this||o.prototype;h._registeredMethods.hasOwnProperty(a)||(h._registeredMethods[a]=[]),h._registeredMethods[a].push(d)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},d=a.globalObject||window;return a.log||console.log.bind(console),function(h,c){o.disableFriendlyErrors,d[h]=c}}}])&&g(s.prototype,r),o}();for(y in n.instance=null,n.disableFriendlyErrors=!1,l)n.prototype[y]=l[y];n.VERSION=l.VERSION,n.prototype._preloadMethods={loadJSON:n.prototype,loadImage:n.prototype,loadStrings:n.prototype,loadXML:n.prototype,loadBytes:n.prototype,loadTable:n.prototype,loadFont:n.prototype,loadModel:n.prototype,loadShader:n.prototype},n.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},n.prototype._registeredPreloadMethods={},_.default=n},{"./constants":262,"./shim":284,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-own-property-names":177,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],274:[function(t,O,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=(t=t("./main"))&&t.__esModule?t:{default:t};function i(l,g){for(var y=0;y<g.length;y++){var n=g[y];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(l,n.key,n)}}f.default.Element=function(){function l(o,s){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.elt=o,this._pInst=this._pixelsState=s,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var g,y,n;return g=l,n=[{key:"_adjustListener",value:function(o,s,r){return s===!1?f.default.Element._detachListener(o,r):f.default.Element._attachListener(o,s,r),this}},{key:"_attachListener",value:function(o,s,r){r._events[o]&&f.default.Element._detachListener(o,r),s=s.bind(r),r.elt.addEventListener(o,s,!1),r._events[o]=s}},{key:"_detachListener",value:function(o,s){var r=s._events[o];s.elt.removeEventListener(o,r,!1),s._events[o]=null}}],(y=[{key:"parent",value:function(o){return o===void 0?this.elt.parentNode:(typeof o=="string"?(o[0]==="#"&&(o=o.substring(1)),o=document.getElementById(o)):o instanceof f.default.Element&&(o=o.elt),o.appendChild(this.elt),this)}},{key:"id",value:function(o){return o===void 0?this.elt.id:(this.elt.id=o,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(o){return o===void 0?this.elt.className:(this.elt.className=o,this)}},{key:"mousePressed",value:function(o){return f.default.Element._adjustListener("mousedown",function(s){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(s),o.call(this,s)},this),this}},{key:"doubleClicked",value:function(o){return f.default.Element._adjustListener("dblclick",o,this),this}},{key:"mouseWheel",value:function(o){return f.default.Element._adjustListener("wheel",o,this),this}},{key:"mouseReleased",value:function(o){return f.default.Element._adjustListener("mouseup",o,this),this}},{key:"mouseClicked",value:function(o){return f.default.Element._adjustListener("click",o,this),this}},{key:"mouseMoved",value:function(o){return f.default.Element._adjustListener("mousemove",o,this),this}},{key:"mouseOver",value:function(o){return f.default.Element._adjustListener("mouseover",o,this),this}},{key:"mouseOut",value:function(o){return f.default.Element._adjustListener("mouseout",o,this),this}},{key:"touchStarted",value:function(o){return f.default.Element._adjustListener("touchstart",o,this),this}},{key:"touchMoved",value:function(o){return f.default.Element._adjustListener("touchmove",o,this),this}},{key:"touchEnded",value:function(o){return f.default.Element._adjustListener("touchend",o,this),this}},{key:"dragOver",value:function(o){return f.default.Element._adjustListener("dragover",o,this),this}},{key:"dragLeave",value:function(o){return f.default.Element._adjustListener("dragleave",o,this),this}},{key:"_setProperty",value:function(o,s){this[o]=s}}])&&i(g.prototype,y),n&&i(g,n),l}(),t=f.default.Element,_.default=t},{"./main":273}],275:[function(t,O,_){function f(h){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var i=(d=t("./main"))&&d.__esModule?d:{default:d},l=function(h){if(h&&h.__esModule)return h;if(h===null||g(h)!=="object"&&typeof h!="function")return{default:h};var c=function(){var T;return typeof WeakMap!="function"?null:(T=new WeakMap,T)}();if(c&&c.has(h))return c.get(h);var p,m={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in h){var A;Object.prototype.hasOwnProperty.call(h,p)&&((A=b?Object.getOwnPropertyDescriptor(h,p):null)&&(A.get||A.set)?Object.defineProperty(m,p,A):m[p]=h[p])}return m.default=h,c&&c.set(h,m),m}(t("./constants"));function g(h){return(g=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(c){return f(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":f(c)})(h)}function y(h,c){for(var p=0;p<c.length;p++){var m=c[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}function n(h,c){return(n=Object.setPrototypeOf||function(p,m){return p.__proto__=m,p})(h,c)}function o(h){return function(){var c,p=a(h);return s(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(c=a(this).constructor,Reflect.construct(p,arguments,c)):p.apply(this,arguments))}}function s(h,c){return!c||g(c)!=="object"&&typeof c!="function"?r(h):c}function r(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function a(h){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(h)}i.default.Graphics=function(h){var c=m;if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),h&&n(c,h);var p=o(m);function m(b,A,T,x,R){var S;if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");D=R||document.createElement("canvas"),(S=p.call(this,D,x)).canvas=D;var C,D=T||l.P2D;T=x._userNode||document.body;for(C in R||T.appendChild(S.canvas),i.default.prototype)S[C]||(typeof i.default.prototype[C]=="function"?S[C]=i.default.prototype[C].bind(r(S)):S[C]=i.default.prototype[C]);return i.default.prototype._initializeInstanceVariables.apply(r(S)),S.width=b,S.height=A,S._pixelDensity=x._pixelDensity,D===l.WEBGL?S._renderer=new i.default.RendererGL(S.canvas,r(S),!1):S._renderer=new i.default.Renderer2D(S.canvas,r(S),!1),x._elements.push(r(S)),Object.defineProperty(r(S),"deltaTime",{get:function(){return this._pInst.deltaTime}}),S._renderer.resize(b,A),S._renderer._applyDefaults(),s(S,r(S))}return c=m,(h=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var b,A=this._pInst._elements.indexOf(this);for(b in A!==-1&&this._pInst._elements.splice(A,1),this._events)this.elt.removeEventListener(b,this._events[b])}},{key:"createFramebuffer",value:function(b){return new i.default.Framebuffer(this,b)}}])&&y(c.prototype,h),m}(i.default.Element);var d=i.default.Graphics;_.default=d},{"./constants":262,"./main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],276:[function(t,O,_){function f(h){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var i=(a=t("./main"))&&a.__esModule?a:{default:a},l=function(h){if(h&&h.__esModule)return h;if(h===null||g(h)!=="object"&&typeof h!="function")return{default:h};var c=function(){var T;return typeof WeakMap!="function"?null:(T=new WeakMap,T)}();if(c&&c.has(h))return c.get(h);var p,m={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in h){var A;Object.prototype.hasOwnProperty.call(h,p)&&((A=b?Object.getOwnPropertyDescriptor(h,p):null)&&(A.get||A.set)?Object.defineProperty(m,p,A):m[p]=h[p])}return m.default=h,c&&c.set(h,m),m}(t("../core/constants"));function g(h){return(g=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(c){return f(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":f(c)})(h)}function y(h,c){for(var p=0;p<c.length;p++){var m=c[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}function n(h,c){return(n=Object.setPrototypeOf||function(p,m){return p.__proto__=m,p})(h,c)}function o(h){return function(){var c,p,m=r(h);return c=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(c=r(this).constructor,Reflect.construct(m,arguments,c)):m.apply(this,arguments),m=this,!(p=c)||g(p)!=="object"&&typeof p!="function"?s(m):p}}function s(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function r(h){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(h)}var a=function(h){var c=m;if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),h&&n(c,h);var p=o(m);function m(b,A,T){var x;if(this instanceof m)return(x=p.call(this,b,A)).canvas=b,x._pixelsState=A,T?(x._isMainCanvas=!0,x._pInst._setProperty("_curElement",s(x)),x._pInst._setProperty("canvas",x.canvas),x._pInst._setProperty("width",x.width),x._pInst._setProperty("height",x.height)):(x.canvas.style.display="none",x._styles=[]),x._textSize=12,x._textLeading=15,x._textFont="sans-serif",x._textStyle=l.NORMAL,x._textAscent=null,x._textDescent=null,x._textAlign=l.LEFT,x._textBaseline=l.BASELINE,x._textWrap=l.WORD,x._rectMode=l.CORNER,x._ellipseMode=l.CENTER,x._curveTightness=0,x._imageMode=l.CORNER,x._tint=null,x._doStroke=!0,x._doFill=!0,x._strokeSet=!1,x._fillSet=!1,x._leadingSet=!1,x;throw new TypeError("Cannot call a class as a function")}return c=m,(h=[{key:"push",value:function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(b){b.properties&&Object.assign(this,b.properties)}},{key:"resize",value:function(b,A){this.width=b,this.height=A,this.elt.width=b*this._pInst._pixelDensity,this.elt.height=A*this._pInst._pixelDensity,this.elt.style.width="".concat(b,"px"),this.elt.style.height="".concat(A,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(b,A,T,x){var R=this._pixelsState,S=R._pixelDensity,C=this.canvas;if(b===void 0&&A===void 0)b=A=0,T=R.width,x=R.height;else if(b*=S,A*=S,T===void 0&&x===void 0)return b<0||A<0||b>=C.width||A>=C.height?[0,0,0,0]:this._getPixel(b,A);return(R=new i.default.Image(T,x)).canvas.getContext("2d").drawImage(C,b,A,T*S,x*S,0,0,T,x),R}},{key:"textLeading",value:function(b){return typeof b=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",b),this._pInst):this._textLeading}},{key:"textStyle",value:function(b){return b?(b!==l.NORMAL&&b!==l.ITALIC&&b!==l.BOLD&&b!==l.BOLDITALIC||this._setProperty("_textStyle",b),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(b,A){return b!==void 0?(this._setProperty("_textAlign",b),A!==void 0&&this._setProperty("_textBaseline",A),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(b){return this._setProperty("_textWrap",b),this._textWrap}},{key:"text",value:function(b,A,T,x,R){var S,C,D,N,F=this._pInst,M=this._textWrap,L=Number.MAX_VALUE,z=T;if((this._doFill||this._doStroke)&&b!==void 0){if(S=(b=(b=typeof b!="string"?b.toString():b).replace(/(\t)/g,"  ")).split(`
`),x!==void 0){switch(this._rectMode===l.CENTER&&(A-=x/2),this._textAlign){case l.CENTER:A+=x/2;break;case l.RIGHT:A+=x}if(R!==void 0){this._rectMode===l.CENTER&&(T-=R/2,z-=R/2),b=T;var Y=F.textAscent();switch(this._textBaseline){case l.BOTTOM:N=T+R,T=Math.max(N,T),z+=Y;break;case l.CENTER:N=T+R/2,T=Math.max(N,T),z+=Y/2}L=T+R-Y,this._textBaseline===l.CENTER&&(L=b+R-Y/2)}else this._textBaseline!==l.BOTTOM&&this._textBaseline!==l.CENTER||(z=T-(b=F.textSize()*this._textLeading)/2,L=T+b/2);if(M===l.WORD){for(var Z=[],ee=0;ee<S.length;ee++){for(var te="",oe=S[ee].split(" "),U=0;U<oe.length;U++)C="".concat(te+oe[U])+" ",te=x<(D=this.textWidth(C))&&0<te.length?(Z.push(te),"".concat(oe[U])+" "):C;Z.push(te)}var q=0;this._textBaseline===l.CENTER?q=(Z.length-1)*F.textLeading()/2:this._textBaseline===l.BOTTOM&&(q=(Z.length-1)*F.textLeading());for(var K=0;K<S.length;K++){te="",oe=S[K].split(" ");for(var se=0;se<oe.length;se++)C="".concat(te+oe[se])+" ",x<(D=this.textWidth(C))&&0<te.length?(this._renderText(F,te.trim(),A,T-q,L,z),te="".concat(oe[se])+" ",T+=F.textLeading()):te=C;this._renderText(F,te.trim(),A,T-q,L,z),T+=F.textLeading()}}else{for(var ie=[],le=0;le<S.length;le++)for(var $=S[le].split(te=""),ce=0;ce<$.length;ce++)C="".concat(te+$[ce]),(D=this.textWidth(C))<=x?te+=$[ce]:x<D&&0<te.length&&(ie.push(te),te="".concat($[ce]));ie.push(te);var ye=0;this._textBaseline===l.CENTER?ye=(ie.length-1)*F.textLeading()/2:this._textBaseline===l.BOTTOM&&(ye=(ie.length-1)*F.textLeading());for(var _e=0;_e<S.length;_e++){$=S[_e].split(te="");for(var he=0;he<$.length;he++)C="".concat(te+$[he]),(D=this.textWidth(C))<=x?te+=$[he]:x<D&&0<te.length&&(this._renderText(F,te.trim(),A,T-ye,L,z),T+=F.textLeading(),te="".concat($[he]))}this._renderText(F,te.trim(),A,T-ye,L,z),T+=F.textLeading()}}else{var ve=0;this._textBaseline===l.CENTER?ve=(S.length-1)*F.textLeading()/2:this._textBaseline===l.BOTTOM&&(ve=(S.length-1)*F.textLeading());for(var Ee=0;Ee<S.length;Ee++)this._renderText(F,S[Ee],A,T-ve,L,z-ve),T+=F.textLeading()}return F}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return g(b)==="object"&&b.font&&b.font.supported}},{key:"_updateTextMetrics",value:function(){var b,A,T,x,R,S;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((b=document.createElement("span")).style.fontFamily=this._textFont,b.style.fontSize="".concat(this._textSize,"px"),b.innerHTML="ABCjgq|",(S=document.createElement("div")).style.display="inline-block",S.style.width="1px",S.style.height="0px",(A=document.createElement("div")).appendChild(b),A.appendChild(S),A.style.height="0px",A.style.overflow="hidden",document.body.appendChild(A),S.style.verticalAlign="baseline",x=d(S),R=d(b),T=x[1]-R[1],S.style.verticalAlign="bottom",x=d(S),R=d(b),S=x[1]-R[1]-T,document.body.removeChild(A),this._setProperty("_textAscent",T),this._setProperty("_textDescent",S)),this}}])&&y(c.prototype,h),m}(i.default.Element);function d(h){var c=0,p=0;if(h.offsetParent)for(;c+=h.offsetLeft,p+=h.offsetTop,h=h.offsetParent;);else c+=h.offsetLeft,p+=h.offsetTop;return[c,p]}a.prototype.textSize=function(h){return typeof h=="number"?(this._setProperty("_textSize",h),this._leadingSet||this._setProperty("_textLeading",h*l._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},i.default.Renderer=a,t=i.default.Renderer,_.default=t},{"../core/constants":262,"./main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],277:[function(t,O,_){function f(d){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.reflect.get"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.reflect.get"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var i=(a=t("./main"))&&a.__esModule?a:{default:a},l=function(d){if(d&&d.__esModule)return d;if(d===null||g(d)!=="object"&&typeof d!="function")return{default:d};var h=function(){var A;return typeof WeakMap!="function"?null:(A=new WeakMap,A)}();if(h&&h.has(d))return h.get(d);var c,p={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in d){var b;Object.prototype.hasOwnProperty.call(d,c)&&((b=m?Object.getOwnPropertyDescriptor(d,c):null)&&(b.get||b.set)?Object.defineProperty(p,c,b):p[c]=d[c])}return p.default=d,h&&h.set(d,p),p}(t("./constants"));function g(d){return(g=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(h){return f(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":f(h)})(d)}function y(d,h){for(var c=0;c<h.length;c++){var p=h[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}function n(d,h,c){return(n=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(p,m,b){if(p=function(A,T){for(;!Object.prototype.hasOwnProperty.call(A,T)&&(A=s(A))!==null;);return A}(p,m))return(p=Object.getOwnPropertyDescriptor(p,m)).get?p.get.call(b):p.value})(d,h,c||d)}function o(d,h){return(o=Object.setPrototypeOf||function(c,p){return c.__proto__=p,c})(d,h)}function s(d){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)})(d)}t("./p5.Renderer");var r="rgba(0,0,0,0)",a=function(d){var h=p;if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),d&&o(h,d);var c=function(m){return function(){var b,A=s(m);if(b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=s(this).constructor,Reflect.construct(A,arguments,b)):A.apply(this,arguments),A=this,!b||g(b)!=="object"&&typeof b!="function"){if(A!==void 0)return A;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return b}}(p);function p(m,b,A){if(this instanceof p)return(m=c.call(this,m,b,A)).drawingContext=m.canvas.getContext("2d"),m._pInst._setProperty("drawingContext",m.drawingContext),m;throw new TypeError("Cannot call a class as a function")}return h=p,(d=[{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=l.BLEND,this._setFill(l._DEFAULT_FILL),this._setStroke(l._DEFAULT_STROKE),this.drawingContext.lineCap=l.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(m,b){n(s(p.prototype),"resize",this).call(this,m,b),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var m,b;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof i.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(m=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(m,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(m=this._getFill(),b=(b=this._pInst).color.apply(b,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(b.levels),b=b.toString(),this._setFill(b),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(m),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var m=(m=this._pInst).color.apply(m,arguments);this._setFill(m.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",m.levels)}},{key:"stroke",value:function(){var m=(m=this._pInst).color.apply(m,arguments);this._setStroke(m.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",m.levels)}},{key:"erase",value:function(m,b){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,m=this._pInst.color(255,m).toString(),this.drawingContext.fillStyle=m,this._cachedStrokeStyle=this.drawingContext.strokeStyle,m=this._pInst.color(255,b).toString(),this.drawingContext.strokeStyle=m,b=this._cachedBlendMode,this.blendMode(l.REMOVE),this._cachedBlendMode=b,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"image",value:function(m,b,A,T,x,R,S,C,D){m.gifProperties&&m._animateGif(this._pInst);try{i.default.MediaElement&&m instanceof i.default.MediaElement&&m._ensureCanvas();var N=(N=this._tint&&m.canvas?this._getTintedImageCanvas(m):N)||m.canvas||m.elt,F=1;m.width&&0<m.width&&(F=N.width/m.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(N,F*b,F*A,F*T,F*x,R,S,C,D),this._isErasing&&this._pInst.erase()}catch(M){if(M.name!=="NS_ERROR_NOT_AVAILABLE")throw M}}},{key:"_getTintedImageCanvas",value:function(m){if(!m.canvas)return m;m.tintCanvas||(m.tintCanvas=document.createElement("canvas")),m.tintCanvas.width!==m.canvas.width&&(m.tintCanvas.width=m.canvas.width),m.tintCanvas.height!==m.canvas.height&&(m.tintCanvas.height=m.canvas.height);var b=m.tintCanvas.getContext("2d");return b.save(),b.clearRect(0,0,m.canvas.width,m.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(b.drawImage(m.canvas,0,0),b.globalCompositeOperation="luminosity",b.drawImage(m.canvas,0,0),b.globalCompositeOperation="color",b.drawImage(m.canvas,0,0),b.globalCompositeOperation="multiply",b.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),b.fillRect(0,0,m.canvas.width,m.canvas.height),b.globalCompositeOperation="destination-in"),b.globalAlpha=this._tint[3]/255,b.drawImage(m.canvas,0,0),b.restore(),m.tintCanvas}},{key:"blendMode",value:function(m){if(m===l.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(m!==l.BLEND&&m!==l.REMOVE&&m!==l.DARKEST&&m!==l.LIGHTEST&&m!==l.DIFFERENCE&&m!==l.MULTIPLY&&m!==l.EXCLUSION&&m!==l.SCREEN&&m!==l.REPLACE&&m!==l.OVERLAY&&m!==l.HARD_LIGHT&&m!==l.SOFT_LIGHT&&m!==l.DODGE&&m!==l.BURN&&m!==l.ADD)throw new Error("Mode ".concat(m," not recognized."));this._cachedBlendMode=m,this.drawingContext.globalCompositeOperation=m}}},{key:"blend",value:function(){for(var m=this.drawingContext.globalCompositeOperation,b=arguments.length,A=new Array(b),T=0;T<b;T++)A[T]=arguments[T];var x=A[A.length-1],R=Array.prototype.slice.call(A,0,A.length-1);this.drawingContext.globalCompositeOperation=x,i.default.prototype.copy.apply(this,R),this.drawingContext.globalCompositeOperation=m}},{key:"_getPixel",value:function(m,b){return[(m=this.drawingContext.getImageData(m,b,1,1).data)[0],m[1],m[2],m[3]]}},{key:"loadPixels",value:function(){var m=this._pixelsState,b=m._pixelDensity,A=this.width*b;b=this.height*b,A=this.drawingContext.getImageData(0,0,A,b),m._setProperty("imageData",A),m._setProperty("pixels",A.data)}},{key:"set",value:function(m,b,A){m=Math.floor(m),b=Math.floor(b);var T=this._pixelsState;if(A instanceof i.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(T._pixelDensity,T._pixelDensity),this.drawingContext.clearRect(m,b,A.width,A.height),this.drawingContext.drawImage(A.canvas,m,b),this.drawingContext.restore();else{var x=0,R=0,S=0,C=0,D=4*(b*T._pixelDensity*(this.width*T._pixelDensity)+m*T._pixelDensity);if(T.imageData||T.loadPixels.call(T),typeof A=="number")D<T.pixels.length&&(S=R=x=A,C=255);else if(A instanceof Array){if(A.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");D<T.pixels.length&&(x=A[0],R=A[1],S=A[2],C=A[3])}else A instanceof i.default.Color&&D<T.pixels.length&&(x=A.levels[0],R=A.levels[1],S=A.levels[2],C=A.levels[3]);for(var N=0;N<T._pixelDensity;N++)for(var F=0;F<T._pixelDensity;F++)D=4*((b*T._pixelDensity+F)*this.width*T._pixelDensity+(m*T._pixelDensity+N)),T.pixels[D]=x,T.pixels[D+1]=R,T.pixels[D+2]=S,T.pixels[D+3]=C}}},{key:"updatePixels",value:function(m,b,A,T){var x=this._pixelsState,R=x._pixelDensity;m===void 0&&b===void 0&&A===void 0&&T===void 0&&(b=m=0,A=this.width,T=this.height),m*=R,b*=R,A*=R,T*=R,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=x.imageData),this.drawingContext.putImageData(x.imageData,m,b,0,0,A,T)}},{key:"_acuteArcToBezier",value:function(m,b){var A=b/2,T=Math.cos(A),x=Math.sin(A),R=1/Math.tan(A),S=(A=m+A,Math.cos(A)),C=(A=Math.sin(A),(4-T)/3);return x+=(T-C)*R,{ax:Math.cos(m).toFixed(7),ay:Math.sin(m).toFixed(7),bx:(C*S+x*A).toFixed(7),by:(C*A-x*S).toFixed(7),cx:(C*S-x*A).toFixed(7),cy:(C*A+x*S).toFixed(7),dx:Math.cos(m+b).toFixed(7),dy:Math.sin(m+b).toFixed(7)}}},{key:"arc",value:function(m,b,A,T,x,R,S){var C,D=this.drawingContext,N=A/2,F=T/2,M=[];for(m+=N,b+=F;1e-5<=R-x;)C=Math.min(R-x,l.HALF_PI),M.push(this._acuteArcToBezier(x,C)),x+=C;return this._doFill&&(D.beginPath(),M.forEach(function(L,z){z===0&&D.moveTo(m+L.ax*N,b+L.ay*F),D.bezierCurveTo(m+L.bx*N,b+L.by*F,m+L.cx*N,b+L.cy*F,m+L.dx*N,b+L.dy*F)}),S!==l.PIE&&S!=null||D.lineTo(m,b),D.closePath(),D.fill()),this._doStroke&&(D.beginPath(),M.forEach(function(L,z){z===0&&D.moveTo(m+L.ax*N,b+L.ay*F),D.bezierCurveTo(m+L.bx*N,b+L.by*F,m+L.cx*N,b+L.cy*F,m+L.dx*N,b+L.dy*F)}),S===l.PIE?(D.lineTo(m,b),D.closePath()):S===l.CHORD&&D.closePath(),D.stroke()),this}},{key:"ellipse",value:function(m){var b=this.drawingContext,A=this._doFill,T=this._doStroke,x=parseFloat(m[0]),R=parseFloat(m[1]),S=parseFloat(m[2]);if(m=parseFloat(m[3]),A&&!T){if(this._getFill()===r)return this}else if(!A&&T&&this._getStroke()===r)return this;var C=S/2*.5522847498,D=m/2*.5522847498,N=x+S,F=R+m;S=x+S/2,m=R+m/2,b.beginPath(),b.moveTo(x,m),b.bezierCurveTo(x,m-D,S-C,R,S,R),b.bezierCurveTo(S+C,R,N,m-D,N,m),b.bezierCurveTo(N,m+D,S+C,F,S,F),b.bezierCurveTo(S-C,F,x,m+D,x,m),A&&b.fill(),T&&b.stroke()}},{key:"line",value:function(m,b,A,T){var x=this.drawingContext;return this._doStroke&&this._getStroke()!==r&&(x.beginPath(),x.moveTo(m,b),x.lineTo(A,T),x.stroke()),this}},{key:"point",value:function(m,b){var A,T,x=this.drawingContext;return this._doStroke&&this._getStroke()!==r?(A=this._getStroke(),T=this._getFill(),this._setFill(A),x.beginPath(),x.arc(m,b,x.lineWidth/2,0,l.TWO_PI,!1),x.fill(),void this._setFill(T)):this}},{key:"quad",value:function(m,b,A,T,x,R,S,C){var D=this.drawingContext,N=this._doFill,F=this._doStroke;if(N&&!F){if(this._getFill()===r)return this}else if(!N&&F&&this._getStroke()===r)return this;return D.beginPath(),D.moveTo(m,b),D.lineTo(A,T),D.lineTo(x,R),D.lineTo(S,C),D.closePath(),N&&D.fill(),F&&D.stroke(),this}},{key:"rect",value:function(m){var b,A,T=m[0],x=m[1],R=m[2],S=m[3],C=m[4],D=m[5],N=m[6],F=(m=m[7],this.drawingContext),M=this._doFill,L=this._doStroke;if(M&&!L){if(this._getFill()===r)return this}else if(!M&&L&&this._getStroke()===r)return this;return F.beginPath(),C===void 0?F.rect(T,x,R,S):(D===void 0&&(D=C),N===void 0&&(N=D),m===void 0&&(m=N),L=(M=Math.abs(R))/2,A=(b=Math.abs(S))/2,b<2*(C=M<2*C?L:C)&&(C=A),b<2*(D=M<2*D?L:D)&&(D=A),b<2*(N=M<2*N?L:N)&&(N=A),b<2*(m=M<2*m?L:m)&&(m=A),F.beginPath(),F.moveTo(T+C,x),F.arcTo(T+R,x,T+R,x+S,D),F.arcTo(T+R,x+S,T,x+S,N),F.arcTo(T,x+S,T,x,m),F.arcTo(T,x,T+R,x,C),F.closePath()),this._doFill&&F.fill(),this._doStroke&&F.stroke(),this}},{key:"triangle",value:function(m){var b=this.drawingContext,A=this._doFill,T=this._doStroke,x=m[0],R=m[1],S=m[2],C=m[3],D=m[4];if(m=m[5],A&&!T){if(this._getFill()===r)return this}else if(!A&&T&&this._getStroke()===r)return this;b.beginPath(),b.moveTo(x,R),b.lineTo(S,C),b.lineTo(D,m),b.closePath(),A&&b.fill(),T&&b.stroke()}},{key:"endShape",value:function(m,b,A,T,x,R,S){if(b.length!==0&&(this._doStroke||this._doFill)){var C,D,N,F=m===l.CLOSE,M=(F&&!R&&b.push(b[0]),b.length);if(!A||S!==l.POLYGON&&S!==null)if(!T||S!==l.POLYGON&&S!==null)if(!x||S!==l.POLYGON&&S!==null)if(S===l.POINTS)for(D=0;D<M;D++)C=b[D],this._doStroke&&this._pInst.stroke(C[6]),this._pInst.point(C[0],C[1]);else if(S===l.LINES)for(D=0;D+1<M;D+=2)C=b[D],this._doStroke&&this._pInst.stroke(b[D+1][6]),this._pInst.line(C[0],C[1],b[D+1][0],b[D+1][1]);else if(S===l.TRIANGLES)for(D=0;D+2<M;D+=3)C=b[D],this.drawingContext.beginPath(),this.drawingContext.moveTo(C[0],C[1]),this.drawingContext.lineTo(b[D+1][0],b[D+1][1]),this.drawingContext.lineTo(b[D+2][0],b[D+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(b[D+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(b[D+2][6]),this.drawingContext.stroke());else if(S===l.TRIANGLE_STRIP)for(D=0;D+1<M;D++)C=b[D],this.drawingContext.beginPath(),this.drawingContext.moveTo(b[D+1][0],b[D+1][1]),this.drawingContext.lineTo(C[0],C[1]),this._doStroke&&this._pInst.stroke(b[D+1][6]),this._doFill&&this._pInst.fill(b[D+1][5]),D+2<M&&(this.drawingContext.lineTo(b[D+2][0],b[D+2][1]),this._doStroke&&this._pInst.stroke(b[D+2][6]),this._doFill&&this._pInst.fill(b[D+2][5])),this._doFillStrokeClose(F);else if(S===l.TRIANGLE_FAN){if(2<M){for(this.drawingContext.beginPath(),D=2;D<M;D++)C=b[D],this.drawingContext.moveTo(b[0][0],b[0][1]),this.drawingContext.lineTo(b[D-1][0],b[D-1][1]),this.drawingContext.lineTo(C[0],C[1]),this.drawingContext.lineTo(b[0][0],b[0][1]),D<M-1&&(this._doFill&&C[5]!==b[D+1][5]||this._doStroke&&C[6]!==b[D+1][6])&&(this._doFill&&(this._pInst.fill(C[5]),this.drawingContext.fill(),this._pInst.fill(b[D+1][5])),this._doStroke&&(this._pInst.stroke(C[6]),this.drawingContext.stroke(),this._pInst.stroke(b[D+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(F)}}else if(S===l.QUADS)for(D=0;D+3<M;D+=4){for(C=b[D],this.drawingContext.beginPath(),this.drawingContext.moveTo(C[0],C[1]),N=1;N<4;N++)this.drawingContext.lineTo(b[D+N][0],b[D+N][1]);this.drawingContext.lineTo(C[0],C[1]),this._doFill&&this._pInst.fill(b[D+3][5]),this._doStroke&&this._pInst.stroke(b[D+3][6]),this._doFillStrokeClose(F)}else if(S===l.QUAD_STRIP){if(3<M)for(D=0;D+1<M;D+=2)C=b[D],this.drawingContext.beginPath(),D+3<M?(this.drawingContext.moveTo(b[D+2][0],b[D+2][1]),this.drawingContext.lineTo(C[0],C[1]),this.drawingContext.lineTo(b[D+1][0],b[D+1][1]),this.drawingContext.lineTo(b[D+3][0],b[D+3][1]),this._doFill&&this._pInst.fill(b[D+3][5]),this._doStroke&&this._pInst.stroke(b[D+3][6])):(this.drawingContext.moveTo(C[0],C[1]),this.drawingContext.lineTo(b[D+1][0],b[D+1][1])),this._doFillStrokeClose(F)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(b[0][0],b[0][1]),D=1;D<M;D++)(C=b[D]).isVert&&(C.moveTo?this.drawingContext.moveTo(C[0],C[1]):this.drawingContext.lineTo(C[0],C[1]));this._doFillStrokeClose(F)}else{for(this.drawingContext.beginPath(),D=0;D<M;D++)b[D].isVert?b[D].moveTo?this.drawingContext.moveTo(b[D][0],b[D][1]):this.drawingContext.lineTo(b[D][0],b[D][1]):this.drawingContext.quadraticCurveTo(b[D][0],b[D][1],b[D][2],b[D][3]);this._doFillStrokeClose(F)}else{for(this.drawingContext.beginPath(),D=0;D<M;D++)b[D].isVert?b[D].moveTo?this.drawingContext.moveTo(b[D][0],b[D][1]):this.drawingContext.lineTo(b[D][0],b[D][1]):this.drawingContext.bezierCurveTo(b[D][0],b[D][1],b[D][2],b[D][3],b[D][4],b[D][5]);this._doFillStrokeClose(F)}else if(3<M){var L=[],z=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(b[1][0],b[1][1]),D=1;D+2<M;D++)C=b[D],L[0]=[C[0],C[1]],L[1]=[C[0]+(z*b[D+1][0]-z*b[D-1][0])/6,C[1]+(z*b[D+1][1]-z*b[D-1][1])/6],L[2]=[b[D+1][0]+(z*b[D][0]-z*b[D+2][0])/6,b[D+1][1]+(z*b[D][1]-z*b[D+2][1])/6],L[3]=[b[D+1][0],b[D+1][1]],this.drawingContext.bezierCurveTo(L[1][0],L[1][1],L[2][0],L[2][1],L[3][0],L[3][1]);F&&this.drawingContext.lineTo(b[D+1][0],b[D+1][1]),this._doFillStrokeClose(F)}R=x=T=A=!1,F&&b.pop()}return this}},{key:"strokeCap",value:function(m){return m!==l.ROUND&&m!==l.SQUARE&&m!==l.PROJECT||(this.drawingContext.lineCap=m),this}},{key:"strokeJoin",value:function(m){return m!==l.ROUND&&m!==l.BEVEL&&m!==l.MITER||(this.drawingContext.lineJoin=m),this}},{key:"strokeWeight",value:function(m){return this.drawingContext.lineWidth=m===void 0||m===0?1e-4:m,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(m){m!==this._cachedFillStyle&&(this.drawingContext.fillStyle=m,this._cachedFillStyle=m)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(m){m!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=m,this._cachedStrokeStyle=m)}},{key:"bezier",value:function(m,b,A,T,x,R,S,C){return this._pInst.beginShape(),this._pInst.vertex(m,b),this._pInst.bezierVertex(A,T,x,R,S,C),this._pInst.endShape(),this}},{key:"curve",value:function(m,b,A,T,x,R,S,C){return this._pInst.beginShape(),this._pInst.curveVertex(m,b),this._pInst.curveVertex(A,T),this._pInst.curveVertex(x,R),this._pInst.curveVertex(S,C),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(m){m&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(m,b,A,T,x,R){this.drawingContext.transform(m,b,A,T,x,R)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(m){this.drawingContext.rotate(m)}},{key:"scale",value:function(m,b){return this.drawingContext.scale(m,b),this}},{key:"translate",value:function(m,b){return m instanceof i.default.Vector&&(b=m.y,m=m.x),this.drawingContext.translate(m,b),this}},{key:"_renderText",value:function(m,b,A,T,x,R){if(!(T<R||x<=T))return m.push(),this._isOpenType()?this._textFont._renderPath(b,A,T,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(b,A,T),this._doFill&&(this._fillSet||this._setFill(l._DEFAULT_TEXT_FILL),this.drawingContext.fillText(b,A,T))),m.pop(),m}},{key:"textWidth",value:function(m){return this._isOpenType()?this._textFont._textWidth(m,this._textSize):this.drawingContext.measureText(m).width}},{key:"_applyTextProperties",value:function(){var m,b=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),m=this._textFont,this._isOpenType()&&(m=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(m||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===l.CENTER?this.drawingContext.textBaseline=l._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,b}},{key:"push",value:function(){return this.drawingContext.save(),n(s(p.prototype),"push",this).call(this)}},{key:"pop",value:function(m){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,n(s(p.prototype),"pop",this).call(this,m)}}])&&y(h.prototype,d),p}(i.default.Renderer);a.prototype.text=function(d,h,c,p,m){p!==void 0&&this.drawingContext.textBaseline===l.BASELINE&&(b=!0,this.drawingContext.textBaseline=l.TOP);var b;return p=i.default.Renderer.prototype.text.apply(this,arguments),b&&(this.drawingContext.textBaseline=l.BASELINE),p},i.default.Renderer2D=a,t=i.default.Renderer2D,_.default=t},{"./constants":262,"./main":273,"./p5.Renderer":276,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.reflect.get":183,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],278:[function(t,O,_){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var f=(t=t("./main"))&&t.__esModule?t:{default:t};function i(){return{}}f.default.prototype._promisePreloads=[];var l=!(f.default.prototype.registerPromisePreload=function(g){f.default.prototype._promisePreloads.push(g)});f.default.prototype._setupPromisePreloads=function(){var g=!0,y=!1,n=void 0;try{for(var o,s=this._promisePreloads[Symbol.iterator]();!(g=(o=s.next()).done);g=!0){var r=o.value,a=this,d=r.method,h=r.addCallbacks,c=r.legacyPreloadSetup,p=r.target||this,m=p[d].bind(p);if(p===f.default.prototype){if(l)continue;a=null,m=p[d]}p[d]=this._wrapPromisePreload(a,m,h),c&&(p[c.method]=this._legacyPreloadGenerator(a,c,p[d]))}}catch(b){y=!0,n=b}finally{try{g||s.return==null||s.return()}finally{if(y)throw n}}l=!0},f.default.prototype._wrapPromisePreload=function(g,y,n){var o=function(){for(var s=this,r=(this._incrementPreload(),null),a=null,d=arguments.length,h=new Array(d),c=0;c<d;c++)h[c]=arguments[c];if(n)for(var p=h.length-1;0<=p&&!a&&typeof h[p]=="function";p--)a=r,r=h.pop();var m=Promise.resolve(y.apply(this,h));return r&&m.then(r),a&&m.catch(a),m.then(function(){return s._decrementPreload()}),m};return g?o.bind(g):o},f.default.prototype._legacyPreloadGenerator=function(g,y,n){var o=y.createBaseObject||i;return y=function(){var s=this;this._incrementPreload();for(var r=arguments.length,a=new Array(r),d=0;d<r;d++)a[d]=arguments[d];var h=o.apply(this,a);return n.apply(this,a).then(function(c){Object.assign(h,c),s._decrementPreload()}),h},g?y.bind(g):y}},{"./main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],279:[function(t,O,_){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var i=(n=t("./main"))&&n.__esModule?n:{default:n},l=function(o){if(o&&o.__esModule)return o;if(o===null||g(o)!=="object"&&typeof o!="function")return{default:o};var s=function(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,c)}();if(s&&s.has(o))return s.get(o);var r,a={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in o){var h;Object.prototype.hasOwnProperty.call(o,r)&&((h=d?Object.getOwnPropertyDescriptor(o,r):null)&&(h.get||h.set)?Object.defineProperty(a,r,h):a[r]=o[r])}return a.default=o,s&&s.set(o,a),a}(t("./constants"));function g(o){return(g=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(s){return f(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":f(s)})(o)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var y="defaultCanvas0",n=(i.default.prototype.createCanvas=function(o,s,r,a){var d,h,c;if(i.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(r=l.P2D,a=arguments[2]):d=r||l.P2D,a)(c=document.getElementById(y))&&c.parentNode.removeChild(c),c=a,this._defaultGraphicsCreated=!1;else{if(d===l.WEBGL)(c=document.getElementById(y))&&(c.parentNode.removeChild(c),h=this._renderer,this._elements=this._elements.filter(function(m){return m!==h})),(c=document.createElement("canvas")).id=y,c.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)c=this.canvas;else{c=a||document.createElement("canvas");for(var p=0;document.getElementById("defaultCanvas".concat(p));)p++;y="defaultCanvas".concat(p),c.id=y,c.classList.add("p5Canvas")}this._setupDone||(c.dataset.hidden=!0,c.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(r=document.createElement("main"),document.body.appendChild(r)),document.getElementsByTagName("main")[0])).appendChild(c)}return d===l.WEBGL?(this._setProperty("_renderer",new i.default.RendererGL(c,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new i.default.Renderer2D(c,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(o,s),this._renderer._applyDefaults(),this._renderer},i.default.prototype.resizeCanvas=function(o,s,r){if(i.default._validateParameters("resizeCanvas",arguments),this._renderer){var a,d,h={};for(a in this.drawingContext){var c=this.drawingContext[a];g(c)!=="object"&&typeof c!="function"&&(h[a]=c)}for(d in this.width=o,this.height=s,this._renderer.resize(o,s),h)try{this.drawingContext[d]=h[d]}catch{}r||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},i.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},i.default.prototype.createGraphics=function(o,s,r,a){return arguments[2]instanceof HTMLCanvasElement&&(r=l.P2D,a=arguments[2]),i.default._validateParameters("createGraphics",arguments),new i.default.Graphics(o,s,r,this,a)},i.default.prototype.createFramebuffer=function(o){return new i.default.Framebuffer(this,o)},i.default.prototype.blendMode=function(o){i.default._validateParameters("blendMode",arguments),o===l.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),o=l.BLEND),this._renderer.blendMode(o)},i.default);_.default=n},{"../webgl/p5.RendererGL":328,"./constants":262,"./main":273,"./p5.Graphics":275,"./p5.Renderer2D":277,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],280:[function(t,O,_){function f(s){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(s)}function i(s){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(r){return f(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":f(r)})(s)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var l=n(t("../main")),g=function(s){if(s&&s.__esModule)return s;if(s===null||i(s)!=="object"&&typeof s!="function")return{default:s};var r=function(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,p)}();if(r&&r.has(s))return r.get(s);var a,d={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in s){var c;Object.prototype.hasOwnProperty.call(s,a)&&((c=h?Object.getOwnPropertyDescriptor(s,a):null)&&(c.get||c.set)?Object.defineProperty(d,a,c):d[a]=s[a])}return d.default=s,r&&r.set(s,d),d}(t("../constants")),y=n(t("../helpers"));function n(s){return s&&s.__esModule?s:{default:s}}function o(s){return function(r){if(Array.isArray(r)){for(var a=0,d=new Array(r.length);a<r.length;a++)d[a]=r[a];return d}}(s)||function(r){if(Symbol.iterator in Object(r)||Object.prototype.toString.call(r)==="[object Arguments]")return Array.from(r)}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),l.default.prototype._normalizeArcAngles=function(s,r,a,d,h){var c;return s-=g.TWO_PI*Math.floor(s/g.TWO_PI),r-=g.TWO_PI*Math.floor(r/g.TWO_PI),c=Math.min(Math.abs(s-r),g.TWO_PI-Math.abs(s-r)),h&&(s=s<=g.HALF_PI?Math.atan(a/d*Math.tan(s)):s>g.HALF_PI&&s<=3*g.HALF_PI?Math.atan(a/d*Math.tan(s))+g.PI:Math.atan(a/d*Math.tan(s))+g.TWO_PI,r=r<=g.HALF_PI?Math.atan(a/d*Math.tan(r)):r>g.HALF_PI&&r<=3*g.HALF_PI?Math.atan(a/d*Math.tan(r))+g.PI:Math.atan(a/d*Math.tan(r))+g.TWO_PI),r<s&&(r+=g.TWO_PI),{start:s,stop:r,correspondToSamePoint:c<1e-5}},l.default.prototype.arc=function(s,r,a,d,h,c,p,m){return l.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&h!==c&&(h=this._toRadians(h),c=this._toRadians(c),a=Math.abs(a),d=Math.abs(d),s=y.default.modeAdjust(s,r,a,d,this._renderer._ellipseMode),(r=this._normalizeArcAngles(h,c,s.w,s.h,!0)).correspondToSamePoint?this._renderer.ellipse([s.x,s.y,s.w,s.h,m]):(this._renderer.arc(s.x,s.y,s.w,s.h,r.start,r.stop,p,m),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[s.x,s.y,s.w,s.h,r.start,r.stop,p]))),this},l.default.prototype.ellipse=function(s,r,a,d,h){return l.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},l.default.prototype.circle=function(){l.default._validateParameters("circle",arguments);var s=Array.prototype.slice.call(arguments,0,2);return s.push(arguments[2]),s.push(arguments[2]),this._renderEllipse.apply(this,o(s))},l.default.prototype._renderEllipse=function(s,r,a,d,h){return(this._renderer._doStroke||this._renderer._doFill)&&(a<0&&(a=Math.abs(a)),d===void 0?d=a:d<0&&(d=Math.abs(d)),s=y.default.modeAdjust(s,r,a,d,this._renderer._ellipseMode),this._renderer.ellipse([s.x,s.y,s.w,s.h,h]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[s.x,s.y,s.w,s.h])),this},l.default.prototype.line=function(){for(var s,r=arguments.length,a=new Array(r),d=0;d<r;d++)a[d]=arguments[d];return l.default._validateParameters("line",a),this._renderer._doStroke&&(s=this._renderer).line.apply(s,a),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",a),this},l.default.prototype.point=function(){for(var s,r=arguments.length,a=new Array(r),d=0;d<r;d++)a[d]=arguments[d];return l.default._validateParameters("point",a),this._renderer._doStroke&&(a.length===1&&a[0]instanceof l.default.Vector?this._renderer.point.call(this._renderer,a[0].x,a[0].y,a[0].z):((s=this._renderer).point.apply(s,a),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",a))),this},l.default.prototype.quad=function(){for(var s,r=arguments.length,a=new Array(r),d=0;d<r;d++)a[d]=arguments[d];return l.default._validateParameters("quad",a),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&a.length<12?this._renderer.quad.call(this._renderer,a[0],a[1],0,a[2],a[3],0,a[4],a[5],0,a[6],a[7],0,a[8],a[9]):((s=this._renderer).quad.apply(s,a),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",a))),this},l.default.prototype.rect=function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return l.default._validateParameters("rect",r),this._renderRect.apply(this,r)},l.default.prototype.square=function(s,r,a,d,h,c,p){return l.default._validateParameters("square",arguments),this._renderRect.call(this,s,r,a,a,d,h,c,p)},l.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var s=y.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),r=[s.x,s.y,s.w,s.h],a=4;a<arguments.length;a++)r[a]=arguments[a];this._renderer.rect(r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[s.x,s.y,s.w,s.h])}return this},l.default.prototype.triangle=function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return l.default._validateParameters("triangle",r),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",r),this},t=l.default,_.default=t},{"../constants":262,"../friendly_errors/fes_core":264,"../friendly_errors/file_errors":265,"../friendly_errors/validate_params":268,"../helpers":269,"../main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],281:[function(t,O,_){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(n)}function i(n){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(o){return f(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":f(o)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var l=(y=t("../main"))&&y.__esModule?y:{default:y},g=function(n){if(n&&n.__esModule)return n;if(n===null||i(n)!=="object"&&typeof n!="function")return{default:n};var o=function(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,h)}();if(o&&o.has(n))return o.get(n);var s,r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in n){var d;Object.prototype.hasOwnProperty.call(n,s)&&((d=a?Object.getOwnPropertyDescriptor(n,s):null)&&(d.get||d.set)?Object.defineProperty(r,s,d):r[s]=n[s])}return r.default=n,o&&o.set(n,r),r}(t("../constants"));l.default.prototype.ellipseMode=function(n){return l.default._validateParameters("ellipseMode",arguments),n!==g.CORNER&&n!==g.CORNERS&&n!==g.RADIUS&&n!==g.CENTER||(this._renderer._ellipseMode=n),this},l.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},l.default.prototype.rectMode=function(n){return l.default._validateParameters("rectMode",arguments),n!==g.CORNER&&n!==g.CORNERS&&n!==g.RADIUS&&n!==g.CENTER||(this._renderer._rectMode=n),this},l.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},l.default.prototype.strokeCap=function(n){return l.default._validateParameters("strokeCap",arguments),n!==g.ROUND&&n!==g.SQUARE&&n!==g.PROJECT||this._renderer.strokeCap(n),this},l.default.prototype.strokeJoin=function(n){return l.default._validateParameters("strokeJoin",arguments),n!==g.ROUND&&n!==g.BEVEL&&n!==g.MITER||this._renderer.strokeJoin(n),this},l.default.prototype.strokeWeight=function(n){return l.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(n),this};var y=l.default;_.default=y},{"../constants":262,"../main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],282:[function(t,O,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=(i=t("../main"))&&i.__esModule?i:{default:i};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),f.default.prototype.bezier=function(){for(var l,g=arguments.length,y=new Array(g),n=0;n<g;n++)y[n]=arguments[n];return f.default._validateParameters("bezier",y),(this._renderer._doStroke||this._renderer._doFill)&&(l=this._renderer).bezier.apply(l,y),this},f.default.prototype.bezierDetail=function(l){return f.default._validateParameters("bezierDetail",arguments),this._bezierDetail=l,this},f.default.prototype.bezierPoint=function(l,g,y,n,o){f.default._validateParameters("bezierPoint",arguments);var s=1-o;return Math.pow(s,3)*l+3*Math.pow(s,2)*o*g+3*s*Math.pow(o,2)*y+Math.pow(o,3)*n},f.default.prototype.bezierTangent=function(l,g,y,n,o){f.default._validateParameters("bezierTangent",arguments);var s=1-o;return 3*n*Math.pow(o,2)-3*y*Math.pow(o,2)+6*y*s*o-6*g*s*o+3*g*Math.pow(s,2)-3*l*Math.pow(s,2)},f.default.prototype.curve=function(){for(var l,g=arguments.length,y=new Array(g),n=0;n<g;n++)y[n]=arguments[n];return f.default._validateParameters("curve",y),this._renderer._doStroke&&(l=this._renderer).curve.apply(l,y),this},f.default.prototype.curveDetail=function(l){return f.default._validateParameters("curveDetail",arguments),this._curveDetail=l<3?3:l,this},f.default.prototype.curveTightness=function(l){return f.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=l,this},f.default.prototype.curvePoint=function(l,g,y,n,o){f.default._validateParameters("curvePoint",arguments);var s=this._renderer._curveTightness,r=o*o*o,a=o*o;return l*((s-1)/2*r+(1-s)*a+(s-1)/2*o)+g*((s+3)/2*r+(-5-s)/2*a+1)+y*((-3-s)/2*r+(s+2)*a+(1-s)/2*o)+n*((1-s)/2*r+(s-1)/2*a)},f.default.prototype.curveTangent=function(l,g,y,n,o){f.default._validateParameters("curveTangent",arguments);var s=this._renderer._curveTightness,r=o*o*3;return l*((s-1)/2*r+(1-s)*(o=2*o)+(s-1)/2)+g*((s+3)/2*r+(-5-s)/2*o)+y*((-3-s)/2*r+(s+2)*o+(1-s)/2)+n*((1-s)/2*r+(s-1)/2*o)};var i=f.default;_.default=i},{"../friendly_errors/fes_core":264,"../friendly_errors/file_errors":265,"../friendly_errors/validate_params":268,"../main":273}],283:[function(t,O,_){function f(p){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}function i(p){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(m){return f(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":f(m)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var l=(c=t("../main"))&&c.__esModule?c:{default:c},g=function(p){if(p&&p.__esModule)return p;if(p===null||i(p)!=="object"&&typeof p!="function")return{default:p};var m=function(){var R;return typeof WeakMap!="function"?null:(R=new WeakMap,R)}();if(m&&m.has(p))return m.get(p);var b,A={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in p){var x;Object.prototype.hasOwnProperty.call(p,b)&&((x=T?Object.getOwnPropertyDescriptor(p,b):null)&&(x.get||x.set)?Object.defineProperty(A,b,x):A[b]=p[b])}return A.default=p,m&&m.set(p,A),A}(t("../constants")),y=null,n=[],o=[],s=!1,r=!1,a=!1,d=!1,h=!0,c=(l.default.prototype.beginContour=function(){return o=[],d=!0,this},l.default.prototype.beginShape=function(p){var m;return l.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(m=this._renderer).beginShape.apply(m,arguments):(y=p===g.POINTS||p===g.LINES||p===g.TRIANGLES||p===g.TRIANGLE_FAN||p===g.TRIANGLE_STRIP||p===g.QUADS||p===g.QUAD_STRIP?p:null,n=[],o=[]),this},l.default.prototype.bezierVertex=function(){for(var p,m=arguments.length,b=new Array(m),A=0;A<m;A++)b[A]=arguments[A];if(l.default._validateParameters("bezierVertex",b),this._renderer.isP3D)(p=this._renderer).bezierVertex.apply(p,b);else if(n.length===0)l.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{s=!0;for(var T=[],x=0;x<b.length;x++)T[x]=b[x];T.isVert=!1,(d?o:n).push(T)}return this},l.default.prototype.curveVertex=function(){for(var p,m=arguments.length,b=new Array(m),A=0;A<m;A++)b[A]=arguments[A];return l.default._validateParameters("curveVertex",b),this._renderer.isP3D?(p=this._renderer).curveVertex.apply(p,b):(r=!0,this.vertex(b[0],b[1])),this},l.default.prototype.endContour=function(){var p=o[0].slice();p.isVert=o[0].isVert,p.moveTo=!1,o.push(p),h&&(n.push(n[0]),h=!1);for(var m=0;m<o.length;m++)n.push(o[m]);return this},l.default.prototype.endShape=function(p){if(l.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(p,r,s,a,d,y);else{if(n.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var m=p===g.CLOSE;m&&!d&&n.push(n[0]),this._renderer.endShape(p,n,r,s,a,d,y),h=!(d=a=s=r=!1),m&&n.pop()}return this},l.default.prototype.quadraticVertex=function(){for(var p,m=arguments.length,b=new Array(m),A=0;A<m;A++)b[A]=arguments[A];if(l.default._validateParameters("quadraticVertex",b),this._renderer.isP3D)(p=this._renderer).quadraticVertex.apply(p,b);else{if(this._contourInited)return(p={}).x=b[0],p.y=b[1],p.x3=b[2],p.y3=b[3],p.type=g.QUADRATIC,this._contourVertices.push(p),this;if(0<n.length){a=!0;for(var T=[],x=0;x<b.length;x++)T[x]=b[x];T.isVert=!1,(d?o:n).push(T)}else l.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},l.default.prototype.vertex=function(p,m,b,A,T){var x;return this._renderer.isP3D?(x=this._renderer).vertex.apply(x,arguments):((x=[]).isVert=!0,x[0]=p,x[1]=m,x[2]=0,x[3]=0,x[4]=0,x[5]=this._renderer._getFill(),x[6]=this._renderer._getStroke(),b&&(x.moveTo=b),(d?(o.length===0&&(x.moveTo=!0),o):n).push(x)),this},l.default.prototype.normal=function(p,m,b){var A;return this._assert3d("normal"),l.default._validateParameters("normal",arguments),(A=this._renderer).normal.apply(A,arguments),this},l.default);_.default=c},{"../constants":262,"../main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],284:[function(t,O,_){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(o)}function i(o){return function(s){if(Array.isArray(s)){for(var r=0,a=new Array(s.length);r<s.length;r++)a[r]=s[r];return a}}(o)||function(s){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]")return Array.from(s)}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(o){return(l=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(s){return f(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":f(s)})(o)}var g,y,n;t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(o,s){window.setTimeout(o,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),Object.assign||(g=Object.keys,t=Object.defineProperty,y=typeof Symbol=="function"&&l(Symbol())==="symbol",n=Object.prototype.propertyIsEnumerable,t(Object,"assign",{value:function(o,s){if(o==null)throw new TypeError("target must be an object");for(var r,a=Object(o),d=1;d<arguments.length;++d){var h=Object(arguments[d]),c=g(h);for(y&&Object.getOwnPropertySymbols&&c.push.apply(c,i(Object.getOwnPropertySymbols(h).filter(function(p){return function(m){return n.call(p,m)}}(h)))),r=0;r<c.length;++r)a[c[r]]=h[c[r]]}return a},configurable:!0,enumerable:!1,writable:!0}))},{"core-js/modules/es.array.filter":155,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/web.dom-collections.iterator":236}],285:[function(t,O,_){t("core-js/modules/es.array.for-each"),t("core-js/modules/es.object.assign"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.object.assign"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,(t=(t=t("./main"))&&t.__esModule?t:{default:t}).default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var f=this._styles.pop();f?(this._renderer.pop(f.renderer),Object.assign(this,f.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(f){if(!this._inUserDraw&&this._setupDone){var i=parseInt(f),l=((isNaN(i)||i<1)&&(i=1),this._isGlobal?window:this);if(typeof l.draw=="function"){l.setup===void 0&&l.scale(l._pixelDensity,l._pixelDensity);for(var g=function(n){n.call(l)},y=0;y<i;y++){l.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),l._renderer.isP3D&&l._renderer._update(),l._setProperty("frameCount",l.frameCount+1),l._registeredMethods.pre.forEach(g),this._inUserDraw=!0;try{l.draw()}finally{this._inUserDraw=!1}l._registeredMethods.post.forEach(g)}}}},t=t.default,_.default=t},{"./main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.object.assign":174,"core-js/modules/web.dom-collections.for-each":235}],286:[function(t,O,_){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=(t=t("./main"))&&t.__esModule?t:{default:t};function i(l){return function(g){if(Array.isArray(g)){for(var y=0,n=new Array(g.length);y<g.length;y++)n[y]=g[y];return n}}(l)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}f.default.prototype.applyMatrix=function(){var l=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||l?(l=this._renderer).applyMatrix.apply(l,i(arguments.length<=0?void 0:arguments[0])):(l=this._renderer).applyMatrix.apply(l,arguments),this},f.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},f.default.prototype.rotate=function(l,g){return f.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(l),g),this},f.default.prototype.rotateX=function(l){return this._assert3d("rotateX"),f.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(l)),this},f.default.prototype.rotateY=function(l){return this._assert3d("rotateY"),f.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(l)),this},f.default.prototype.rotateZ=function(l){return this._assert3d("rotateZ"),f.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(l)),this},f.default.prototype.scale=function(l,g,y){var n;return f.default._validateParameters("scale",arguments),l instanceof f.default.Vector?(l=(n=l).x,g=n.y,y=n.z):l instanceof Array&&(l=(n=l)[0],g=n[1],y=n[2]||1),isNaN(g)?g=y=l:isNaN(y)&&(y=1),this._renderer.scale.call(this._renderer,l,g,y),this},f.default.prototype.shearX=function(l){return f.default._validateParameters("shearX",arguments),l=this._toRadians(l),this._renderer.applyMatrix(1,0,Math.tan(l),1,0,0),this},f.default.prototype.shearY=function(l){return f.default._validateParameters("shearY",arguments),l=this._toRadians(l),this._renderer.applyMatrix(1,Math.tan(l),0,1,0,0),this},f.default.prototype.translate=function(l,g,y){return f.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(l,g,y):this._renderer.translate(l,g),this},t=f.default,_.default=t},{"./main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.iterator":236}],287:[function(t,O,_){function f(y){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(y){return function(n){if(Array.isArray(n)){for(var o=0,s=new Array(n.length);o<n.length;o++)s[o]=n[o];return s}}(y)||function(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(y){return(g=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(n){return f(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":f(n)})(y)}i.default.prototype.storeItem=function(y,n){typeof y!="string"&&console.log("The argument that you passed to storeItem() - ".concat(y," is not a string.")),y.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(y," must not end with 'p5TypeID'.")),n===void 0&&console.log("You cannot store undefined variables using storeItem().");var o=g(n);switch(o){case"number":case"boolean":n=n.toString();break;case"object":n instanceof i.default.Color?o="p5.Color":n instanceof i.default.Vector&&(o="p5.Vector",n=[n.x,n.y,n.z]),n=JSON.stringify(n)}localStorage.setItem(y,n),y="".concat(y,"p5TypeID"),localStorage.setItem(y,o)},i.default.prototype.getItem=function(y){var n=localStorage.getItem(y),o=localStorage.getItem("".concat(y,"p5TypeID"));if(o===void 0)console.log("Unable to determine type of item stored under ".concat(y,"in local storage. Did you save the item with something other than setItem()?"));else if(n!==null)switch(o){case"number":n=parseFloat(n);break;case"boolean":n=n==="true";break;case"object":n=JSON.parse(n);break;case"p5.Color":n=JSON.parse(n),n=this.color.apply(this,l(n.levels));break;case"p5.Vector":n=JSON.parse(n),n=this.createVector.apply(this,l(n))}return n},i.default.prototype.clearStorage=function(){localStorage.clear()},i.default.prototype.removeItem=function(y){typeof y!="string"&&console.log("The argument that you passed to removeItem() - ".concat(y," is not a string.")),localStorage.removeItem(y),localStorage.removeItem("".concat(y,"p5TypeID"))}},{"../core/main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.ends-with":188,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],288:[function(t,O,_){function f(a){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(a){return(l=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(d){return f(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":f(d)})(a)}function g(a,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),d&&function(h,c){(Object.setPrototypeOf||function(p,m){return p.__proto__=m,p})(h,c)}(a,d)}function y(a){return function(){var d,h=n(a);if(d=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(d=n(this).constructor,Reflect.construct(h,arguments,d)):h.apply(this,arguments),h=this,!d||l(d)!=="object"&&typeof d!="function"){if(h!==void 0)return h;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return d}}function n(a){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(a)}function o(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function")}function s(a,d){for(var h=0;h<d.length;h++){var c=d[h];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}function r(a,d,h){d&&s(a.prototype,d)}i.default.prototype.createStringDict=function(a,d){return i.default._validateParameters("createStringDict",arguments),new i.default.StringDict(a,d)},i.default.prototype.createNumberDict=function(a,d){return i.default._validateParameters("createNumberDict",arguments),new i.default.NumberDict(a,d)},i.default.TypedDict=function(){function a(d,h){return o(this,a),d instanceof Object?this.data=d:(this.data={},this.data[d]=h),this}return r(a,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(d){return this.data.hasOwnProperty(d)}},{key:"get",value:function(d){if(this.data.hasOwnProperty(d))return this.data[d];console.log("".concat(d," does not exist in this Dictionary"))}},{key:"set",value:function(d,h){this._validate(h)?this.data[d]=h:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(d){for(var h in d)this.set(h,d[h])}},{key:"create",value:function(d,h){d instanceof Object&&h===void 0?this._addObj(d):d!==void 0?this.set(d,h):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(d){if(!this.data.hasOwnProperty(d))throw new Error("".concat(d," does not exist in this Dictionary"));delete this.data[d]}},{key:"print",value:function(){for(var d in this.data)console.log("key:".concat(d," value:").concat(this.data[d]))}},{key:"saveTable",value:function(d){var h,c="";for(h in this.data)c+="".concat(h,",").concat(this.data[h],`
`);var p=new Blob([c],{type:"text/csv"});i.default.prototype.downloadFile(p,d||"mycsv","csv")}},{key:"saveJSON",value:function(d,h){i.default.prototype.saveJSON(this.data,d,h)}},{key:"_validate",value:function(d){return!0}}]),a}(),i.default.StringDict=function(){g(d,i.default.TypedDict);var a=y(d);function d(){o(this,d);for(var h=arguments.length,c=new Array(h),p=0;p<h;p++)c[p]=arguments[p];return a.call.apply(a,[this].concat(c))}return r(d,[{key:"_validate",value:function(h){return typeof h=="string"}}]),d}(),i.default.NumberDict=function(){g(d,i.default.TypedDict);var a=y(d);function d(){o(this,d);for(var h=arguments.length,c=new Array(h),p=0;p<h;p++)c[p]=arguments[p];return a.call.apply(a,[this].concat(c))}return r(d,[{key:"_validate",value:function(h){return typeof h=="number"}},{key:"add",value:function(h,c){this.data.hasOwnProperty(h)?this.data[h]+=c:console.log("The key - ".concat(h," does not exist in this dictionary."))}},{key:"sub",value:function(h,c){this.add(h,-c)}},{key:"mult",value:function(h,c){this.data.hasOwnProperty(h)?this.data[h]*=c:console.log("The key - ".concat(h," does not exist in this dictionary."))}},{key:"div",value:function(h,c){this.data.hasOwnProperty(h)?this.data[h]/=c:console.log("The key - ".concat(h," does not exist in this dictionary."))}},{key:"_valueTest",value:function(h){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var c,p=this.data[Object.keys(this.data)[0]];for(c in this.data)this.data[c]*h<p*h&&(p=this.data[c]);return p}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(h){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var c=Object.keys(this.data)[0],p=1;p<Object.keys(this.data).length;p++)Object.keys(this.data)[p]*h<c*h&&(c=Object.keys(this.data)[p]);return c}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),d}(),t=i.default.TypedDict,_.default=t},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],289:[function(t,O,_){function f(p){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(p,m){for(var b=0;b<m.length;b++){var A=m[b];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(p,A.key,A)}}function g(p,m,b){m&&l(p.prototype,m),b&&l(p,b)}function y(p,m){return(y=Object.setPrototypeOf||function(b,A){return b.__proto__=A,b})(p,m)}function n(p){return function(){var m,b,A=s(p);return m=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(m=s(this).constructor,Reflect.construct(A,arguments,m)):A.apply(this,arguments),A=this,!(b=m)||a(b)!=="object"&&typeof b!="function"?o(A):b}}function o(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function s(p){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(p)}function r(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function a(p){return(a=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(m){return f(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":f(m)})(p)}function d(p,m,b){return(m._userNode||document.body).appendChild(p),b=new(b?i.default.MediaElement:i.default.Element)(p,m),m._elements.push(b),b}function h(p,m,b,A){var T=document.createElement(m),x=(typeof(b=b||"")=="string"&&(b=[b]),!0),R=(m=!1,void 0);try{for(var S,C=b[Symbol.iterator]();!(x=(S=C.next()).done);x=!0){var D=S.value,N=document.createElement("source");N.setAttribute("src",D),T.appendChild(N)}}catch(M){m=!0,R=M}finally{try{x||C.return==null||C.return()}finally{if(m)throw R}}typeof A=="function"&&T.addEventListener("canplaythrough",function M(){A(),T.removeEventListener("canplaythrough",M)});var F=d(T,p,!0);return F.loadedmetadata=!1,T.addEventListener("loadedmetadata",function(){F.width=T.videoWidth,F.height=T.videoHeight,F.elt.width===0&&(F.elt.width=T.videoWidth),F.elt.height===0&&(F.elt.height=T.videoHeight),F.presetPlaybackRate&&(F.elt.playbackRate=F.presetPlaybackRate,delete F.presetPlaybackRate),F.loadedmetadata=!0}),F}function c(p,m,b,A){r(this,c),this.callback=p,this.time=m,this.id=b,this.val=A}i.default.prototype.select=function(p,m){return i.default._validateParameters("select",arguments),(m=this._getContainer(m).querySelector(p))?this._wrapElement(m):null},i.default.prototype.selectAll=function(p,m){i.default._validateParameters("selectAll",arguments);var b=[],A=this._getContainer(m).querySelectorAll(p);if(A)for(var T=0;T<A.length;T++){var x=this._wrapElement(A[T]);b.push(x)}return b},i.default.prototype._getContainer=function(p){var m=document;return typeof p=="string"?m=document.querySelector(p)||document:p instanceof i.default.Element?m=p.elt:p instanceof HTMLElement&&(m=p),m},i.default.prototype._wrapElement=function(p){var m,b=Array.prototype.slice.call(p.children);return p.tagName==="INPUT"&&p.type==="checkbox"?((m=new i.default.Element(p,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},m):p.tagName==="VIDEO"||p.tagName==="AUDIO"?new i.default.MediaElement(p,this):p.tagName==="SELECT"?this.createSelect(new i.default.Element(p,this)):0<b.length&&b.every(function(A){return A.tagName==="INPUT"||A.tagName==="LABEL"})?this.createRadio(new i.default.Element(p,this)):new i.default.Element(p,this)},i.default.prototype.removeElements=function(p){i.default._validateParameters("removeElements",arguments),this._elements.filter(function(m){return!(m.elt instanceof HTMLCanvasElement)}).map(function(m){return m.remove()})},i.default.Element.prototype.changed=function(p){return i.default.Element._adjustListener("change",p,this),this},i.default.Element.prototype.input=function(p){return i.default.Element._adjustListener("input",p,this),this},i.default.prototype.createDiv=function(){var p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",m=document.createElement("div");return m.innerHTML=p,d(m,this)},i.default.prototype.createP=function(){var p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",m=document.createElement("p");return m.innerHTML=p,d(m,this)},i.default.prototype.createSpan=function(){var p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",m=document.createElement("span");return m.innerHTML=p,d(m,this)},i.default.prototype.createImg=function(){i.default._validateParameters("createImg",arguments);var p,m=document.createElement("img"),b=arguments;return 1<b.length&&typeof b[1]=="string"&&(m.alt=b[1]),2<b.length&&typeof b[2]=="string"&&(m.crossOrigin=b[2]),m.src=b[0],p=d(m,this),m.addEventListener("load",function(){p.width=m.offsetWidth||m.width,p.height=m.offsetHeight||m.height;var A=b[b.length-1];typeof A=="function"&&A(p)}),p},i.default.prototype.createA=function(p,m,b){i.default._validateParameters("createA",arguments);var A=document.createElement("a");return A.href=p,A.innerHTML=m,b&&(A.target=b),d(A,this)},i.default.prototype.createSlider=function(p,m,b,A){i.default._validateParameters("createSlider",arguments);var T=document.createElement("input");return T.type="range",T.min=p,T.max=m,A===0?T.step=1e-18:A&&(T.step=A),typeof b=="number"&&(T.value=b),d(T,this)},i.default.prototype.createButton=function(p,m){i.default._validateParameters("createButton",arguments);var b=document.createElement("button");return b.innerHTML=p,m&&(b.value=m),d(b,this)},i.default.prototype.createCheckbox=function(){for(var p=arguments.length,m=new Array(p),b=0;b<p;b++)m[b]=arguments[b];i.default._validateParameters("createCheckbox",m);var A=document.createElement("div"),T=document.createElement("input"),x=(T.type="checkbox",document.createElement("label")),R=(x.appendChild(T),A.appendChild(x),d(A,this));return R.checked=function(){var S=R.elt.firstElementChild.getElementsByTagName("input")[0];if(S){if(arguments.length===0)return S.checked;S.checked=!(arguments.length<=0||!arguments[0])}return R},this.value=function(S){return R.value=S,this},m[0]&&(R.value(m[0]),(A=document.createElement("span")).innerHTML=m[0],x.appendChild(A)),m[1]&&(T.checked=!0),R},i.default.prototype.createSelect=function(){for(var p,m=arguments.length,b=new Array(m),A=0;A<m;A++)b[A]=arguments[A];i.default._validateParameters("createSelect",b);var T,x=b[0];return x instanceof i.default.Element&&x.elt instanceof HTMLSelectElement?this.elt=(p=x).elt:x instanceof HTMLSelectElement?(p=d(x,this),this.elt=x):(T=document.createElement("select"),x&&typeof x=="boolean"&&T.setAttribute("multiple","true"),p=d(T,this),this.elt=T),p.option=function(R,S){var C;if(R!==void 0){for(var D,N=0;N<this.elt.length;N+=1)if(this.elt[N].textContent===R){C=N;break}C!==void 0?S===!1?this.elt.remove(C):this.elt[C].value=S:((D=document.createElement("option")).textContent=R,D.value=S===void 0?R:S,this.elt.appendChild(D),this._pInst._elements.push(D))}},p.selected=function(R){if(R!==void 0){for(var S=0;S<this.elt.length;S+=1)this.elt[S].value.toString()===R.toString()&&(this.elt.selectedIndex=S);return this}if(this.elt.getAttribute("multiple")){var C=[],D=!0,N=!1,F=void 0;try{for(var M,L=this.elt.selectedOptions[Symbol.iterator]();!(D=(M=L.next()).done);D=!0){var z=M.value;C.push(z.value)}}catch(Y){N=!0,F=Y}finally{try{D||L.return==null||L.return()}finally{if(N)throw F}}return C}return this.elt.value},p.disable=function(R){if(typeof R=="string")for(var S=0;S<this.elt.length;S++)this.elt[S].value.toString()===R&&(this.elt[S].disabled=!0,this.elt[S].selected=!1);else this.elt.disabled=!0;return this},p.enable=function(R){if(typeof R=="string")for(var S=0;S<this.elt.length;S++)this.elt[S].value.toString()===R&&(this.elt[S].disabled=!1,this.elt[S].selected=!1);else{this.elt.disabled=!1;for(var C=0;C<this.elt.length;C++)this.elt[C].disabled=!1,this.elt[C].selected=!1}return this},p},i.default.prototype.createRadio=function(){function p(R){return R instanceof HTMLInputElement&&R.type==="radio"}function m(R){return R instanceof HTMLLabelElement}var b,A,T,x=arguments.length<=0?void 0:arguments[0];return x instanceof i.default.Element&&(x.elt instanceof HTMLDivElement||x.elt instanceof HTMLSpanElement)?(b=x,this.elt=x.elt):x instanceof HTMLDivElement||x instanceof HTMLSpanElement?(b=d(x,this),A=this.elt=x,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(T=arguments.length<=1?void 0:arguments[1])):(typeof x=="string"&&(T=x),A=document.createElement("div"),b=d(A,this),this.elt=A),b._name=T||"radioOption",b._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(R){return p(R)||m(R)&&p(R.firstElementChild)}).map(function(R){return p(R)?R:R.firstElementChild})},b.option=function(R,S){var C,D,N,F=!0,M=!1,L=void 0;try{for(var z,Y=b._getOptionsArray()[Symbol.iterator]();!(F=(z=Y.next()).done);F=!0){var Z=z.value;if(Z.value===R){C=Z;break}}}catch(ee){M=!0,L=ee}finally{try{F||Y.return==null||Y.return()}finally{if(M)throw L}}return C===void 0&&((C=document.createElement("input")).setAttribute("type","radio"),C.setAttribute("value",R)),C.setAttribute("name",b._name),m(C.parentElement)?D=C.parentElement:(D=document.createElement("label")).insertAdjacentElement("afterbegin",C),D.lastElementChild instanceof HTMLSpanElement?N=D.lastElementChild:(N=document.createElement("span"),C.insertAdjacentElement("afterend",N)),N.innerHTML=S===void 0?R:S,this.elt.appendChild(D),C},b.remove=function(R){var S=!0,C=!1,D=void 0;try{for(var N,F=b._getOptionsArray()[Symbol.iterator]();!(S=(N=F.next()).done);S=!0){var M=N.value;if(M.value===R)return void(m(M.parentElement)?M.parentElement:M).remove()}}catch(L){C=!0,D=L}finally{try{S||F.return==null||F.return()}finally{if(C)throw D}}},b.value=function(){var R="",S=!0,C=!1,D=void 0;try{for(var N,F=b._getOptionsArray()[Symbol.iterator]();!(S=(N=F.next()).done);S=!0){var M=N.value;if(M.checked){R=M.value;break}}}catch(L){C=!0,D=L}finally{try{S||F.return==null||F.return()}finally{if(C)throw D}}return R},b.selected=function(R){var S=null;if(R===void 0){var C=!0,D=!1,N=void 0;try{for(var F,M=b._getOptionsArray()[Symbol.iterator]();!(C=(F=M.next()).done);C=!0){var L=F.value;if(L.checked){S=L;break}}}catch(te){D=!0,N=te}finally{try{C||M.return==null||M.return()}finally{if(D)throw N}}}else{b._getOptionsArray().forEach(function(te){te.checked=!1,te.removeAttribute("checked")});var z=!0;D=!1,N=void 0;try{for(var Y,Z=b._getOptionsArray()[Symbol.iterator]();!(z=(Y=Z.next()).done);z=!0){var ee=Y.value;ee.value===R&&(ee.setAttribute("checked",!0),ee.checked=!0,S=ee)}}catch(te){D=!0,N=te}finally{try{z||Z.return==null||Z.return()}finally{if(D)throw N}}}return S},b.disable=function(){var R=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],S=!0,C=!1,D=void 0;try{for(var N,F=b._getOptionsArray()[Symbol.iterator]();!(S=(N=F.next()).done);S=!0)N.value.setAttribute("disabled",R)}catch(M){C=!0,D=M}finally{try{S||F.return==null||F.return()}finally{if(C)throw D}}},b},i.default.prototype.createColorPicker=function(p){i.default._validateParameters("createColorPicker",arguments);var m=document.createElement("input");return m.type="color",p?p instanceof i.default.Color?m.value=p.toString("#rrggbb"):(i.default.prototype._colorMode="rgb",i.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},m.value=i.default.prototype.color(p).toString("#rrggbb")):m.value="#000000",(m=d(m,this)).color=function(){return p&&(p.mode&&(i.default.prototype._colorMode=p.mode),p.maxes&&(i.default.prototype._colorMaxes=p.maxes)),i.default.prototype.color(this.elt.value)},m},i.default.prototype.createInput=function(){var p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",b=(i.default._validateParameters("createInput",arguments),document.createElement("input"));return b.setAttribute("value",p),b.setAttribute("type",m),d(b,this)},i.default.prototype.createFileInput=function(p){var m,b=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(i.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(m=document.createElement("input")).setAttribute("type","file"),b&&m.setAttribute("multiple",!0),m.addEventListener("change",function(A){var T=!0,x=!1,R=void 0;try{for(var S,C=A.target.files[Symbol.iterator]();!(T=(S=C.next()).done);T=!0){var D=S.value;i.default.File._load(D,p)}}catch(N){x=!0,R=N}finally{try{T||C.return==null||C.return()}finally{if(x)throw R}}},!1),d(m,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},i.default.prototype.createVideo=function(p,m){return i.default._validateParameters("createVideo",arguments),h(this,"video",p,m)},i.default.prototype.createAudio=function(p,m){return i.default._validateParameters("createAudio",arguments),h(this,"audio",p,m)},i.default.prototype.VIDEO="video",i.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(p){var m=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return m?new Promise(function(b,A){m.call(navigator,p,b,A)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),i.default.prototype.createCapture=function(){for(var p=arguments.length,m=new Array(p),b=0;b<p;b++)m[b]=arguments[b];if(i.default._validateParameters("createCapture",m),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var A,T=!0,x=!0,R=0,S=m;R<S.length;R++){var C=S[R];C===i.default.prototype.VIDEO?x=!1:C===i.default.prototype.AUDIO?T=!1:a(C)==="object"?D=C:typeof C=="function"&&(A=C)}var D=D||{video:T,audio:x},N=document.createElement("video"),F=(N.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(D).then(function(M){try{"srcObject"in N?N.srcObject=M:N.src=window.URL.createObjectURL(M)}catch{N.src=M}},console.log),d(N,this,!0));return F.loadedmetadata=!1,N.addEventListener("loadedmetadata",function(){N.play(),N.width?(F.width=N.width,F.height=N.height):(F.width=F.elt.width=N.videoWidth,F.height=F.elt.height=N.videoHeight),F.loadedmetadata=!0,A&&A(N.srcObject)}),F},i.default.prototype.createElement=function(p,m){return i.default._validateParameters("createElement",arguments),p=document.createElement(p),m!==void 0&&(p.innerHTML=m),d(p,this)},i.default.Element.prototype.addClass=function(p){return this.elt.className?this.hasClass(p)||(this.elt.className=this.elt.className+" "+p):this.elt.className=p,this},i.default.Element.prototype.removeClass=function(p){return this.elt.classList.remove(p),this},i.default.Element.prototype.hasClass=function(p){return this.elt.classList.contains(p)},i.default.Element.prototype.toggleClass=function(p){return this.elt.classList.contains(p)?this.elt.classList.remove(p):this.elt.classList.add(p),this},i.default.Element.prototype.child=function(p){return p===void 0?this.elt.childNodes:(typeof p=="string"?(p[0]==="#"&&(p=p.substring(1)),p=document.getElementById(p)):p instanceof i.default.Element&&(p=p.elt),p instanceof HTMLElement&&this.elt.appendChild(p),this)},i.default.Element.prototype.center=function(p){var m=this.elt.style.display,b=this.elt.style.display==="none",A=this.parent().style.display==="none",T={x:this.elt.offsetLeft,y:this.elt.offsetTop},x=(b&&this.show(),A&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),R=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return p==="both"||p===void 0?this.position(x/2+this.parent().offsetLeft,R/2+this.parent().offsetTop):p==="horizontal"?this.position(x/2+this.parent().offsetLeft,T.y):p==="vertical"&&this.position(T.x,R/2+this.parent().offsetTop),this.style("display",m),b&&this.hide(),A&&this.parent().hide(),this},i.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},i.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},i.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var p="";return this.elt.style.transform&&(p=(p=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=p,this},i.default.Element.prototype._rotate=function(){var p="";return this.elt.style.transform&&(p=(p=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=p,this},i.default.Element.prototype.style=function(p,m){if((m=m instanceof i.default.Color?"rgba("+m.levels[0]+","+m.levels[1]+","+m.levels[2]+","+m.levels[3]/255+")":m)===void 0){if(p.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(p);for(var b=p.split(";"),A=0;A<b.length;A++){var T=b[A].split(":");T[0]&&T[1]&&(this.elt.style[T[0].trim()]=T[1].trim())}}else this.elt.style[p]=m,p!=="width"&&p!=="height"&&p!=="left"&&p!=="top"||(m=window.getComputedStyle(this.elt).getPropertyValue(p).replace(/[^\d.]/g,""),this[p]=Math.round(parseFloat(m,10)));return this},i.default.Element.prototype.attribute=function(p,m){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return m===void 0?this.elt.getAttribute(p):(this.elt.setAttribute(p,m),this);if(m===void 0)return this.elt.firstChild.getAttribute(p);for(var b=0;b<this.elt.childNodes.length;b++)this.elt.childNodes[b].setAttribute(p,m)},i.default.Element.prototype.removeAttribute=function(p){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var m=0;m<this.elt.childNodes.length;m++)this.elt.childNodes[m].removeAttribute(p);return this.elt.removeAttribute(p),this},i.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},i.default.Element.prototype.show=function(){return this.elt.style.display="block",this},i.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},i.default.Element.prototype.size=function(p,m){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var b=p,A=m,T=i.default.prototype.AUTO;if(b!==T||A!==T){if(b===T?b=m*this.width/this.height:A===T&&(A=p*this.height/this.width),this.elt instanceof HTMLCanvasElement){var x,R={},S=this.elt.getContext("2d");for(x in S)R[x]=S[x];for(x in this.elt.setAttribute("width",b*this._pInst._pixelDensity),this.elt.setAttribute("height",A*this._pInst._pixelDensity),this.elt.style.width=b+"px",this.elt.style.height=A+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),R)this.elt.getContext("2d")[x]=R[x]}else this.elt.style.width=b+"px",this.elt.style.height=A+"px",this.elt.width=b,this.elt.height=A;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},i.default.Element.prototype.remove=function(){this instanceof i.default.MediaElement&&(this.stop(),(m=this.elt.srcObject)!==null&&m.getTracks().forEach(function(b){b.stop()}));var p,m=this._pInst._elements.indexOf(this);for(p in m!==-1&&this._pInst._elements.splice(m,1),this._events)this.elt.removeEventListener(p,this._events[p]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},i.default.Element.prototype.drop=function(p,m){var b;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",b=function(A){A.preventDefault()}),this.elt.addEventListener("dragleave",b)),i.default.Element._attachListener("drop",function(A){A.preventDefault(),typeof m=="function"&&m.call(this,A),A=A.dataTransfer.files;var T=!0,x=!1,R=void 0;try{for(var S,C=A[Symbol.iterator]();!(T=(S=C.next()).done);T=!0){var D=S.value;i.default.File._load(D,p)}}catch(N){x=!0,R=N}finally{try{T||C.return==null||C.return()}finally{if(x)throw R}}},this)):console.log("The File APIs are not fully supported in this browser."),this},t=function(p){var m=A;if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),p&&y(m,p);var b=n(A);function A(T,x){r(this,A);var R=o(x=b.call(this,T,x));return x.elt.crossOrigin="anonymous",x._prevTime=0,x._cueIDCounter=0,x._cues=[],x.pixels=[],x._pixelsState=o(x),x._pixelDensity=1,x._modified=!1,x._frameOnCanvas=-1,Object.defineProperty(R,"src",{get:function(){var S=R.elt.children[0].src,C=R.elt.src===window.location.href?"":R.elt.src;return S===window.location.href?C:S},set:function(S){for(var C=0;C<R.elt.children.length;C++)R.elt.removeChild(R.elt.children[C]);var D=document.createElement("source");D.src=S,T.appendChild(D),R.elt.src=S,R.modified=!0}}),R._onended=function(){},R.elt.onended=function(){R._onended(R)},x}return g(A,[{key:"play",value:function(){var T;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(T=this.elt.play())&&T.catch&&T.catch(function(x){x.name==="NotAllowedError"?console.error(x):console.error("Media play method encountered an unexpected error",x)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var T=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(T)},{passive:!0,once:!0})}},{key:"autoplay",value:function(T){var x=this,R=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",T),T&&!R&&(T=function(){return x._setupAutoplayFailDetection()},this.elt.readyState===4?T():this.elt.addEventListener("canplay",T,{passive:!0,once:!0})),this}},{key:"volume",value:function(T){if(T===void 0)return this.elt.volume;this.elt.volume=T}},{key:"speed",value:function(T){if(T===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=T:this.presetPlaybackRate=T}},{key:"time",value:function(T){return T===void 0?this.elt.currentTime:(this.elt.currentTime=T,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var T=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&T&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var T=arguments.length,x=new Array(T),R=0;R<T;R++)x[R]=arguments[R];return i.default.Renderer2D.prototype.loadPixels.apply(this,x)}},{key:"updatePixels",value:function(T,x,R,S){return this.loadedmetadata&&(this._ensureCanvas(),i.default.Renderer2D.prototype.updatePixels.call(this,T,x,R,S)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var T=arguments.length,x=new Array(T),R=0;R<T;R++)x[R]=arguments[R];return i.default.Renderer2D.prototype.get.apply(this,x)}},{key:"_getPixel",value:function(){this.loadPixels();for(var T=arguments.length,x=new Array(T),R=0;R<T;R++)x[R]=arguments[R];return i.default.Renderer2D.prototype._getPixel.apply(this,x)}},{key:"set",value:function(T,x,R){this.loadedmetadata&&(this._ensureCanvas(),i.default.Renderer2D.prototype.set.call(this,T,x,R),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var T=arguments.length,x=new Array(T),R=0;R<T;R++)x[R]=arguments[R];i.default.prototype.copy.apply(this,x)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var T=arguments.length,x=new Array(T),R=0;R<T;R++)x[R]=arguments[R];i.default.Image.prototype.mask.apply(this,x)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(T){this._modified=T}},{key:"onended",value:function(T){return this._onended=T,this}},{key:"connect",value:function(T){var x,R;if(typeof i.default.prototype.getAudioContext=="function")x=i.default.prototype.getAudioContext(),R=i.default.soundOut.input;else try{R=(x=T.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=x.createMediaElementSource(this.elt),this.audioSourceNode.connect(R)),T?T.input?this.audioSourceNode.connect(T.input):this.audioSourceNode.connect(T):this.audioSourceNode.connect(R)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(T,x,R){var S=this._cueIDCounter++;return x=new c(x,T,S,R),this._cues.push(x),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),S}},{key:"removeCue",value:function(T){for(var x=0;x<this._cues.length;x++)this._cues[x].id===T&&(console.log(T),this._cues.splice(x,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var T=this.time(),x=0;x<this._cues.length;x++){var R=this._cues[x].time,S=this._cues[x].val;this._prevTime<R&&R<=T&&this._cues[x].callback(S)}this._prevTime=T}}]),A}(i.default.Element),i.default.MediaElement=t,t=function(){function p(m,b){r(this,p),this.file=m,this._pInst=b,b=m.type.split("/"),this.type=b[0],this.subtype=b[1],this.name=m.name,this.size=m.size,this.data=void 0}return g(p,null,[{key:"_createLoader",value:function(m,b){var A=new FileReader;return A.onload=function(T){var x,R=new i.default.File(m);R.file.type==="application/json"?R.data=JSON.parse(T.target.result):R.file.type==="text/xml"?(x=new DOMParser().parseFromString(T.target.result,"text/xml"),R.data=new i.default.XML(x.documentElement)):R.data=T.target.result,b(R)},A}},{key:"_load",value:function(m,b){var A;/^text\//.test(m.type)||m.type==="application/json"?i.default.File._createLoader(m,b).readAsText(m):/^(video|audio)\//.test(m.type)?((A=new i.default.File(m)).data=URL.createObjectURL(m),b(A)):i.default.File._createLoader(m,b).readAsDataURL(m)}}]),p}(),i.default.File=t,t=i.default,_.default=t},{"../core/main":273,"core-js/modules/es.array.every":153,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236,"core-js/modules/web.url":238}],290:[function(t,O,_){function f(p){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}function i(p){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(m){return f(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":f(m)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var l=(c=t("../core/main"))&&c.__esModule?c:{default:c},g=function(p){if(p&&p.__esModule)return p;if(p===null||i(p)!=="object"&&typeof p!="function")return{default:p};var m=function(){var R;return typeof WeakMap!="function"?null:(R=new WeakMap,R)}();if(m&&m.has(p))return m.get(p);var b,A={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in p){var x;Object.prototype.hasOwnProperty.call(p,b)&&((x=T?Object.getOwnPropertyDescriptor(p,b):null)&&(x.get||x.set)?Object.defineProperty(A,b,x):A[b]=p[b])}return A.default=p,m&&m.set(p,A),A}(t("../core/constants"));l.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",l.default.prototype.accelerationX=0,l.default.prototype.accelerationY=0,l.default.prototype.accelerationZ=0,l.default.prototype.pAccelerationX=0,l.default.prototype.pAccelerationY=0,l.default.prototype.pAccelerationZ=0,l.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},l.default.prototype.rotationX=0,l.default.prototype.rotationY=0,l.default.prototype.rotationZ=0,l.default.prototype.pRotationX=0,l.default.prototype.pRotationY=0;var y=l.default.prototype.pRotationZ=0,n=0,o=0,s="clockwise",r="clockwise",a="clockwise",d=(l.default.prototype.pRotateDirectionX=void 0,l.default.prototype.pRotateDirectionY=void 0,l.default.prototype.pRotateDirectionZ=void 0,l.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},l.default.prototype.turnAxis=void 0,.5),h=30,c=(l.default.prototype.setMoveThreshold=function(p){l.default._validateParameters("setMoveThreshold",arguments),d=p},l.default.prototype.setShakeThreshold=function(p){l.default._validateParameters("setShakeThreshold",arguments),h=p},l.default.prototype._ondeviceorientation=function(p){this._updatePRotations(),this._angleMode===g.radians&&(p.beta=p.beta*(_PI/180),p.gamma=p.gamma*(_PI/180),p.alpha=p.alpha*(_PI/180)),this._setProperty("rotationX",p.beta),this._setProperty("rotationY",p.gamma),this._setProperty("rotationZ",p.alpha),this._handleMotion()},l.default.prototype._ondevicemotion=function(p){this._updatePAccelerations(),this._setProperty("accelerationX",2*p.acceleration.x),this._setProperty("accelerationY",2*p.acceleration.y),this._setProperty("accelerationZ",2*p.acceleration.z),this._handleMotion()},l.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var p,m,b,A,T,x=this._isGlobal?window:this;typeof x.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>d||Math.abs(this.accelerationY-this.pAccelerationY)>d||Math.abs(this.accelerationZ-this.pAccelerationZ)>d)&&x.deviceMoved(),typeof x.deviceTurned=="function"&&(m=this.rotationX+180,p=this.pRotationX+180,b=y+180,0<m-p&&m-p<270||m-p<-270?s="clockwise":(m-p<0||270<m-p)&&(s="counter-clockwise"),s!==this.pRotateDirectionX&&(b=m),90<Math.abs(m-b)&&Math.abs(m-b)<270&&(b=m,this._setProperty("turnAxis","X"),x.deviceTurned()),this.pRotateDirectionX=s,y=b-180,p=this.rotationY+180,m=this.pRotationY+180,b=n+180,0<p-m&&p-m<270||p-m<-270?r="clockwise":(p-m<0||270<p-this.pRotationY)&&(r="counter-clockwise"),r!==this.pRotateDirectionY&&(b=p),90<Math.abs(p-b)&&Math.abs(p-b)<270&&(b=p,this._setProperty("turnAxis","Y"),x.deviceTurned()),this.pRotateDirectionY=r,n=b-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?a="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(a="counter-clockwise"),a!==this.pRotateDirectionZ&&(o=this.rotationZ),90<Math.abs(this.rotationZ-o)&&Math.abs(this.rotationZ-o)<270&&(o=this.rotationZ,this._setProperty("turnAxis","Z"),x.deviceTurned()),this.pRotateDirectionZ=a,this._setProperty("turnAxis",void 0)),typeof x.deviceShaken=="function"&&(this.pAccelerationX!==null&&(A=Math.abs(this.accelerationX-this.pAccelerationX),T=Math.abs(this.accelerationY-this.pAccelerationY)),h<A+T&&x.deviceShaken())},l.default);_.default=c},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],291:[function(t,O,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};f.default.prototype.isKeyPressed=!1,f.default.prototype.keyIsPressed=!1,f.default.prototype.key="",f.default.prototype.keyCode=0,f.default.prototype._onkeydown=function(i){var l;this._downKeys[i.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",i.which),this._downKeys[i.which]=!0,this._setProperty("key",i.key||String.fromCharCode(i.which)||i.which),typeof(l=this._isGlobal?window:this).keyPressed!="function"||i.charCode||l.keyPressed(i)===!1&&i.preventDefault())},f.default.prototype._onkeyup=function(i){this._downKeys[i.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",i.key||String.fromCharCode(i.which)||i.which),this._setProperty("keyCode",i.which);var l=this._isGlobal?window:this;typeof l.keyReleased=="function"&&l.keyReleased(i)===!1&&i.preventDefault()},f.default.prototype._onkeypress=function(i){var l;i.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",i.which),this._setProperty("key",i.key||String.fromCharCode(i.which)||i.which),typeof(l=this._isGlobal?window:this).keyTyped=="function"&&l.keyTyped(i)===!1&&i.preventDefault())},f.default.prototype._onblur=function(i){this._downKeys={}},f.default.prototype.keyIsDown=function(i){return f.default._validateParameters("keyIsDown",arguments),this._downKeys[i]||!1},f.default.prototype._areDownKeys=function(){for(var i in this._downKeys)if(this._downKeys.hasOwnProperty(i)&&this._downKeys[i]===!0)return!0;return!1},t=f.default,_.default=t},{"../core/main":273}],292:[function(t,O,_){function f(y){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(y)}function i(y){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(n){return f(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":f(n)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var l=(l=t("../core/main"))&&l.__esModule?l:{default:l},g=function(y){if(y&&y.__esModule)return y;if(y===null||i(y)!=="object"&&typeof y!="function")return{default:y};var n=function(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,d)}();if(n&&n.has(y))return n.get(y);var o,s={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in y){var a;Object.prototype.hasOwnProperty.call(y,o)&&((a=r?Object.getOwnPropertyDescriptor(y,o):null)&&(a.get||a.set)?Object.defineProperty(s,o,a):s[o]=y[o])}return s.default=y,n&&n.set(y,s),s}(t("../core/constants"));l.default.prototype.movedX=0,l.default.prototype.movedY=0,l.default.prototype._hasMouseInteracted=!1,l.default.prototype.mouseX=0,l.default.prototype.mouseY=0,l.default.prototype.pmouseX=0,l.default.prototype.pmouseY=0,l.default.prototype.winMouseX=0,l.default.prototype.winMouseY=0,l.default.prototype.pwinMouseX=0,l.default.prototype.pwinMouseY=0,l.default.prototype.mouseButton=0,l.default.prototype.mouseIsPressed=!1,l.default.prototype._updateNextMouseCoords=function(y){var n,o,s,r,a;this._curElement!==null&&(!y.touches||0<y.touches.length)&&(n=this._curElement.elt,o=this.width,s=this.height,(r=y)&&!r.clientX&&(r.touches?r=r.touches[0]:r.changedTouches&&(r=r.changedTouches[0])),a=n.getBoundingClientRect(),o=n.scrollWidth/o||1,n=n.scrollHeight/s||1,s={x:(r.clientX-a.left)/o,y:(r.clientY-a.top)/n,winX:r.clientX,winY:r.clientY,id:r.identifier},this._setProperty("movedX",y.movementX),this._setProperty("movedY",y.movementY),this._setProperty("mouseX",s.x),this._setProperty("mouseY",s.y),this._setProperty("winMouseX",s.winX),this._setProperty("winMouseY",s.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},l.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},l.default.prototype._setMouseButton=function(y){y.button===1?this._setProperty("mouseButton",g.CENTER):y.button===2?this._setProperty("mouseButton",g.RIGHT):this._setProperty("mouseButton",g.LEFT)},l.default.prototype._onmousemove=function(y){var n=this._isGlobal?window:this;this._updateNextMouseCoords(y),this.mouseIsPressed?typeof n.mouseDragged=="function"?n.mouseDragged(y)===!1&&y.preventDefault():typeof n.touchMoved=="function"&&n.touchMoved(y)===!1&&y.preventDefault():typeof n.mouseMoved=="function"&&n.mouseMoved(y)===!1&&y.preventDefault()},l.default.prototype._onmousedown=function(y){var n=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(y),this._updateNextMouseCoords(y),typeof n.mousePressed=="function"?n.mousePressed(y)===!1&&y.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof n.touchStarted=="function"&&n.touchStarted(y)===!1&&y.preventDefault()},l.default.prototype._onmouseup=function(y){var n=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof n.mouseReleased=="function"?n.mouseReleased(y)===!1&&y.preventDefault():typeof n.touchEnded=="function"&&n.touchEnded(y)===!1&&y.preventDefault()},l.default.prototype._ondragend=l.default.prototype._onmouseup,l.default.prototype._ondragover=l.default.prototype._onmousemove,l.default.prototype._onclick=function(y){var n=this._isGlobal?window:this;typeof n.mouseClicked=="function"&&n.mouseClicked(y)===!1&&y.preventDefault()},l.default.prototype._ondblclick=function(y){var n=this._isGlobal?window:this;typeof n.doubleClicked=="function"&&n.doubleClicked(y)===!1&&y.preventDefault()},l.default.prototype._mouseWheelDeltaY=0,l.default.prototype._pmouseWheelDeltaY=0,l.default.prototype._onwheel=function(y){var n=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",y.deltaY),typeof n.mouseWheel=="function"&&(y.delta=y.deltaY,n.mouseWheel(y)===!1&&y.preventDefault())},l.default.prototype.requestPointerLock=function(){var y=this._curElement.elt;return y.requestPointerLock=y.requestPointerLock||y.mozRequestPointerLock,y.requestPointerLock?(y.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},l.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=l.default,_.default=t},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],293:[function(t,O,_){t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,(t=(t=t("../core/main"))&&t.__esModule?t:{default:t}).default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(f){if(this._curElement!==null){for(var i=[],l=0;l<f.touches.length;l++)i[l]=function(g,y,n,o){var s=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,r=g.getBoundingClientRect();return y=g.scrollWidth/y||1,g=g.scrollHeight/n||1,{x:((n=o.touches[s]||o.changedTouches[s]).clientX-r.left)/y,y:(n.clientY-r.top)/g,winX:n.clientX,winY:n.clientY,id:n.identifier}}(this._curElement.elt,this.width,this.height,f,l);this._setProperty("touches",i)}},t.default.prototype._ontouchstart=function(f){var i=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(f),this._updateNextMouseCoords(f),this._updateMouseCoords(),typeof i.touchStarted=="function"?i.touchStarted(f)===!1&&f.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof i.mousePressed=="function"&&i.mousePressed(f)===!1&&f.preventDefault()},t.default.prototype._ontouchmove=function(f){var i=this._isGlobal?window:this;this._updateTouchCoords(f),this._updateNextMouseCoords(f),typeof i.touchMoved=="function"?i.touchMoved(f)===!1&&f.preventDefault():typeof i.mouseDragged=="function"&&i.mouseDragged(f)===!1&&f.preventDefault()},t.default.prototype._ontouchend=function(f){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(f),this._updateNextMouseCoords(f);var i=this._isGlobal?window:this;typeof i.touchEnded=="function"?i.touchEnded(f)===!1&&f.preventDefault():typeof i.mouseReleased=="function"&&i.mouseReleased(f)===!1&&f.preventDefault()},t=t.default,_.default=t},{"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.string.includes":189}],294:[function(t,O,_){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f,i,l,g,y={_toPixels:function(n){var o,s;return n instanceof ImageData?n.data:n.getContext("2d")?n.getContext("2d").getImageData(0,0,n.width,n.height).data:n.getContext("webgl")?(s=(o=n.getContext("webgl")).drawingBufferWidth*o.drawingBufferHeight*4,s=new Uint8Array(s),o.readPixels(0,0,n.width,n.height,o.RGBA,o.UNSIGNED_BYTE,s),s):void 0},_getARGB:function(n,o){return n[3+(o*=4)]<<24&4278190080|n[o]<<16&16711680|n[1+o]<<8&65280|255&n[2+o]},_setPixels:function(n,o){for(var s,r=0,a=n.length;r<a;r++)n[0+(s=4*r)]=(16711680&o[r])>>>16,n[1+s]=(65280&o[r])>>>8,n[2+s]=255&o[r],n[3+s]=(4278190080&o[r])>>>24},_toImageData:function(n){return n instanceof ImageData?n:n.getContext("2d").getImageData(0,0,n.width,n.height)},_createImageData:function(n,o){return y._tmpCanvas=document.createElement("canvas"),y._tmpCtx=y._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(n,o)},apply:function(n,o,s){var r=n.getContext("2d"),a=r.getImageData(0,0,n.width,n.height);(o=o(a,s))instanceof ImageData?r.putImageData(o,0,0,0,0,n.width,n.height):r.putImageData(a,0,0,0,0,n.width,n.height)},threshold:function(n,o){for(var s=y._toPixels(n),r=(o===void 0&&(o=.5),Math.floor(255*o)),a=0;a<s.length;a+=4){var d=r<=.2126*s[a]+.7152*s[a+1]+.0722*s[a+2]?255:0;s[a]=s[a+1]=s[a+2]=d}},gray:function(n){for(var o=y._toPixels(n),s=0;s<o.length;s+=4){var r=o[s],a=o[s+1],d=o[s+2];o[s]=o[s+1]=o[s+2]=.2126*r+.7152*a+.0722*d}},opaque:function(n){for(var o=y._toPixels(n),s=0;s<o.length;s+=4)o[s+3]=255;return o},invert:function(n){for(var o=y._toPixels(n),s=0;s<o.length;s+=4)o[s]=255-o[s],o[s+1]=255-o[s+1],o[s+2]=255-o[s+2]},posterize:function(n,o){var s=y._toPixels(n);if(o<2||255<o)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var r=o-1,a=0;a<s.length;a+=4){var d=s[a],h=s[a+1],c=s[a+2];s[a]=255*(d*o>>8)/r,s[a+1]=255*(h*o>>8)/r,s[a+2]=255*(c*o>>8)/r}},dilate:function(n){for(var o,s,r,a,d,h,c,p,m,b=y._toPixels(n),A=0,T=b.length?b.length/4:0,x=new Int32Array(T);A<T;)for(s=(o=A)+n.width;A<s;)a=r=y._getARGB(b,A),(m=A-1)<o&&(m=A),s<=(p=A+1)&&(p=A),(d=A-n.width)<0&&(d=0),T<=(h=A+n.width)&&(h=A),d=y._getARGB(b,d),m=y._getARGB(b,m),h=y._getARGB(b,h),(a=77*(a>>16&255)+151*(a>>8&255)+28*(255&a))<(c=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))&&(r=m,a=c),a<(c=77*((m=y._getARGB(b,p))>>16&255)+151*(m>>8&255)+28*(255&m))&&(r=m,a=c),a<(p=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))&&(r=d,a=p),a<(m=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))&&(r=h,a=m),x[A++]=r;y._setPixels(b,x)},erode:function(n){for(var o,s,r,a,d,h,c,p,m,b=y._toPixels(n),A=0,T=b.length?b.length/4:0,x=new Int32Array(T);A<T;)for(s=(o=A)+n.width;A<s;)a=r=y._getARGB(b,A),(m=A-1)<o&&(m=A),s<=(p=A+1)&&(p=A),(d=A-n.width)<0&&(d=0),T<=(h=A+n.width)&&(h=A),d=y._getARGB(b,d),m=y._getARGB(b,m),h=y._getARGB(b,h),(c=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))<(a=77*(a>>16&255)+151*(a>>8&255)+28*(255&a))&&(r=m,a=c),(c=77*((m=y._getARGB(b,p))>>16&255)+151*(m>>8&255)+28*(255&m))<a&&(r=m,a=c),(p=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))<a&&(r=d,a=p),(m=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))<a&&(r=h,a=m),x[A++]=r;y._setPixels(b,x)},blur:function(n,o){for(var s,r,a,d,h,c,p,m,b,A,T=y._toPixels(n),x=n.width,R=n.height,S=x*R,C=new Int32Array(S),D=0;D<S;D++)C[D]=y._getARGB(T,D);var N,F,M,L,z,Y,Z,ee,te=new Int32Array(S),oe=new Int32Array(S),U=new Int32Array(S),q=new Int32Array(S),K=0,se=3.5*o|0;if(f!==(se=se<1?1:se<248?se:248)){i=1+(f=se)<<1,l=new Int32Array(i),g=new Array(i);for(var ie=0;ie<i;ie++)g[ie]=new Int32Array(256);for(var le=1,$=se-1;le<se;le++){l[se+le]=l[$]=Y=$*$,Z=g[se+le],ee=g[$--];for(var ce=0;ce<256;ce++)Z[ce]=ee[ce]=Y*ce}z=l[se]=se*se,Z=g[se];for(var ye=0;ye<256;ye++)Z[ye]=z*ye}for(F=0;F<R;F++){for(N=0;N<x;N++){if(d=a=r=h=s=0,(c=N-f)<0)A=-c,c=0;else{if(x<=c)break;A=0}for(M=A;M<i&&!(x<=c);M++){var _e=C[c+K];h+=(L=g[M])[(-16777216&_e)>>>24],r+=L[(16711680&_e)>>16],a+=L[(65280&_e)>>8],d+=L[255&_e],s+=l[M],c++}te[p=K+N]=h/s,oe[p]=r/s,U[p]=a/s,q[p]=d/s}K+=x}for(b=(m=-f)*x,F=K=0;F<R;F++){for(N=0;N<x;N++){if(d=a=r=h=s=0,m<0)A=p=-m,c=N;else{if(R<=m)break;A=0,p=m,c=N+b}for(M=A;M<i&&!(R<=p);M++)h+=(L=g[M])[te[c]],r+=L[oe[c]],a+=L[U[c]],d+=L[q[c]],s+=l[M],p++,c+=x;C[N+K]=h/s<<24|r/s<<16|a/s<<8|d/s}K+=x,b+=x,m++}y._setPixels(T,C)}};_.default=y},{"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.int32-array":215,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232}],295:[function(t,O,_){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=l(t("../core/main")),i=l(t("omggif"));function l(y){return y&&y.__esModule?y:{default:y}}function g(y){return function(n){if(Array.isArray(n)){for(var o=0,s=new Array(n.length);o<n.length;o++)s[o]=n[o];return s}}(y)||function(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}f.default.prototype.createImage=function(y,n){return f.default._validateParameters("createImage",arguments),new f.default.Image(y,n)},f.default.prototype.saveCanvas=function(){f.default._validateParameters("saveCanvas",arguments);var y,n,o,s,r=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(y=arguments[0],r.shift()):arguments[0]instanceof f.default.Element?(y=arguments[0].elt,r.shift()):y=this._curElement&&this._curElement.elt,1<=r.length&&(n=r[0]),o=(o=2<=r.length?r[1]:o)||f.default.prototype._checkFileExtension(n,o)[1]||"png"){default:s="image/png";break;case"jpeg":case"jpg":s="image/jpeg"}y.toBlob(function(a){f.default.prototype.downloadFile(a,n,o)},s)},f.default.prototype.encodeAndDownloadGif=function(y,n){for(var o=y.gifProperties,s=((Z=o.loopLimit)===1?Z=null:Z===null&&(Z=0),new Uint8Array(y.width*y.height*o.numFrames)),r=[],a={},d=0;d<o.numFrames;d++){for(var h=new Set,c=o.frames[d].image.data,p=c.length,m=new Uint32Array(y.width*y.height),b=0,A=0;b<p;b+=4,A++){var T=c[b+0]<<16|c[b+1]<<8|c[b+2]<<0;h.add(T),m[A]=T}var x=g(h).sort().toString();a[x]===void 0?a[x]={freq:1,frames:[d]}:(a[x].freq+=1,a[x].frames.push(d)),r.push(m)}for(var R=[],S=Object.keys(a).sort(function(U,q){return a[q].freq-a[U].freq}),C=S[0].split(",").map(function(U){return parseInt(U)}),D=(R=R.concat(a[C].frames),new Set(C)),N=1;N<S.length;N++){var F=S[N].split(",").map(function(U){return parseInt(U)}).filter(function(U){return!D.has(U)});if(C.length+F.length<=256){for(var M=0;M<F.length;M++)C.push(F[M]),D.add(F[M]);R=R.concat(a[S[N]].frames)}}R=new Set(R);for(var L={},z=0;z<C.length;z++)L[C[z]]||(L[C[z]]=z);for(var Y=1;Y<C.length;)Y<<=1;C.length=Y;for(var Z={loop:Z,palette:new Uint32Array(C)},ee=new i.default.GifWriter(s,y.width,y.height,Z),te={},oe=0;oe<o.numFrames;oe++)(function(U){var q=!R.has(U),K=q?[]:C,se=new Uint8Array(y.width*y.height),ie={},le=new Set,$=(r[U].forEach(function(ve,Ee){q?(ie[ve]===void 0&&(ie[ve]=K.length,K.push(ve)),se[Ee]=ie[ve]):se[Ee]=L[ve],0<U&&r[U-1][Ee]!==ve&&le.add(ve)}),{});if(0<(ce=K.filter(function(ve){return!le.has(ve)})).length){var ce=ce[0],ye=(q?ie:L)[ce];if(0<U){for(var _e=0;_e<r[U].length;_e++)r[U-1][_e]===r[U][_e]&&(se[_e]=ye);$.transparent=ye,te.frameOpts.disposal=1}}if($.delay=o.frames[U].delay/10,q){for(var he=1;he<K.length;)he<<=1;K.length=he,$.palette=new Uint32Array(K)}0<U&&ee.addFrame(0,0,y.width,y.height,te.pixelPaletteIndex,te.frameOpts),te={pixelPaletteIndex:se,frameOpts:$}})(oe);te.frameOpts.disposal=1,ee.addFrame(0,0,y.width,y.height,te.pixelPaletteIndex,te.frameOpts),Z=new Blob([s.slice(0,ee.end())],{type:"image/gif"}),f.default.prototype.downloadFile(Z,n,"gif")},f.default.prototype.saveFrames=function(y,n,o,s,r){f.default._validateParameters("saveFrames",arguments),o=f.default.prototype.constrain(o=o||3,0,15),o*=1e3,s=f.default.prototype.constrain(s||15,0,22);var a=0,d=f.default.prototype._makeFrame,h=this._curElement.elt,c=[],p=setInterval(function(){c.push(d(y+a,n,h)),a++},1e3/s);setTimeout(function(){if(clearInterval(p),r)r(c);else{var m=!0,b=!1,A=void 0;try{for(var T,x=c[Symbol.iterator]();!(m=(T=x.next()).done);m=!0){var R=T.value;f.default.prototype.downloadFile(R.imageData,R.filename,R.ext)}}catch(S){b=!0,A=S}finally{try{m||x.return==null||x.return()}finally{if(b)throw A}}}c=[]},.01+o)},f.default.prototype._makeFrame=function(y,n,o){var s;if(o=this?this._curElement.elt:o,n)switch(n.toLowerCase()){case"png":s="image/png";break;case"jpeg":case"jpg":s="image/jpeg";break;default:s="image/png"}else n="png",s="image/png";o=(o=o.toDataURL(s)).replace(s,"image/octet-stream");var r={};return r.imageData=o,r.filename=y,r.ext=n,r},t=f.default,_.default=t},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236,omggif:246}],296:[function(t,O,_){function f(h){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(h)}function i(h){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(c){return f(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":f(c)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,t("regenerator-runtime/runtime");var l=s(t("../core/main")),g=s(t("../core/helpers")),y=function(h){if(h&&h.__esModule)return h;if(h===null||i(h)!=="object"&&typeof h!="function")return{default:h};var c=function(){var T;return typeof WeakMap!="function"?null:(T=new WeakMap,T)}();if(c&&c.has(h))return c.get(h);var p,m={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in h){var A;Object.prototype.hasOwnProperty.call(h,p)&&((A=b?Object.getOwnPropertyDescriptor(h,p):null)&&(A.get||A.set)?Object.defineProperty(m,p,A):m[p]=h[p])}return m.default=h,c&&c.set(h,m),m}(t("../core/constants")),n=s(t("omggif")),o=t("gifenc");function s(h){return h&&h.__esModule?h:{default:h}}function r(h,c,p,m,b,A,T){try{var x=h[A](T),R=x.value}catch(S){return void p(S)}x.done?c(R):Promise.resolve(R).then(m,b)}function a(h,c,p,m,b,A,T,x,R,S,C){var D,N,F,M,L,z,Y,Z,ee;return h===y.COVER&&(D=c,F=p,Y=A,Z=T,z=x,ee=R,N=S,M=C,Y/=L=Math.max(Y/N,Z/M),Z/=L,L=z,z=ee,D===y.CENTER?L+=(N-Y)/2:D===y.RIGHT&&(L+=N-Y),F===y.CENTER?z+=(M-Z)/2:F===y.BOTTOM&&(z+=M-Z),x=(ee={x:L,y:z,w:Y,h:Z}).x,R=ee.y,S=ee.w,C=ee.h),h===y.CONTAIN&&(D=c,N=p,F=m,M=b,L=A,z=T,Y=S,Z=C,Y/=ee=Math.max(Y/L,Z/z),Z/=ee,ee=F,F=M,D===y.CENTER?ee+=(L-Y)/2:D===y.RIGHT&&(ee+=L-Y),N===y.CENTER?F+=(z-Z)/2:N===y.BOTTOM&&(F+=z-Z),m=(h={x:ee,y:F,w:Y,h:Z}).x,b=h.y,A=h.w,T=h.h),{sx:x,sy:R,sw:S,sh:C,dx:m,dy:b,dw:A,dh:T}}function d(h,c){return 0<h&&h<c?h:c}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),l.default.prototype.loadImage=function(h,c,p){l.default._validateParameters("loadImage",arguments);var m=new l.default.Image(1,1,this),b=this,A=new Request(h,{method:"GET",mode:"cors"});return fetch(h,A).then(function(T){var x,R=T.headers.get("content-type");R===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),R&&R.includes("image/gif")?T.arrayBuffer().then(function(S){if(S){S=new Uint8Array(S);for(var C=m,D=c,N=p,F=(function(U){b._decrementPreload()}).bind(b),M=new n.default.GifReader(S),L=(C.width=C.canvas.width=M.width,C.height=C.canvas.height=M.height,[]),z=M.numFrames(),Y=new Uint8ClampedArray(C.width*C.height*4),Z=0;Z<z;Z++){var ee=M.frameInfo(Z),te=C.drawingContext.getImageData(0,0,C.width,C.height),oe=(Y=te.data.slice(),function(U,q){try{q.decodeAndBlitFrameRGBA(U,Y)}catch(K){l.default._friendlyFileLoadError(8,C.src),typeof N=="function"?N(K):console.error(K)}}(Z,M),new ImageData(Y,C.width,C.height));(oe=(C.drawingContext.putImageData(oe,0,0),ee.delay))===0&&(oe=10),L.push({image:C.drawingContext.getImageData(0,0,C.width,C.height),delay:10*oe}),ee.disposal===2?C.drawingContext.clearRect(ee.x,ee.y,ee.width,ee.height):ee.disposal===3&&C.drawingContext.putImageData(te,0,0,ee.x,ee.y,ee.width,ee.height)}(S=M.loopCount())===null?S=1:S===0&&(S=null),C.drawingContext.putImageData(L[0].image,0,0),1<L.length&&(C.gifProperties={displayIndex:0,loopLimit:S,loopCount:0,frames:L,numFrames:z,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof D=="function"&&D(C),F()}},function(S){typeof p=="function"?(p(S),b._decrementPreload()):console.error(S)}):((x=new Image).onload=function(){m.width=m.canvas.width=x.width,m.height=m.canvas.height=x.height,m.drawingContext.drawImage(x,0,0),m.modified=!0,typeof c=="function"&&c(m),b._decrementPreload()},x.onerror=function(S){l.default._friendlyFileLoadError(0,x.src),typeof p=="function"?(p(S),b._decrementPreload()):console.error(S)},h.indexOf("data:image/")!==0&&(x.crossOrigin="Anonymous"),x.src=h),m.modified=!0}).catch(function(T){l.default._friendlyFileLoadError(0,h),typeof p=="function"?(p(T),b._decrementPreload()):console.error(T)}),m},l.default.prototype.saveGif=function(){h=regeneratorRuntime.mark(function p(m,b){var A,T,x,R,S,C,D,N,F,M,L,z,Y,Z,ee,te,oe,U,q,K,se,ie,le,$,ce,ye,_e=arguments;return regeneratorRuntime.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(A=2<_e.length&&_e[2]!==void 0?_e[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof m!="string")throw TypeError("fileName parameter must be a string");he.next=3;break;case 3:if(typeof b!="number")throw TypeError("Duration parameter must be a number");he.next=5;break;case 5:if(T=A&&A.delay||0,x=A&&A.units||"seconds",R=A&&A.silent||!1,S=A&&A.notificationDuration||0,C=A&&A.notificationID||"progressBar",typeof T!="number")throw TypeError("Delay parameter must be a number");he.next=12;break;case 12:if(x!=="seconds"&&x!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');he.next=14;break;case 14:if(typeof R!="boolean")throw TypeError("Silent parameter must be a boolean");he.next=16;break;case 16:if(typeof S!="number")throw TypeError("Notification duration parameter must be a number");he.next=18;break;case 18:if(typeof C!="string")throw TypeError("Notification ID parameter must be a string");he.next=20;break;case 20:return this._recording=!0,M=this._targetFrameRate,D=(D=1/(M=M!==1/0&&M!==void 0&&M!==0?M:60)*1e3)<20?20:D,F=(N=x==="seconds"?b*M:b)+(M=x==="seconds"?T*M:T),M=M,this.frameCount=M,L=this._pixelDensity,this.pixelDensity(1),z=[],document.getElementById(C)!==null&&document.getElementById(C).remove(),R||((Y=this.createP("")).id(C),Y.style("font-size","16px"),Y.style("font-family","Montserrat"),Y.style("background-color","#ffffffa0"),Y.style("padding","8px"),Y.style("border-radius","10px"),Y.position(0,0)),this._renderer instanceof l.default.RendererGL&&(ee=this.drawingContext,Z=new Uint8Array(ee.drawingBufferWidth*ee.drawingBufferHeight*4)),this.noLoop(),he.next=39,Promise.resolve();case 39:if(M<F)return this.redraw(),$=void 0,$=this._renderer instanceof l.default.RendererGL?(Z=new Uint8Array(ee.drawingBufferWidth*ee.drawingBufferHeight*4),ee.readPixels(0,0,ee.drawingBufferWidth,ee.drawingBufferHeight,ee.RGBA,ee.UNSIGNED_BYTE,Z),function(ve){for(var Ee=parseInt(height/2),Fe=4*width,Oe=new Uint8Array(4*width),Ge=0;Ge<Ee;++Ge){var $e=Ge*Fe,Je=(height-Ge-1)*Fe;Oe.set(ve.subarray($e,$e+Fe)),ve.copyWithin($e,Je,Je+Fe),ve.set(Oe,Je)}return ve}(Z)):this.drawingContext.getImageData(0,0,this.width,this.height).data,z.push($),M++,R||Y.html("Saved frame <b>"+z.length.toString()+"</b> out of "+N.toString()),he.next=48,new Promise(function(ve){return setTimeout(ve,0)});he.next=50;break;case 48:he.next=39;break;case 50:R||Y.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(L),te=(0,o.GIFEncoder)(),oe=function(ve){for(var Ee=new Uint8Array(ve.length*ve[0].length),Fe=0;Fe<ve.length;Fe++)Ee.set(ve[Fe],Fe*ve[0].length);var Oe=(0,o.quantize)(Ee,256,{format:"rgba4444",oneBitAlpha:!0});return Oe.length===256?Oe[Oe.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:Oe.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),Oe}(z),U={},q=function(ve){for(var Ee=ve.length/4,Fe=new Uint8Array(Ee),Oe=0;Oe<Ee;Oe++){var Ge=ve[4*Oe]<<24|ve[4*Oe+1]<<16|ve[4*Oe+2]<<8|ve[4*Oe+3];U[Ge]===void 0&&(U[Ge]=(0,o.nearestColorIndex)(oe,ve.slice(4*Oe,4*(Oe+1)))),Fe[Oe]=U[Ge]}return Fe},K=oe.length-1,se=[],ie=0;case 60:if(!(ie<z.length)){he.next=71;break}if(le=q(z[ie]),$=le.slice(),ie===0)te.writeFrame(le,this.width,this.height,{palette:oe,delay:D,dispose:1});else{for(ce=0;ce<le.length;ce++)le[ce]===se[ce]&&(le[ce]=K);te.writeFrame(le,this.width,this.height,{delay:D,transparent:!0,transparentIndex:K,dispose:1})}return se=$,R||Y.html("Rendered frame <b>"+ie.toString()+"</b> out of "+N.toString()),he.next=68,new Promise(function(ve){return setTimeout(ve,0)});case 68:ie++,he.next=60;break;case 71:te.finish(),ye=te.bytesView(),ye=new Blob([ye],{type:"image/gif"}),z=[],this._recording=!1,this.loop(),R||(Y.html("Done. Downloading your gif!🌸"),0<S&&setTimeout(function(){return Y.remove()},1e3*S)),l.default.prototype.downloadFile(ye,m,"gif");case 80:case"end":return he.stop()}},p,this)});var h,c=function(){var p=this,m=arguments;return new Promise(function(b,A){var T=h.apply(p,m);function x(S){r(T,b,A,x,R,"next",S)}function R(S){r(T,b,A,x,R,"throw",S)}x(void 0)})};return function(p,m){return c.apply(this,arguments)}}(),l.default.prototype.image=function(h,c,p,m,b,A,T,x,R,S,C,D){l.default._validateParameters("image",arguments);var N=h.width,F=h.height,M=(D=D||y.CENTER,C=C||y.CENTER,h.elt&&h.elt.videoWidth&&!h.canvas&&(N=h.elt.videoWidth,F=h.elt.videoHeight),m||N);b=b||F,A=A||0,T=T||0,x=d(x||N,N),N=d(R||F,F),R=1,h.elt&&!h.canvas&&h.elt.style.width&&(R=h.elt.videoWidth&&!m?h.elt.videoWidth:h.elt.width,R/=parseInt(h.elt.style.width,10)),A*=R,T*=R,N*=R,x*=R,F=a(S,C,D,(F=g.default.modeAdjust(c,p,M,b,this._renderer._imageMode)).x,F.y,F.w,F.h,A,T,x,N),this._renderer.image(h,F.sx,F.sy,F.sw,F.sh,F.dx,F.dy,F.dw,F.dh)},l.default.prototype.tint=function(){for(var h=arguments.length,c=new Array(h),p=0;p<h;p++)c[p]=arguments[p];l.default._validateParameters("tint",c);var m=this.color.apply(this,c);this._renderer._tint=m.levels},l.default.prototype.noTint=function(){this._renderer._tint=null},l.default.prototype._getTintedImageCanvas=l.default.Renderer2D.prototype._getTintedImageCanvas,l.default.prototype.imageMode=function(h){l.default._validateParameters("imageMode",arguments),h!==y.CORNER&&h!==y.CORNERS&&h!==y.CENTER||(this._renderer._imageMode=h)},t=l.default,_.default=t},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/helpers":269,"../core/main":273,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,gifenc:243,omggif:246,"regenerator-runtime/runtime":250}],297:[function(t,O,_){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=l(t("../core/main")),i=l(t("./filters"));function l(y){return y&&y.__esModule?y:{default:y}}function g(y,n){for(var o=0;o<n.length;o++){var s=n[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(y,s.key,s)}}f.default.Image=function(){function y(s,r){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");this.width=s,this.height=r,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var n,o;return n=y,(o=[{key:"_animateGif",value:function(s){var r,a=this.gifProperties;s=s._lastRealFrameTime,a.lastChangeTime===0&&(a.lastChangeTime=s),a.playing&&(a.timeDisplayed=s-a.lastChangeTime,r=a.frames[a.displayIndex].delay,a.timeDisplayed>=r&&(r=Math.floor(a.timeDisplayed/r),a.timeDisplayed=0,a.lastChangeTime=s,a.displayIndex+=r,a.loopCount=Math.floor(a.displayIndex/a.numFrames),a.loopLimit!==null&&a.loopCount>=a.loopLimit?a.playing=!1:(s=a.displayIndex%a.numFrames,this.drawingContext.putImageData(a.frames[s].image,0,0),a.displayIndex=s,this.setModified(!0))))}},{key:"_setProperty",value:function(s,r){this[s]=r,this.setModified(!0)}},{key:"loadPixels",value:function(){f.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(s,r,a,d){f.default.Renderer2D.prototype.updatePixels.call(this,s,r,a,d),this.setModified(!0)}},{key:"get",value:function(s,r,a,d){return f.default._validateParameters("p5.Image.get",arguments),f.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return f.default.Renderer2D.prototype._getPixel.apply(this,r)}},{key:"set",value:function(s,r,a){f.default.Renderer2D.prototype.set.call(this,s,r,a),this.setModified(!0)}},{key:"resize",value:function(s,r){s===0&&r===0?(s=this.canvas.width,r=this.canvas.height):s===0?s=this.canvas.width*r/this.canvas.height:r===0&&(r=this.canvas.height*s/this.canvas.width),s=Math.floor(s),r=Math.floor(r);var a=document.createElement("canvas");if(a.width=s,a.height=r,this.gifProperties)for(var d=this.gifProperties,h=0;h<d.numFrames;h++){for(var c=this.drawingContext.createImageData(s,r),p=(x=x=T=A=b=void 0,d.frames[h].image),m=c,b=0,A=0;A<m.height;A++)for(var T=0;T<m.width;T++){var x=Math.floor(T*p.width/m.width);x=4*(Math.floor(A*p.height/m.height)*p.width+x),m.data[b++]=p.data[x++],m.data[b++]=p.data[x++],m.data[b++]=p.data[x++],m.data[b++]=p.data[+x]}d.frames[h].image=c}a.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,a.width,a.height),this.canvas.width=this.width=s,this.canvas.height=this.height=r,this.drawingContext.drawImage(a,0,0,s,r,0,0,s,r),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];f.default.prototype.copy.apply(this,r)}},{key:"mask",value:function(s){var r=this.drawingContext.globalCompositeOperation,a=1,d=[s=s===void 0?this:s,0,0,(a=s instanceof f.default.Renderer?s._pInst._pixelDensity:a)*s.width,a*s.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var h=0;h<this.gifProperties.frames.length;h++)this.drawingContext.putImageData(this.gifProperties.frames[h].image,0,0),this.copy.apply(this,d),this.gifProperties.frames[h].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,d);this.drawingContext.globalCompositeOperation=r,this.setModified(!0)}},{key:"filter",value:function(s,r){i.default.apply(this.canvas,i.default[s],r),this.setModified(!0)}},{key:"blend",value:function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];f.default._validateParameters("p5.Image.blend",arguments),f.default.prototype.blend.apply(this,r),this.setModified(!0)}},{key:"setModified",value:function(s){this._modified=s}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(s,r){this.gifProperties?f.default.prototype.encodeAndDownloadGif(this,s):f.default.prototype.saveCanvas(this.canvas,s,r)}},{key:"reset",value:function(){var s;this.gifProperties&&((s=this.gifProperties).playing=!0,s.timeSinceStart=0,s.timeDisplayed=0,s.lastChangeTime=0,s.loopCount=0,s.displayIndex=0,this.drawingContext.putImageData(s.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var s;if(this.gifProperties)return(s=this.gifProperties).displayIndex%s.numFrames}},{key:"setFrame",value:function(s){var r;this.gifProperties&&(s<(r=this.gifProperties).numFrames&&0<=s?(r.timeDisplayed=0,r.lastChangeTime=0,r.displayIndex=s,this.drawingContext.putImageData(r.frames[s].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(s,r){if(this.gifProperties){var a=this.gifProperties;if(r<a.numFrames&&0<=r)a.frames[r].delay=s;else{var d=!0,h=(r=!1,void 0);try{for(var c,p=a.frames[Symbol.iterator]();!(d=(c=p.next()).done);d=!0)c.value.delay=s}catch(m){r=!0,h=m}finally{try{d||p.return==null||p.return()}finally{if(r)throw h}}}}}}])&&g(n.prototype,o),y}(),t=f.default.Image,_.default=t},{"../core/main":273,"./filters":294,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],298:[function(t,O,_){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=l(t("../core/main")),i=l(t("./filters"));function l(g){return g&&g.__esModule?g:{default:g}}t("../color/p5.Color"),f.default.prototype.pixels=[],f.default.prototype.blend=function(){for(var g,y=arguments.length,n=new Array(y),o=0;o<y;o++)n[o]=arguments[o];f.default._validateParameters("blend",n),this._renderer?(g=this._renderer).blend.apply(g,n):f.default.Renderer2D.prototype.blend.apply(this,n)},f.default.prototype.copy=function(){for(var g,y,n,o,s,r,a,d,h,c=arguments.length,p=new Array(c),m=0;m<c;m++)p[m]=arguments[m];if(f.default._validateParameters("copy",p),p.length===9)g=p[0],y=p[1],n=p[2],o=p[3],s=p[4],r=p[5],a=p[6],d=p[7],h=p[8];else{if(p.length!==8)throw new Error("Signature not supported");g=this,y=p[0],n=p[1],o=p[2],s=p[3],r=p[4],a=p[5],d=p[6],h=p[7]}f.default.prototype._copyHelper(this,g,y,n,o,s,r,a,d,h)},f.default.prototype._copyHelper=function(g,y,n,o,s,r,a,d,h,c){y.loadPixels();var p=y.canvas.width/y.width,m=0,b=0;y._renderer&&y._renderer.isP3D&&(m=y.width/2,b=y.height/2),g._renderer&&g._renderer.isP3D?f.default.RendererGL.prototype.image.call(g._renderer,y,n+m,o+b,s,r,a,d,h,c):g.drawingContext.drawImage(y.canvas,p*(n+m),p*(o+b),p*s,p*r,a,d,h,c)},f.default.prototype.filter=function(g,y){f.default._validateParameters("filter",arguments),this.canvas!==void 0?i.default.apply(this.canvas,i.default[g],y):i.default.apply(this.elt,i.default[g],y)},f.default.prototype.get=function(g,y,n,o){var s;return f.default._validateParameters("get",arguments),(s=this._renderer).get.apply(s,arguments)},f.default.prototype.loadPixels=function(){for(var g=arguments.length,y=new Array(g),n=0;n<g;n++)y[n]=arguments[n];f.default._validateParameters("loadPixels",y),this._renderer.loadPixels()},f.default.prototype.set=function(g,y,n){this._renderer.set(g,y,n)},f.default.prototype.updatePixels=function(g,y,n,o){f.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(g,y,n,o)},t=f.default,_.default=t},{"../color/p5.Color":260,"../core/main":273,"./filters":294,"core-js/modules/es.array.filter":155}],299:[function(t,O,_){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var i=y(t("../core/main")),l=(t("whatwg-fetch"),t("es6-promise/auto"),y(t("fetch-jsonp"))),g=y(t("file-saver"));function y(r){return r&&r.__esModule?r:{default:r}}function n(r){return(n=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(a){return f(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":f(a)})(r)}function o(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function s(r,a){a&&a!==!0&&a!=="true"||(a="");var d="";return(r=r||"untitled")&&r.includes(".")&&(d=r.split(".").pop()),a&&d!==a&&(d=a,r="".concat(r,".").concat(d)),[r,d]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),i.default.prototype.loadJSON=function(){for(var r=arguments.length,a=new Array(r),d=0;d<r;d++)a[d]=arguments[d];i.default._validateParameters("loadJSON",a);for(var h,c,p,m=a[0],b={},A="json",T=1;T<a.length;T++){var x=a[T];typeof x=="string"?x!=="jsonp"&&x!=="json"||(A=x):typeof x=="function"?h?c=x:h=x:n(x)==="object"&&(x.hasOwnProperty("jsonpCallback")||x.hasOwnProperty("jsonpCallbackFunction"))&&(A="jsonp",p=x)}var R=this;return this.httpDo(m,"GET",p,A,function(S){for(var C in S)b[C]=S[C];h!==void 0&&h(S),R._decrementPreload()},function(S){if(i.default._friendlyFileLoadError(5,m),!c)throw S;c(S)}),b},i.default.prototype.loadStrings=function(){for(var r=arguments.length,a=new Array(r),d=0;d<r;d++)a[d]=arguments[d];i.default._validateParameters("loadStrings",a);for(var h,c,p=[],m=1;m<a.length;m++){var b=a[m];typeof b=="function"&&(h===void 0?h=b:c===void 0&&(c=b))}var A=this;return i.default.prototype.httpDo.call(this,a[0],"GET","text",function(T){for(var x=T.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),R=0,S=x.length;R<S;R+=32768)Array.prototype.push.apply(p,x.slice(R,Math.min(R+32768,S)));h!==void 0&&h(p),A._decrementPreload()},function(T){if(i.default._friendlyFileLoadError(3,T),!c)throw T;c(T)}),p},i.default.prototype.loadTable=function(r){var a,d,h,c=!1,p=r.substring(r.lastIndexOf(".")+1,r.length);p==="csv"?h=",":p==="ssv"?h=";":p==="tsv"&&(h="	");for(var m=1;m<arguments.length;m++)typeof arguments[m]=="function"?a===void 0?a=arguments[m]:d===void 0&&(d=arguments[m]):typeof arguments[m]=="string"&&(arguments[m]==="header"&&(c=!0),arguments[m]==="csv"?h=",":arguments[m]==="ssv"?h=";":arguments[m]==="tsv"&&(h="	"));var b=new i.default.Table,A=this;return this.httpDo(r,"GET","table",function(T){for(var x,R,S={},C=[],D=0,N=null,F=function(){S.currentState=0,S.token=""},M=function(){N.push(S.token),F()},L=function(){S.currentState=4,C.push(N),N=null};;){if((x=T[D++])==null){if(S.escaped)throw new Error("Unclosed quote in file.");if(N){M(),L();break}}if(N===null&&(S.escaped=!1,N=[],F()),S.currentState===0){if(x==='"'){S.escaped=!0,S.currentState=1;continue}S.currentState=1}if(S.currentState===1&&S.escaped)if(x==='"')T[D]==='"'?(S.token+='"',D++):(S.escaped=!1,S.currentState=2);else{if(x==="\r")continue;S.token+=x}else x==="\r"?(T[D]===`
`&&D++,M(),L()):x===`
`?(M(),L()):x===h?M():S.currentState===1&&(S.token+=x)}if(c)b.columns=C.shift();else for(var z=0;z<C[0].length;z++)b.columns[z]="null";for(var Y=0;Y<C.length;Y++)(C[Y].length!==1||C[Y][0]!=="undefined"&&C[Y][0]!=="")&&((R=new i.default.TableRow).arr=C[Y],R.obj=function(Z,ee){if((ee=ee||[])===void 0)for(var te=0;te<Z.length;te++)ee[te.toString()]=te;return Object.fromEntries(ee.map(function(oe,U){return[oe,Z[U]]}))}(C[Y],b.columns),b.addRow(R));typeof a=="function"&&a(b),A._decrementPreload()},function(T){i.default._friendlyFileLoadError(2,r),d?d(T):console.error(T)}),b},i.default.prototype.loadXML=function(){for(var r=arguments.length,a=new Array(r),d=0;d<r;d++)a[d]=arguments[d];for(var h,c,p=new i.default.XML,m=1;m<a.length;m++){var b=a[m];typeof b=="function"&&(h===void 0?h=b:c===void 0&&(c=b))}var A=this;return this.httpDo(a[0],"GET","xml",function(T){for(var x in T)p[x]=T[x];h!==void 0&&h(p),A._decrementPreload()},function(T){if(i.default._friendlyFileLoadError(1,T),!c)throw T;c(T)}),p},i.default.prototype.loadBytes=function(r,a,d){var h={},c=this;return this.httpDo(r,"GET","arrayBuffer",function(p){h.bytes=new Uint8Array(p),typeof a=="function"&&a(h),c._decrementPreload()},function(p){if(i.default._friendlyFileLoadError(6,r),!d)throw p;d(p)}),h},i.default.prototype.httpGet=function(){i.default._validateParameters("httpGet",arguments);var r=Array.prototype.slice.call(arguments);return r.splice(1,0,"GET"),i.default.prototype.httpDo.apply(this,r)},i.default.prototype.httpPost=function(){i.default._validateParameters("httpPost",arguments);var r=Array.prototype.slice.call(arguments);return r.splice(1,0,"POST"),i.default.prototype.httpDo.apply(this,r)},i.default.prototype.httpDo=function(){for(var r,a,d,h={},c=0,p="text/plain",m=arguments.length-1;0<m&&typeof(m<0||arguments.length<=m?void 0:arguments[m])=="function";m--)c++;var b=arguments.length<=0?void 0:arguments[0];if((C=arguments.length-c)==2&&typeof b=="string"&&n(arguments.length<=1?void 0:arguments[1])==="object")D=new Request(b,arguments.length<=1?void 0:arguments[1]),a=arguments.length<=2?void 0:arguments[2],d=arguments.length<=3?void 0:arguments[3];else{for(var A,T="GET",x=1;x<arguments.length;x++){var R=x<0||arguments.length<=x?void 0:arguments[x];if(typeof R=="string")R==="GET"||R==="POST"||R==="PUT"||R==="DELETE"?T=R:R==="json"||R==="jsonp"||R==="binary"||R==="arrayBuffer"||R==="xml"||R==="text"||R==="table"?r=R:A=R;else if(typeof R=="number")A=R.toString();else if(n(R)==="object")if(R.hasOwnProperty("jsonpCallback")||R.hasOwnProperty("jsonpCallbackFunction"))for(var S in R)h[S]=R[S];else p=R instanceof i.default.XML?(A=R.serialize(),"application/xml"):(A=JSON.stringify(R),"application/json");else typeof R=="function"&&(a?d=R:a=R)}var C=T==="GET"?new Headers:new Headers({"Content-Type":p}),D=new Request(b,{method:T,mode:"cors",body:A,headers:C})}return(C=(C=(r=r||(b.includes("json")?"json":b.includes("xml")?"xml":"text"))==="jsonp"?(0,l.default)(b,h):fetch(D)).then(function(N){if(!N.ok)throw(F=new Error(N.body)).status=N.status,F.ok=!1,F;var F=0;switch((F=r!=="jsonp"?N.headers.get("content-length"):F)&&64e6<F&&i.default._friendlyFileLoadError(7,b),r){case"json":case"jsonp":return N.json();case"binary":return N.blob();case"arrayBuffer":return N.arrayBuffer();case"xml":return N.text().then(function(M){return M=new DOMParser().parseFromString(M,"text/xml"),new i.default.XML(M.documentElement)});default:return N.text()}})).then(a||function(){}),C.catch(d||console.error),C},window.URL=window.URL||window.webkitURL,i.default.prototype._pWriters=[],i.default.prototype.createWriter=function(r,a){var d,h;for(h in i.default.prototype._pWriters)if(i.default.prototype._pWriters[h].name===r)return d=new i.default.PrintWriter(r+this.millis(),a),i.default.prototype._pWriters.push(d),d;return d=new i.default.PrintWriter(r,a),i.default.prototype._pWriters.push(d),d},i.default.PrintWriter=function(r,a){var d=this;this.name=r,this.content="",this.write=function(h){this.content+=h},this.print=function(h){this.content+="".concat(h,`
`)},this.clear=function(){this.content=""},this.close=function(){var h,c=[];for(h in c.push(this.content),i.default.prototype.writeFile(c,r,a),i.default.prototype._pWriters)i.default.prototype._pWriters[h].name===this.name&&i.default.prototype._pWriters.splice(h,1);d.clear(),d={}}},i.default.prototype.save=function(r,a,d){var h=arguments,c=(this._curElement||this).elt;if(h.length===0)i.default.prototype.saveCanvas(c);else if(h[0]instanceof i.default.Renderer||h[0]instanceof i.default.Graphics)i.default.prototype.saveCanvas(h[0].elt,h[1],h[2]);else if(h.length===1&&typeof h[0]=="string")i.default.prototype.saveCanvas(c,h[0]);else switch(s(h[1],h[2])[1]){case"json":return void i.default.prototype.saveJSON(h[0],h[1],h[2]);case"txt":return void i.default.prototype.saveStrings(h[0],h[1],h[2]);default:h[0]instanceof Array?i.default.prototype.saveStrings(h[0],h[1],h[2]):h[0]instanceof i.default.Table?i.default.prototype.saveTable(h[0],h[1],h[2]):h[0]instanceof i.default.Image?i.default.prototype.saveCanvas(h[0].canvas,h[1]):h[0]instanceof i.default.SoundFile&&i.default.prototype.saveSound(h[0],h[1],h[2],h[3])}},i.default.prototype.saveJSON=function(r,a,d){i.default._validateParameters("saveJSON",arguments),d=d?JSON.stringify(r):JSON.stringify(r,void 0,2),this.saveStrings(d.split(`
`),a,"json")},i.default.prototype.saveJSONObject=i.default.prototype.saveJSON,i.default.prototype.saveJSONArray=i.default.prototype.saveJSON,i.default.prototype.saveStrings=function(r,a,d,h){i.default._validateParameters("saveStrings",arguments);for(var c=this.createWriter(a,d||"txt"),p=0;p<r.length;p++)h?c.write(r[p]+`\r
`):c.write(r[p]+`
`);c.close(),c.clear()},i.default.prototype.saveTable=function(r,a,d){i.default._validateParameters("saveTable",arguments),h=d===void 0?a.substring(a.lastIndexOf(".")+1,a.length):d;var h,c=this.createWriter(a,h),p=r.columns,m=h==="tsv"?"	":",";if(h!=="html"){if(p[0]!=="0"){for(var b=0;b<p.length;b++)b<p.length-1?c.write(p[b]+m):c.write(p[b]);c.write(`
`)}for(var A=0;A<r.rows.length;A++){var T=void 0;for(T=0;T<r.rows[A].arr.length;T++)T<r.rows[A].arr.length-1?h==="csv"&&String(r.rows[A].arr[T]).includes(",")?c.write('"'+r.rows[A].arr[T]+'"'+m):c.write(r.rows[A].arr[T]+m):h==="csv"&&String(r.rows[A].arr[T]).includes(",")?c.write('"'+r.rows[A].arr[T]+'"'):c.write(r.rows[A].arr[T]);c.write(`
`)}}else{if(c.print("<html>"),c.print("<head>"),c.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),c.print("</head>"),c.print("<body>"),c.print("  <table>"),p[0]!=="0"){c.print("    <tr>");for(var x=0;x<p.length;x++){var R=o(p[x]);c.print("      <td>".concat(R)),c.print("      </td>")}c.print("    </tr>")}for(var S=0;S<r.rows.length;S++){c.print("    <tr>");for(var C=0;C<r.columns.length;C++){var D=o(r.rows[S].getString(C));c.print("      <td>".concat(D)),c.print("      </td>")}c.print("    </tr>")}c.print("  </table>"),c.print("</body>"),c.print("</html>")}c.close(),c.clear()},i.default.prototype.writeFile=function(r,a,d){var h="application/octet-stream";i.default.prototype._isSafari()&&(h="text/plain"),r=new Blob(r,{type:h}),i.default.prototype.downloadFile(r,a,d)},i.default.prototype.downloadFile=function(r,a,d){var h;d=(a=s(a,d))[0],r instanceof Blob?g.default.saveAs(r,d):((h=document.createElement("a")).href=r,h.download=d,h.onclick=function(c){document.body.removeChild(c.target),c.stopPropagation()},h.style.display="none",document.body.appendChild(h),i.default.prototype._isSafari()&&(r=(r=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(a[1],'"'),alert(r)),h.click())},i.default.prototype._checkFileExtension=s,i.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},t=i.default,_.default=t},{"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.object.from-entries":175,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.iterator":236,"core-js/modules/web.url":238,"es6-promise/auto":239,"fetch-jsonp":241,"file-saver":242,"whatwg-fetch":251}],300:[function(t,O,_){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function i(l,g){for(var y=0;y<g.length;y++){var n=g[y];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(l,n.key,n)}}f.default.Table=function(){function l(n){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=[]}var g,y;return g=l,(y=[{key:"addRow",value:function(n){if((n=n||new f.default.TableRow).arr===void 0||n.obj===void 0)throw new Error("invalid TableRow: ".concat(n));return(n.table=this).rows.push(n),n}},{key:"removeRow",value:function(n){this.rows[n].table=null,n=this.rows.splice(n+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(n)}},{key:"getRow",value:function(n){return this.rows[n]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(n,o){if(typeof o=="string"){for(var s=0;s<this.rows.length;s++)if(this.rows[s].obj[o]===n)return this.rows[s]}else for(var r=0;r<this.rows.length;r++)if(this.rows[r].arr[o]===n)return this.rows[r];return null}},{key:"findRows",value:function(n,o){var s=[];if(typeof o=="string")for(var r=0;r<this.rows.length;r++)this.rows[r].obj[o]===n&&s.push(this.rows[r]);else for(var a=0;a<this.rows.length;a++)this.rows[a].arr[o]===n&&s.push(this.rows[a]);return s}},{key:"matchRow",value:function(n,o){if(typeof o=="number"){for(var s=0;s<this.rows.length;s++)if(this.rows[s].arr[o].match(n))return this.rows[s]}else for(var r=0;r<this.rows.length;r++)if(this.rows[r].obj[o].match(n))return this.rows[r];return null}},{key:"matchRows",value:function(n,o){var s=[];if(typeof o=="number")for(var r=0;r<this.rows.length;r++)this.rows[r].arr[o].match(n)&&s.push(this.rows[r]);else for(var a=0;a<this.rows.length;a++)this.rows[a].obj[o].match(n)&&s.push(this.rows[a]);return s}},{key:"getColumn",value:function(n){var o=[];if(typeof n=="string")for(var s=0;s<this.rows.length;s++)o.push(this.rows[s].obj[n]);else for(var r=0;r<this.rows.length;r++)o.push(this.rows[r].arr[n]);return o}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(n){this.columns.push(n||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(n,o){for(var s=[],r=0;r<n.length;r++)s.push(n.charAt(r).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var a=new RegExp(s.join("|"),"g");if(o===void 0)for(var d=0;d<this.columns.length;d++)for(var h=0;h<this.rows.length;h++){var c=(c=this.rows[h].arr[d]).replace(a,"");this.rows[h].arr[d]=c,this.rows[h].obj[this.columns[d]]=c}else if(typeof o=="string")for(var p=0;p<this.rows.length;p++){var m=(m=this.rows[p].obj[o]).replace(a,""),b=(this.rows[p].obj[o]=m,this.columns.indexOf(o));this.rows[p].arr[b]=m}else for(var A=0;A<this.rows.length;A++){var T=(T=this.rows[A].arr[o]).replace(a,"");this.rows[A].arr[o]=T,this.rows[A].obj[this.columns[o]]=T}}},{key:"trim",value:function(n){var o=new RegExp(" ","g");if(n===void 0)for(var s=0;s<this.columns.length;s++)for(var r=0;r<this.rows.length;r++){var a=(a=this.rows[r].arr[s]).replace(o,"");this.rows[r].arr[s]=a,this.rows[r].obj[this.columns[s]]=a}else if(typeof n=="string")for(var d=0;d<this.rows.length;d++){var h=(h=this.rows[d].obj[n]).replace(o,""),c=(this.rows[d].obj[n]=h,this.columns.indexOf(n));this.rows[d].arr[c]=h}else for(var p=0;p<this.rows.length;p++){var m=(m=this.rows[p].arr[n]).replace(o,"");this.rows[p].arr[n]=m,this.rows[p].obj[this.columns[n]]=m}}},{key:"removeColumn",value:function(n){typeof n=="string"?s=this.columns.indexOf(o=n):o=this.columns[s=n];var o,s;n=this.columns.splice(s+1,this.columns.length),this.columns.pop(),this.columns=this.columns.concat(n);for(var r=0;r<this.rows.length;r++){var a=this.rows[r].arr,d=a.splice(s+1,a.length);a.pop(),this.rows[r].arr=a.concat(d),delete this.rows[r].obj[o]}}},{key:"set",value:function(n,o,s){this.rows[n].set(o,s)}},{key:"setNum",value:function(n,o,s){this.rows[n].setNum(o,s)}},{key:"setString",value:function(n,o,s){this.rows[n].setString(o,s)}},{key:"get",value:function(n,o){return this.rows[n].get(o)}},{key:"getNum",value:function(n,o){return this.rows[n].getNum(o)}},{key:"getString",value:function(n,o){return this.rows[n].getString(o)}},{key:"getObject",value:function(n){for(var o,s={},r=0;r<this.rows.length;r++)if(o=this.rows[r].obj,typeof n=="string"){if(!(0<=this.columns.indexOf(n)))throw new Error('This table has no column named "'.concat(n,'"'));s[o[n]]=o}else s[r]=this.rows[r].obj;return s}},{key:"getArray",value:function(){for(var n=[],o=0;o<this.rows.length;o++)n.push(this.rows[o].arr);return n}}])&&i(g.prototype,y),l}(),t=f.default,_.default=t},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.join":161,"core-js/modules/es.array.splice":166,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194}],301:[function(t,O,_){function f(i,l){for(var g=0;g<l.length;g++){var y=l[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(i,y.key,y)}}t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,(t=(t=t("../core/main"))&&t.__esModule?t:{default:t}).default.TableRow=function(){function i(y,n){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");var o=[];y&&(o=y.split(n=n||",")),this.arr=o,this.obj=Object.fromEntries(o.entries()),this.table=null}var l,g;return l=i,(g=[{key:"set",value:function(y,n){if(typeof y=="string"){var o=this.table.columns.indexOf(y);if(!(0<=o))throw new Error('This table has no column named "'.concat(y,'"'));this.obj[y]=n,this.arr[o]=n}else{if(!(y<this.table.columns.length))throw new Error("Column #".concat(y," is out of the range of this table"));this.arr[y]=n,o=this.table.columns[y],this.obj[o]=n}}},{key:"setNum",value:function(y,n){n=parseFloat(n),this.set(y,n)}},{key:"setString",value:function(y,n){n=n.toString(),this.set(y,n)}},{key:"get",value:function(y){return(typeof y=="string"?this.obj:this.arr)[y]}},{key:"getNum",value:function(y){var n=parseFloat(typeof y=="string"?this.obj[y]:this.arr[y]);if(n.toString()==="NaN")throw"Error: ".concat(this.obj[y]," is NaN (Not a Number)");return n}},{key:"getString",value:function(y){return(typeof y=="string"?this.obj:this.arr)[y].toString()}}])&&f(l.prototype,g),i}(),t=t.default,_.default=t},{"../core/main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.from-entries":175,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.split":196,"core-js/modules/web.dom-collections.iterator":236}],302:[function(t,O,_){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function i(l,g){for(var y=0;y<g.length;y++){var n=g[y];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(l,n.key,n)}}f.default.XML=function(){function l(n){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");n?this.DOM=n:(n=document.implementation.createDocument(null,"doc"),this.DOM=n.createElement("root"))}var g,y;return g=l,(y=[{key:"getParent",value:function(){return new f.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(n){var o=this.DOM.innerHTML,s=this.DOM.attributes,r=document.implementation.createDocument(null,"default").createElement(n);r.innerHTML=o;for(var a=0;a<s.length;a++)r.setAttribute(s[a].nodeName,s.nodeValue);this.DOM=r}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var n=[],o=0;o<this.DOM.childNodes.length;o++)n.push(this.DOM.childNodes[o].nodeName);return n}},{key:"getChildren",value:function(n){return function(o){for(var s=[],r=0;r<o.length;r++)s.push(new f.default.XML(o[r]));return s}(n?this.DOM.getElementsByTagName(n):this.DOM.children)}},{key:"getChild",value:function(n){if(typeof n!="string")return new f.default.XML(this.DOM.children[n]);var o=!0,s=!1,r=void 0;try{for(var a,d=this.DOM.children[Symbol.iterator]();!(o=(a=d.next()).done);o=!0){var h=a.value;if(h.tagName===n)return new f.default.XML(h)}}catch(c){s=!0,r=c}finally{try{o||d.return==null||d.return()}finally{if(s)throw r}}}},{key:"addChild",value:function(n){n instanceof f.default.XML&&this.DOM.appendChild(n.DOM)}},{key:"removeChild",value:function(n){var o=-1;if(typeof n=="string"){for(var s=0;s<this.DOM.children.length;s++)if(this.DOM.children[s].tagName===n){o=s;break}}else o=n;o!==-1&&this.DOM.removeChild(this.DOM.children[o])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var n=[],o=!0,s=!1,r=void 0;try{for(var a,d=this.DOM.attributes[Symbol.iterator]();!(o=(a=d.next()).done);o=!0){var h=a.value;n.push(h.nodeName)}}catch(c){s=!0,r=c}finally{try{o||d.return==null||d.return()}finally{if(s)throw r}}return n}},{key:"hasAttribute",value:function(n){var o={},s=!0,r=!1,a=void 0;try{for(var d,h=this.DOM.attributes[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var c=d.value;o[c.nodeName]=c.nodeValue}}catch(p){r=!0,a=p}finally{try{s||h.return==null||h.return()}finally{if(r)throw a}}return!!o[n]}},{key:"getNum",value:function(n,o){var s={},r=!0,a=!1,d=void 0;try{for(var h,c=this.DOM.attributes[Symbol.iterator]();!(r=(h=c.next()).done);r=!0){var p=h.value;s[p.nodeName]=p.nodeValue}}catch(m){a=!0,d=m}finally{try{r||c.return==null||c.return()}finally{if(a)throw d}}return Number(s[n])||o||0}},{key:"getString",value:function(n,o){var s={},r=!0,a=!1,d=void 0;try{for(var h,c=this.DOM.attributes[Symbol.iterator]();!(r=(h=c.next()).done);r=!0){var p=h.value;s[p.nodeName]=p.nodeValue}}catch(m){a=!0,d=m}finally{try{r||c.return==null||c.return()}finally{if(a)throw d}}return s[n]?String(s[n]):o||null}},{key:"setAttribute",value:function(n,o){this.DOM.setAttribute(n,o)}},{key:"getContent",value:function(n){var o=this.DOM.textContent;return(o=o.replace(/\s\s+/g,","))||n||null}},{key:"setContent",value:function(n){this.DOM.children.length||(this.DOM.textContent=n)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&i(g.prototype,y),l}(),t=f.default,_.default=t},{"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],303:[function(t,O,_){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function i(){if(typeof Math.hypot=="function")return Math.hypot.apply(null,arguments);for(var l=arguments.length,g=[],y=0,n=0;n<l;n++){var o=arguments[n];if((o=+o)==1/0||o===-1/0)return 1/0;y<(o=Math.abs(o))&&(y=o),g[n]=o}y===0&&(y=1);for(var s=0,r=0,a=0;a<l;a++){var d,h=s+(d=(d=g[a]/y)*d-r);r=h-s-d,s=h}return Math.sqrt(s)*y}f.default.prototype.abs=Math.abs,f.default.prototype.ceil=Math.ceil,f.default.prototype.constrain=function(l,g,y){return f.default._validateParameters("constrain",arguments),Math.max(Math.min(l,y),g)},f.default.prototype.dist=function(){for(var l=arguments.length,g=new Array(l),y=0;y<l;y++)g[y]=arguments[y];return f.default._validateParameters("dist",g),g.length===4?i(g[2]-g[0],g[3]-g[1]):g.length===6?i(g[3]-g[0],g[4]-g[1],g[5]-g[2]):void 0},f.default.prototype.exp=Math.exp,f.default.prototype.floor=Math.floor,f.default.prototype.lerp=function(l,g,y){return f.default._validateParameters("lerp",arguments),y*(g-l)+l},f.default.prototype.log=Math.log,f.default.prototype.mag=function(l,g){return f.default._validateParameters("mag",arguments),i(l,g)},f.default.prototype.map=function(l,g,y,n,o,s){return f.default._validateParameters("map",arguments),l=(l-g)/(y-g)*(o-n)+n,s?n<o?this.constrain(l,n,o):this.constrain(l,o,n):l},f.default.prototype.max=function(){for(var l=function(o){var s=-1/0,r=!0,a=!1,d=void 0;try{for(var h,c=o[Symbol.iterator]();!(r=(h=c.next()).done);r=!0){var p=h.value;s=s<p?p:s}}catch(m){a=!0,d=m}finally{try{r||c.return==null||c.return()}finally{if(a)throw d}}return s},g=arguments.length,y=new Array(g),n=0;n<g;n++)y[n]=arguments[n];return y[0]instanceof Array?l(y[0]):l(y)},f.default.prototype.min=function(){for(var l=function(o){var s=1/0,r=!0,a=!1,d=void 0;try{for(var h,c=o[Symbol.iterator]();!(r=(h=c.next()).done);r=!0){var p=h.value;s=p<s?p:s}}catch(m){a=!0,d=m}finally{try{r||c.return==null||c.return()}finally{if(a)throw d}}return s},g=arguments.length,y=new Array(g),n=0;n<g;n++)y[n]=arguments[n];return y[0]instanceof Array?l(y[0]):l(y)},f.default.prototype.norm=function(l,g,y){return f.default._validateParameters("norm",arguments),this.map(l,g,y,0,1)},f.default.prototype.pow=Math.pow,f.default.prototype.round=function(l,g){return g?(g=Math.pow(10,g),Math.round(l*g)/g):Math.round(l)},f.default.prototype.sq=function(l){return l*l},f.default.prototype.sqrt=Math.sqrt,f.default.prototype.fract=function(l){f.default._validateParameters("fract",arguments);var g,y=0;return l=Number(l),isNaN(l)||Math.abs(l)===1/0?l:(l<0&&(l=-l,y=1),String(l).includes(".")&&!String(l).includes("e")?(g=String(l),g=+("0"+g.slice(g.indexOf("."))),Math.abs(y-g)):l<1?Math.abs(y-l):0)},t=f.default,_.default=t},{"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],304:[function(t,O,_){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function i(g,y,n){return(i=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(o,s,r){var a=[null];return a.push.apply(a,s),s=new(Function.bind.apply(o,a)),r&&l(s,r.prototype),s}).apply(null,arguments)}function l(g,y){return(l=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(g,y)}f.default.prototype.createVector=function(g,y,n){return this instanceof f.default?i(f.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new f.default.Vector(g,y,n)},t=f.default,_.default=t},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186}],305:[function(t,O,_){function f(n){return .5*(1-Math.cos(n*Math.PI))}Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};var i,l=4095,g=4,y=.5;t.default.prototype.noise=function(n){var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(i==null){i=new Array(4096);for(var r=0;r<4096;r++)i[r]=Math.random()}n<0&&(n=-n),o<0&&(o=-o),s<0&&(s=-s);for(var a,d,h=Math.floor(n),c=Math.floor(o),p=Math.floor(s),m=n-h,b=o-c,A=s-p,T=0,x=.5,R=0;R<g;R++){var S=h+(c<<4)+(p<<8),C=f(m),D=f(b),N=i[S&l];N+=C*(i[S+1&l]-N),a=i[S+16&l],N+=D*((a+=C*(i[S+16+1&l]-a))-N),a=i[(S+=256)&l],a+=C*(i[S+1&l]-a),d=i[S+16&l],a+=D*((d+=C*(i[S+16+1&l]-d))-a),T+=(N+=f(A)*(a-N))*x,x*=y,h<<=1,c<<=1,p<<=1,1<=(m*=2)&&(h++,m--),1<=(b*=2)&&(c++,b--),1<=(A*=2)&&(p++,A--)}return T},t.default.prototype.noiseDetail=function(n,o){0<n&&(g=n),0<o&&(y=o)},t.default.prototype.noiseSeed=function(n){s=4294967296;var o,s,r=function(){return(o=(1664525*o+1013904223)%s)/s};(function(d){o=(d??Math.random()*s)>>>0})(n),i=new Array(4096);for(var a=0;a<4096;a++)i[a]=r()},t=t.default,_.default=t},{"../core/main":273}],306:[function(t,O,_){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(r)}function i(r){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(a){return f(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":f(a)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var l=(s=t("../core/main"))&&s.__esModule?s:{default:s},g=function(r){if(r&&r.__esModule)return r;if(r===null||i(r)!=="object"&&typeof r!="function")return{default:r};var a=function(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,m)}();if(a&&a.has(r))return a.get(r);var d,h={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in r){var p;Object.prototype.hasOwnProperty.call(r,d)&&((p=c?Object.getOwnPropertyDescriptor(r,d):null)&&(p.get||p.set)?Object.defineProperty(h,d,p):h[d]=r[d])}return h.default=r,a&&a.set(r,h),h}(t("../core/constants"));function y(r,a){for(var d=0;d<a.length;d++){var h=a[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(r,h.key,h)}}function n(r,a){return r!==0&&(this.x=this.x%r),a!==0&&(this.y=this.y%a),this}function o(r,a,d){return r!==0&&(this.x=this.x%r),a!==0&&(this.y=this.y%a),d!==0&&(this.z=this.z%d),this}l.default.Vector=function(){function r(){var c=r;if(!((b=this)instanceof c))throw new TypeError("Cannot call a class as a function");var p,m,b=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],p=(arguments.length<=2?void 0:arguments[2])||0,m=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(p=(arguments.length<=0?void 0:arguments[0])||0,m=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=p,this.y=m,this.z=b}var a,d,h;return a=r,h=[{key:"fromAngle",value:function(c,p){return new l.default.Vector((p=p===void 0?1:p)*Math.cos(c),p*Math.sin(c),0)}},{key:"fromAngles",value:function(c,p,m){m===void 0&&(m=1);var b=Math.cos(p),A=(p=Math.sin(p),Math.cos(c));return c=Math.sin(c),new l.default.Vector(m*c*p,-m*A,m*c*b)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*g.TWO_PI)}},{key:"random3D",value:function(){var c=Math.random()*g.TWO_PI,p=2*Math.random()-1,m=(b=Math.sqrt(1-p*p))*Math.cos(c),b=b*Math.sin(c);return new l.default.Vector(m,b,p)}},{key:"copy",value:function(c){return c.copy(c)}},{key:"add",value:function(c,p,m){return m?m.set(c):(m=c.copy(),arguments.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),m.add(p),m}},{key:"rem",value:function(c,p){if(c instanceof l.default.Vector&&p instanceof l.default.Vector)return(c=c.copy()).rem(p),c}},{key:"sub",value:function(c,p,m){return m?m.set(c):(m=c.copy(),arguments.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),m.sub(p),m}},{key:"mult",value:function(c,p,m){return m?m.set(c):(m=c.copy(),arguments.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),m.mult(p),m}},{key:"rotate",value:function(c,p,m){return arguments.length===2?m=c.copy():(m instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),m.set(c)),m.rotate(p),m}},{key:"div",value:function(c,p,m){return m?m.set(c):(m=c.copy(),arguments.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),m.div(p),m}},{key:"dot",value:function(c,p){return c.dot(p)}},{key:"cross",value:function(c,p){return c.cross(p)}},{key:"dist",value:function(c,p){return c.dist(p)}},{key:"lerp",value:function(c,p,m,b){return b?b.set(c):(b=c.copy(),arguments.length===4&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),b.lerp(p,m),b}},{key:"slerp",value:function(c,p,m,b){return b?b.set(c):(b=c.copy(),arguments.length===4&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),b.slerp(p,m),b}},{key:"mag",value:function(c){return c.mag()}},{key:"magSq",value:function(c){return c.magSq()}},{key:"normalize",value:function(c,p){return arguments.length<2?p=c.copy():(p instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),p.set(c)),p.normalize()}},{key:"limit",value:function(c,p,m){return arguments.length<3?m=c.copy():(m instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),m.set(c)),m.limit(p)}},{key:"setMag",value:function(c,p,m){return arguments.length<3?m=c.copy():(m instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),m.set(c)),m.setMag(p)}},{key:"heading",value:function(c){return c.heading()}},{key:"angleBetween",value:function(c,p){return c.angleBetween(p)}},{key:"reflect",value:function(c,p,m){return arguments.length<3?m=c.copy():(m instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),m.set(c)),m.reflect(p)}},{key:"array",value:function(c){return c.array()}},{key:"equals",value:function(c,p){var m;return c instanceof l.default.Vector?m=c:c instanceof Array?m=new l.default.Vector().set(c):l.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),m.equals(p)}}],(d=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(c,p,m){return c instanceof l.default.Vector?(this.x=c.x||0,this.y=c.y||0,this.z=c.z||0):Array.isArray(c)?(this.x=c[0]||0,this.y=c[1]||0,this.z=c[2]||0):(this.x=c||0,this.y=p||0,this.z=m||0),this}},{key:"copy",value:function(){return this.isPInst?new l.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new l.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(c,p,m){return c instanceof l.default.Vector?(this.x+=c.x||0,this.y+=c.y||0,this.z+=c.z||0):Array.isArray(c)?(this.x+=c[0]||0,this.y+=c[1]||0,this.z+=c[2]||0):(this.x+=c||0,this.y+=p||0,this.z+=m||0),this}},{key:"rem",value:function(c,p,m){var b;if(c instanceof l.default.Vector){if([c.x,c.y,c.z].every(Number.isFinite))return A=parseFloat(c.x),T=parseFloat(c.y),b=parseFloat(c.z),o.call(this,A,T,b)}else if(Array.isArray(c)){if(c.every(function(x){return Number.isFinite(x)}))return c.length===2?n.call(this,c[0],c[1]):c.length===3?o.call(this,c[0],c[1],c[2]):void 0}else if(arguments.length===1){if(Number.isFinite(c)&&c!==0)return this.x=this.x%c,this.y=this.y%c,this.z=this.z%c,this}else if(arguments.length===2){var A=Array.prototype.slice.call(arguments);if(A.every(function(x){return Number.isFinite(x)})&&A.length===2)return n.call(this,A[0],A[1])}else if(arguments.length===3){var T=Array.prototype.slice.call(arguments);if(T.every(function(x){return Number.isFinite(x)})&&T.length===3)return o.call(this,T[0],T[1],T[2])}}},{key:"sub",value:function(c,p,m){return c instanceof l.default.Vector?(this.x-=c.x||0,this.y-=c.y||0,this.z-=c.z||0):Array.isArray(c)?(this.x-=c[0]||0,this.y-=c[1]||0,this.z-=c[2]||0):(this.x-=c||0,this.y-=p||0,this.z-=m||0),this}},{key:"mult",value:function(c,p,m){var b;return c instanceof l.default.Vector?Number.isFinite(c.x)&&Number.isFinite(c.y)&&Number.isFinite(c.z)&&typeof c.x=="number"&&typeof c.y=="number"&&typeof c.z=="number"?(this.x*=c.x,this.y*=c.y,this.z*=c.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(c)?c.every(function(A){return Number.isFinite(A)})&&c.every(function(A){return typeof A=="number"})?c.length===1?(this.x*=c[0],this.y*=c[0],this.z*=c[0]):c.length===2?(this.x*=c[0],this.y*=c[1]):c.length===3&&(this.x*=c[0],this.y*=c[1],this.z*=c[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(b=Array.prototype.slice.call(arguments)).every(function(A){return Number.isFinite(A)})&&b.every(function(A){return typeof A=="number"})?(arguments.length===1&&(this.x*=c,this.y*=c,this.z*=c),arguments.length===2&&(this.x*=c,this.y*=p),arguments.length===3&&(this.x*=c,this.y*=p,this.z*=m)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(c,p,m){if(c instanceof l.default.Vector)if(Number.isFinite(c.x)&&Number.isFinite(c.y)&&Number.isFinite(c.z)&&typeof c.x=="number"&&typeof c.y=="number"&&typeof c.z=="number"){var b=c.z===0&&this.z===0;if(c.x===0||c.y===0||!b&&c.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=c.x,this.y/=c.y,b||(this.z/=c.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(c))if(c.every(function(A){return Number.isFinite(A)})&&c.every(function(A){return typeof A=="number"})){if(c.some(function(A){return A===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;c.length===1?(this.x/=c[0],this.y/=c[0],this.z/=c[0]):c.length===2?(this.x/=c[0],this.y/=c[1]):c.length===3&&(this.x/=c[0],this.y/=c[1],this.z/=c[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if((b=Array.prototype.slice.call(arguments)).every(function(A){return Number.isFinite(A)})&&b.every(function(A){return typeof A=="number"})){if(b.some(function(A){return A===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=c,this.y/=c,this.z/=c),arguments.length===2&&(this.x/=c,this.y/=p),arguments.length===3&&(this.x/=c,this.y/=p,this.z/=m)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var c=this.x,p=this.y,m=this.z;return c*c+p*p+m*m}},{key:"dot",value:function(c,p,m){return c instanceof l.default.Vector?this.dot(c.x,c.y,c.z):this.x*(c||0)+this.y*(p||0)+this.z*(m||0)}},{key:"cross",value:function(c){var p=this.y*c.z-this.z*c.y,m=this.z*c.x-this.x*c.z;return c=this.x*c.y-this.y*c.x,this.isPInst?new l.default.Vector(this._fromRadians,this._toRadians,p,m,c):new l.default.Vector(p,m,c)}},{key:"dist",value:function(c){return c.copy().sub(this).mag()}},{key:"normalize",value:function(){var c=this.mag();return c!==0&&this.mult(1/c),this}},{key:"limit",value:function(c){var p=this.magSq();return c*c<p&&this.div(Math.sqrt(p)).mult(c),this}},{key:"setMag",value:function(c){return this.normalize().mult(c)}},{key:"heading",value:function(){var c=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(c):c}},{key:"setHeading",value:function(c){this.isPInst&&(c=this._toRadians(c));var p=this.mag();return this.x=p*Math.cos(c),this.y=p*Math.sin(c),this}},{key:"rotate",value:function(c){c=this.heading()+c;var p=(this.isPInst&&(c=this._toRadians(c)),this.mag());return this.x=Math.cos(c)*p,this.y=Math.sin(c)*p,this}},{key:"angleBetween",value:function(c){var p;return this.magSq()*c.magSq()==0?NaN:(p=this.cross(c),c=Math.atan2(p.mag(),this.dot(c))*Math.sign(p.z||1),this.isPInst?this._fromRadians(c):c)}},{key:"lerp",value:function(c,p,m,b){return c instanceof l.default.Vector?this.lerp(c.x,c.y,c.z,p):(this.x+=(c-this.x)*b||0,this.y+=(p-this.y)*b||0,this.z+=(m-this.z)*b||0,this)}},{key:"slerp",value:function(c,p){if(p!==0){if(p===1)return this.set(c);var m=this.mag(),b=c.mag();if(m*b==0)this.mult(1-p).add(c.x*p,c.y*p,c.z*p);else{var A=this.cross(c),T=A.mag(),x=Math.atan2(T,this.dot(c));if(0<T)A.x/=T,A.y/=T,A.z/=T;else{if(x<.5*Math.PI)return this.mult(1-p).add(c.x*p,c.y*p,c.z*p),this;this.z===0&&c.z===0?A.set(0,0,1):this.x!==0?A.set(this.y,-this.x,0).normalize():A.set(1,0,0)}T=A.cross(this),A=(c=1-p+p*b/m)*Math.cos(p*x),b=c*Math.sin(p*x),this.x=this.x*A+T.x*b,this.y=this.y*A+T.y*b,this.z=this.z*A+T.z*b}}return this}},{key:"reflect",value:function(c){return c.normalize(),this.sub(c.mult(2*this.dot(c)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(c,p,m){var b,A;return c=c instanceof l.default.Vector?(b=c.x||0,A=c.y||0,c.z||0):Array.isArray(c)?(b=c[0]||0,A=c[1]||0,c[2]||0):(b=c||0,A=p||0,m||0),this.x===b&&this.y===A&&this.z===c}}])&&y(a.prototype,d),h&&y(a,h),r}();var s=l.default.Vector;_.default=s},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.every":153,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.math.sign":170,"core-js/modules/es.number.constructor":171,"core-js/modules/es.number.is-finite":172,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.sub":198,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],307:[function(t,O,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t},i="_lcg_random_state",l=4294967296,g=0;f.default.prototype._lcg=function(y){return this[y]=(1664525*this[y]+1013904223)%l,this[y]/l},f.default.prototype._lcgSetSeed=function(y,n){this[y]=(n??Math.random()*l)>>>0},f.default.prototype.randomSeed=function(y){this._lcgSetSeed(i,y),this._gaussian_previous=!1},f.default.prototype.random=function(y,n){var o,s;return f.default._validateParameters("random",arguments),o=this[i]!=null?this._lcg(i):Math.random(),y===void 0?o:n===void 0?y instanceof Array?y[Math.floor(o*y.length)]:o*y:(n<y&&(s=y,y=n,n=s),o*(n-y)+y)},f.default.prototype.randomGaussian=function(y){var n,o,s,r,a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)n=g,this._gaussian_previous=!1;else{for(;1<=(r=(o=this.random(2)-1)*o+(s=this.random(2)-1)*s););n=o*(r=Math.sqrt(-2*Math.log(r)/r)),g=s*r,this._gaussian_previous=!0}return n*a+(y||0)},t=f.default,_.default=t},{"../core/main":273}],308:[function(t,O,_){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(n)}function i(n){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(o){return f(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":f(o)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var l=(y=t("../core/main"))&&y.__esModule?y:{default:y},g=function(n){if(n&&n.__esModule)return n;if(n===null||i(n)!=="object"&&typeof n!="function")return{default:n};var o=function(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,h)}();if(o&&o.has(n))return o.get(n);var s,r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in n){var d;Object.prototype.hasOwnProperty.call(n,s)&&((d=a?Object.getOwnPropertyDescriptor(n,s):null)&&(d.get||d.set)?Object.defineProperty(r,s,d):r[s]=n[s])}return r.default=n,o&&o.set(n,r),r}(t("../core/constants"));l.default.prototype._angleMode=g.RADIANS,l.default.prototype.acos=function(n){return this._fromRadians(Math.acos(n))},l.default.prototype.asin=function(n){return this._fromRadians(Math.asin(n))},l.default.prototype.atan=function(n){return this._fromRadians(Math.atan(n))},l.default.prototype.atan2=function(n,o){return this._fromRadians(Math.atan2(n,o))},l.default.prototype.cos=function(n){return Math.cos(this._toRadians(n))},l.default.prototype.sin=function(n){return Math.sin(this._toRadians(n))},l.default.prototype.tan=function(n){return Math.tan(this._toRadians(n))},l.default.prototype.degrees=function(n){return n*g.RAD_TO_DEG},l.default.prototype.radians=function(n){return n*g.DEG_TO_RAD},l.default.prototype.angleMode=function(n){if(l.default._validateParameters("angleMode",arguments),n===void 0)return this._angleMode;n!==g.DEGREES&&n!==g.RADIANS||(this._angleMode=n)},l.default.prototype._toRadians=function(n){return this._angleMode===g.DEGREES?n*g.DEG_TO_RAD:n},l.default.prototype._toDegrees=function(n){return this._angleMode===g.RADIANS?n*g.RAD_TO_DEG:n},l.default.prototype._fromRadians=function(n){return this._angleMode===g.DEGREES?n*g.RAD_TO_DEG:n};var y=l.default;_.default=y},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],309:[function(t,O,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};f.default.prototype.textAlign=function(i,l){var g;return f.default._validateParameters("textAlign",arguments),(g=this._renderer).textAlign.apply(g,arguments)},f.default.prototype.textLeading=function(i){var l;return f.default._validateParameters("textLeading",arguments),(l=this._renderer).textLeading.apply(l,arguments)},f.default.prototype.textSize=function(i){var l;return f.default._validateParameters("textSize",arguments),(l=this._renderer).textSize.apply(l,arguments)},f.default.prototype.textStyle=function(i){var l;return f.default._validateParameters("textStyle",arguments),(l=this._renderer).textStyle.apply(l,arguments)},f.default.prototype.textWidth=function(){for(var i,l=arguments.length,g=new Array(l),y=0;y<l;y++)g[y]=arguments[y];return g[0]+="",f.default._validateParameters("textWidth",g),g[0].length===0?0:(i=this._renderer).textWidth.apply(i,g)},f.default.prototype.textAscent=function(){for(var i=arguments.length,l=new Array(i),g=0;g<i;g++)l[g]=arguments[g];return f.default._validateParameters("textAscent",l),this._renderer.textAscent()},f.default.prototype.textDescent=function(){for(var i=arguments.length,l=new Array(i),g=0;g<i;g++)l[g]=arguments[g];return f.default._validateParameters("textDescent",l),this._renderer.textDescent()},f.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},f.default.prototype.textWrap=function(i){if(i!=="WORD"&&i!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(i)},t=f.default,_.default=t},{"../core/main":273}],310:[function(t,O,_){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(r)}function i(r){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(a){return f(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":f(a)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var l=(s=t("../core/main"))&&s.__esModule?s:{default:s},g=o(t("../core/constants")),y=o(t("opentype.js"));function n(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,n=function(){return r},r)}function o(r){if(r&&r.__esModule)return r;if(r===null||i(r)!=="object"&&typeof r!="function")return{default:r};var a=n();if(a&&a.has(r))return a.get(r);var d,h,c={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in r)Object.prototype.hasOwnProperty.call(r,d)&&((h=p?Object.getOwnPropertyDescriptor(r,d):null)&&(h.get||h.set)?Object.defineProperty(c,d,h):c[d]=r[d]);return c.default=r,a&&a.set(r,c),c}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),l.default.prototype.loadFont=function(r,a,d){l.default._validateParameters("loadFont",arguments);var h=new l.default.Font(this),c=this;return y.load(r,function(p,m){if(p)return l.default._friendlyFileLoadError(4,r),d!==void 0?d(p):void console.error(p,r);h.font=m,a!==void 0&&a(h),c._decrementPreload();var b=(m=(p=r.split("\\").pop().split("/").pop()).lastIndexOf("."))<1?null:p.slice(m+1);["ttf","otf","woff","woff2"].includes(b)&&(b=p.slice(0,m!==-1?m:0),(p=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(b,`;
src: url(`).concat(r,`);
}
`))),document.head.appendChild(p))}),h},l.default.prototype.text=function(r,a,d,h,c){var p;return l.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(p=this._renderer).text.apply(p,arguments):this},l.default.prototype.textFont=function(r,a){if(l.default._validateParameters("textFont",arguments),arguments.length){if(r)return this._renderer._setProperty("_textFont",r),a&&(this._renderer._setProperty("_textSize",a),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",a*g._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var s=l.default;_.default=s},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,"opentype.js":247}],311:[function(t,O,_){function f(T){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(T)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var i=(i=t("../core/main"))&&i.__esModule?i:{default:i},l=function(T){if(T&&T.__esModule)return T;if(T===null||g(T)!=="object"&&typeof T!="function")return{default:T};var x=function(){var N;return typeof WeakMap!="function"?null:(N=new WeakMap,N)}();if(x&&x.has(T))return x.get(T);var R,S={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(R in T){var D;Object.prototype.hasOwnProperty.call(T,R)&&((D=C?Object.getOwnPropertyDescriptor(T,R):null)&&(D.get||D.set)?Object.defineProperty(S,R,D):S[R]=T[R])}return S.default=T,x&&x.set(T,S),S}(t("../core/constants"));function g(T){return(g=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(x){return f(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":f(x)})(T)}function y(T,x){for(var R=0;R<x.length;R++){var S=x[R];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}function n(T,x){var R=T.length;return T[x<0?x%R+R:x%R]}function o(T,x,R,S){var C,D,N;return S?(o.tmpPoint1===void 0&&(o.tmpPoint1=[],o.tmpPoint2=[]),D=o.tmpPoint1,N=o.tmpPoint2,D.x=x.x-T.x,D.y=x.y-T.y,N.x=R.x-x.x,N.y=R.y-x.y,C=D.x*N.x+D.y*N.y,D=Math.sqrt(D.x*D.x+D.y*D.y),N=Math.sqrt(N.x*N.x+N.y*N.y),Math.acos(C/(D*N))<S):(x[0]-T[0])*(R[1]-T[1])-(R[0]-T[0])*(x[1]-T[1])==0}function s(T,x,R,S,C,D,N,F,M){var L=1-M,z=(Y=Math.pow(L,3))*T+3*(Z=Math.pow(L,2))*M*R+3*L*M*M*C+(ee=(oe=M*M)*M)*N,Y=Y*x+3*Z*M*S+3*L*M*M*D+ee*F,Z=T+2*M*(R-T)+oe*(C-2*R+T),ee=x+2*M*(S-x)+oe*(D-2*S+x),te=R+2*M*(C-R)+oe*(N-2*C+R),oe=S+2*M*(D-S)+oe*(F-2*D+S);return T=L*T+M*R,R=L*x+M*S,x=L*C+M*N,S=L*D+M*F,C=90-180*Math.atan2(Z-te,ee-oe)/Math.PI,(te<Z||ee<oe)&&(C+=180),{x:z,y:Y,m:{x:Z,y:ee},n:{x:te,y:oe},start:{x:T,y:R},end:{x,y:S},alpha:C}}function r(T,x,R,S,C,D,N,F,M){return M==null?b(T,x,R,S,C,D,N,F):s(T,x,R,S,C,D,N,F,function(L,z,Y,Z,ee,te,oe,U,q){if(!(q<0||b(L,z,Y,Z,ee,te,oe,U)<q)){var K,se=.5,ie=1-se;for(K=b(L,z,Y,Z,ee,te,oe,U,ie);.01<Math.abs(K-q);)K=b(L,z,Y,Z,ee,te,oe,U,ie+=(K<q?1:-1)*(se/=2));return ie}}(T,x,R,S,C,D,N,F,M))}function a(T,x,R){for(var S,C,D,N,F,M=0,L=0,z=(T=function(Y,Z){function ee(ve,Ee,Fe){var Oe,Ge;if(!ve)return["C",Ee.x,Ee.y,Ee.x,Ee.y,Ee.x,Ee.y];switch(ve[0]in{T:1,Q:1}||(Ee.qx=Ee.qy=null),ve[0]){case"M":Ee.X=ve[1],Ee.Y=ve[2];break;case"A":ve=["C"].concat(h.apply(0,[Ee.x,Ee.y].concat(ve.slice(1))));break;case"S":Ge=Fe==="C"||Fe==="S"?(Oe=2*Ee.x-Ee.bx,2*Ee.y-Ee.by):(Oe=Ee.x,Ee.y),ve=["C",Oe,Ge].concat(ve.slice(1));break;case"T":Fe==="Q"||Fe==="T"?(Ee.qx=2*Ee.x-Ee.qx,Ee.qy=2*Ee.y-Ee.qy):(Ee.qx=Ee.x,Ee.qy=Ee.y),ve=["C"].concat(m(Ee.x,Ee.y,Ee.qx,Ee.qy,ve[1],ve[2]));break;case"Q":Ee.qx=ve[1],Ee.qy=ve[2],ve=["C"].concat(m(Ee.x,Ee.y,ve[1],ve[2],ve[3],ve[4]));break;case"L":ve=["C"].concat(p(Ee.x,Ee.y,ve[1],ve[2]));break;case"H":ve=["C"].concat(p(Ee.x,Ee.y,ve[1],Ee.y));break;case"V":ve=["C"].concat(p(Ee.x,Ee.y,Ee.x,ve[1]));break;case"Z":ve=["C"].concat(p(Ee.x,Ee.y,Ee.X,Ee.Y))}return ve}function te(ve,Ee){if(7<ve[Ee].length){ve[Ee].shift();for(var Fe=ve[Ee];Fe.length;)le[Ee]="A",ve.splice(Ee++,0,["C"].concat(Fe.splice(0,6)));ve.splice(Ee,1),U=Math.max(q.length,0)}}function oe(ve,Ee,Fe,Oe,Ge){ve&&Ee&&ve[Ge][0]==="M"&&Ee[Ge][0]!=="M"&&(Ee.splice(Ge,0,["M",Oe.x,Oe.y]),Fe.bx=0,Fe.by=0,Fe.x=ve[Ge][1],Fe.y=ve[Ge][2],U=Math.max(q.length,0))}var U,q=d(Y),K=Z,se={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ie={x:0,y:0,bx:0,by:0},le=[],$="",ce="";U=Math.max(q.length,0);for(var ye=0;ye<U;ye++){($=q[ye]?q[ye][0]:$)!=="C"&&(le[ye]=$,ye&&(ce=le[ye-1])),q[ye]=ee(q[ye],se,ce),le[ye]!=="A"&&$==="C"&&(le[ye]="C"),te(q,ye),oe(q,K,se,ie,ye),oe(K,q,ie,se,ye);var _e=q[ye],he=_e.length;se.x=_e[he-2],se.y=_e[he-1],se.bx=parseFloat(_e[he-4])||se.x,se.by=parseFloat(_e[he-3])||se.y,ie.bx=K,ie.by=K,ie.x=K,ie.y=K}return K?[q,K]:q}(T)).length;L<z;L++){if((D=T[L])[0]==="M")S=+D[1],C=+D[2];else{if(x<M+(N=r(S,C,D[1],D[2],D[3],D[4],D[5],D[6]))&&!R)return{x:(F=r(S,C,D[1],D[2],D[3],D[4],D[5],D[6],x-M)).x,y:F.y,alpha:F.alpha};M+=N,S=+D[5],C=+D[6]}D.shift()}return(F=R?M:s(S,C,D[0],D[1],D[2],D[3],D[4],D[5],1)).alpha?{x:F.x,y:F.y,alpha:F.alpha}:F}function d(T){var x=[],R=0,S=0,C=0,D=0,N=0;if(T){T[0][0]==="M"&&(C=R=+T[0][1],D=S=+T[0][2],N++,x[0]=["M",R,S]);for(var F,M,L=T.length===3&&T[0][0]==="M"&&T[1][0].toUpperCase()==="R"&&T[2][0].toUpperCase()==="Z",z=N,Y=T.length;z<Y;z++){if(x.push(F=[]),(M=T[z])[0]!==String.prototype.toUpperCase.call(M[0]))switch(F[0]=String.prototype.toUpperCase.call(M[0]),F[0]){case"A":F[1]=M[1],F[2]=M[2],F[3]=M[3],F[4]=M[4],F[5]=M[5],F[6]=+(M[6]+R),F[7]=+(M[7]+S);break;case"V":F[1]=+M[1]+S;break;case"H":F[1]=+M[1]+R;break;case"R":for(var Z,ee=2,te=(Z=[R,S].concat(M.slice(1))).length;ee<te;ee++)Z[ee]=+Z[ee]+R,Z[++ee]=+Z[ee]+S;x.pop(),x=x.concat(c(Z,L));break;case"M":C=+M[1]+R,D=+M[2]+S;break;default:for(var oe=1,U=M.length;oe<U;oe++)F[oe]=+M[oe]+(oe%2?R:S)}else if(M[0]==="R")Z=[R,S].concat(M.slice(1)),x.pop(),x=x.concat(c(Z,L)),F=["R"].concat(M.slice(-2));else for(var q=0,K=M.length;q<K;q++)F[q]=M[q];switch(F[0]){case"Z":R=C,S=D;break;case"H":R=F[1];break;case"V":S=F[1];break;case"M":C=F[F.length-2],D=F[F.length-1];break;default:R=F[F.length-2],S=F[F.length-1]}}}return x}function h(T,x,R,S,C,D,N,F,M,L){function z(he,ve,Ee){return{x:he*Math.cos(Ee)-ve*Math.sin(Ee),y:he*Math.sin(Ee)+ve*Math.cos(Ee)}}var Y,Z=120*(q=Math.PI)/180,ee=q/180*(+C||0),te=[],oe=(L?($=L[0],Y=L[1],ie=L[2],le=L[3]):(T=(K=z(T,x,-ee)).x,x=K.y,1<(oe=(U=(T-(F=(K=z(F,M,-ee)).x))/2)*U/(R*R)+(K=(x-(M=K.y))/2)*K/(S*S))&&(R*=oe=Math.sqrt(oe),S*=oe),oe=R*R,se=S*S,ie=(D=(D===N?-1:1)*Math.sqrt(Math.abs((oe*se-oe*K*K-se*U*U)/(oe*K*K+se*U*U))))*R*K/S+(T+F)/2,le=D*-S*U/R+(x+M)/2,$=Math.asin(((x-le)/S).toFixed(9)),Y=Math.asin(((M-le)/S).toFixed(9)),($=T<ie?q-$:$)<0&&($=2*q+$),(Y=F<ie?q-Y:Y)<0&&(Y=2*q+Y),N&&Y<$&&($-=2*q),!N&&$<Y&&(Y-=2*q)),Y-$),U=(Math.abs(oe)>Z&&(se=Y,K=F,D=M,Y=$+Z*(N&&$<Y?1:-1),te=h(F=ie+R*Math.cos(Y),M=le+S*Math.sin(Y),R,S,C,0,N,K,D,[Y,se,ie,le])),oe=Y-$,Math.cos($)),q=Math.sin($),K=(Z=Math.cos(Y),C=Math.sin(Y),4/3*R*(N=Math.tan(oe/4))),se=[T,x],ie=[T+K*q,x-(D=4/3*S*N)*U],le=[F+K*C,M-D*Z],$=[F,M];if(ie[0]=2*se[0]-ie[0],ie[1]=2*se[1]-ie[1],L)return[ie,le,$].concat(te);for(var ce=[],ye=0,_e=(te=[ie,le,$].concat(te).join().split(",")).length;ye<_e;ye++)ce[ye]=ye%2?z(te[ye-1],te[ye],ee).y:z(te[ye],te[ye+1],ee).x;return ce}function c(T,x){for(var R=[],S=0,C=T.length;S<C-2*!x;S+=2){var D=[{x:+T[S-2],y:+T[S-1]},{x:+T[S],y:+T[S+1]},{x:+T[S+2],y:+T[S+3]},{x:+T[S+4],y:+T[S+5]}];x?S?C-4===S?D[3]={x:+T[0],y:+T[1]}:C-2===S&&(D[2]={x:+T[0],y:+T[1]},D[3]={x:+T[2],y:+T[3]}):D[0]={x:+T[C-2],y:+T[C-1]}:C-4===S?D[3]=D[2]:S||(D[0]={x:+T[S],y:+T[S+1]}),R.push(["C",(-D[0].x+6*D[1].x+D[2].x)/6,(-D[0].y+6*D[1].y+D[2].y)/6,(D[1].x+6*D[2].x-D[3].x)/6,(D[1].y+6*D[2].y-D[3].y)/6,D[2].x,D[2].y])}return R}function p(T,x,R,S){return[T,x,R,S,R,S]}function m(T,x,R,S,C,D){return[1/3*T+2/3*R,1/3*x+2/3*S,1/3*C+2/3*R,1/3*D+2/3*S,C,D]}function b(T,x,R,S,C,D,N,F,M){for(var L=(M=1<(M=M??1)?1:M<0?0:M)/2,z=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Y=0,Z=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],ee=0;ee<12;ee++){var te=A(oe=L*z[ee]+L,T,R,C,N),oe=A(oe,x,S,D,F);Y+=Z[ee]*Math.sqrt(te*te+oe*oe)}return L*Y}function A(T,x,R,S,C){return T*(T*(-3*x+9*R-9*S+3*C)+6*x-12*R+6*S)-3*x+3*R}i.default.Font=function(){function T(S){if(!(this instanceof T))throw new TypeError("Cannot call a class as a function");this.parent=S,this.cache={},this.font=void 0}var x,R;return x=T,(R=[{key:"textBounds",value:function(S){var C=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,N=3<arguments.length?arguments[3]:void 0,F=4<arguments.length?arguments[4]:void 0,M=F&&F.renderer&&F.renderer._pInst||this.parent;if((se=M._renderer.drawingContext).textAlign||l.LEFT,se.textBaseline||l.BASELINE,N=N||M._renderer._textSize,!ie){for(var L=[],z=[],Y=[],Z=(Y[0]=[],[]),ee=this._scale(N),te=M._renderer.textLeading(),oe=0,U=(this.font.forEachGlyph(S,C,D,N,F,function(le,$,ce,ye){var _e=le.getMetrics();le.index===0||le.index===10?Y[oe+=1]=[]:(Y[oe].push($+_e.xMin*ee),Y[oe].push($+_e.xMax*ee),Z.push(ce+oe*te+-_e.yMin*ee),Z.push(ce+oe*te+-_e.yMax*ee))}),0<Y[oe].length&&(L[oe]=Math.min.apply(null,Y[oe]),z[oe]=Math.max.apply(null,Y[oe])),0),q=0;q<=oe;q++){L[q]=Math.min.apply(null,Y[q]),z[q]=Math.max.apply(null,Y[q]);var K=z[q]-L[q];U<K&&(U=K)}var se,ie={x:se=Math.min.apply(null,L),y:D=Math.min.apply(null,Z),h:Math.max.apply(null,Z)-D,w:U,advance:se-C};N=this._handleAlignment(M._renderer,S,ie.x,ie.y,ie.w+ie.advance),ie.x=N.x,ie.y=N.y}return ie}},{key:"textToPoints",value:function(S,C,D,N,F){var M=0,L=[],z=this._getGlyphs(S);N=N||this.parent._renderer._textSize;for(var Y,Z=0;Z<z.length;Z++){if(!(z[Y=Z].name&&z[Y].name==="space"||S.length===z.length&&S[Y]===" "))for(var ee=function(q){for(var K,se=[],ie=0;ie<q.length;ie++)q[ie].type==="M"&&(K&&se.push(K),K=[]),K.push(function(le){var $=[le.type];return le.type==="M"||le.type==="L"?$.push(le.x,le.y):le.type==="C"?$.push(le.x1,le.y1,le.x2,le.y2,le.x,le.y):le.type==="Q"&&$.push(le.x1,le.y1,le.x,le.y),$}(q[ie]));return se.push(K),se}(z[Z].getPath(C,D,N).commands),te=0;te<ee.length;te++)for(var oe=function(q,K){K=function(ce,ye){if(g(ce)!=="object")ce=ye;else for(var _e in ye)ce[_e]===void 0&&(ce[_e]=ye[_e]);return ce}(K,{sampleFactor:.1,simplifyThreshold:0});for(var se=a(q,0,1),ie=se/(se*K.sampleFactor),le=[],$=0;$<se;$+=ie)le.push(a(q,$));return K.simplifyThreshold&&function(ce){for(var ye=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,_e=ce.length-1;3<ce.length&&0<=_e;--_e)o(n(ce,_e-1),n(ce,_e),n(ce,_e+1),ye)&&ce.splice(_e%ce.length,1)}(le,K.simplifyThreshold),le}(ee[te],F),U=0;U<oe.length;U++)oe[U].x+=M,L.push(oe[U]);M+=z[Z].advanceWidth*this._scale(N)}return L}},{key:"_getGlyphs",value:function(S){return this.font.stringToGlyphs(S)}},{key:"_getPath",value:function(S,C,D,N){var F=(N&&N.renderer&&N.renderer._pInst||this.parent)._renderer;return C=this._handleAlignment(F,S,C,D),this.font.getPath(S,C.x,C.y,F._textSize,N)}},{key:"_getPathData",value:function(S,C,D,N){var F=3;return typeof S=="string"&&2<arguments.length?S=this._getPath(S,C,D,N):g(C)==="object"&&(N=C),N&&typeof N.decimals=="number"&&(F=N.decimals),S.toPathData(F)}},{key:"_getSVG",value:function(S,C,D,N){var F=3;return typeof S=="string"&&2<arguments.length?S=this._getPath(S,C,D,N):g(C)==="object"&&(N=C),N&&(typeof N.decimals=="number"&&(F=N.decimals),typeof N.strokeWidth=="number"&&(S.strokeWidth=N.strokeWidth),N.fill!==void 0&&(S.fill=N.fill),N.stroke!==void 0&&(S.stroke=N.stroke)),S.toSVG(F)}},{key:"_renderPath",value:function(S,C,D,N){var F=N&&N.renderer||this.parent._renderer,M=F.drawingContext,L=(S=(g(S)==="object"&&S.commands?S:this._getPath(S,C,D,N)).commands,M.beginPath(),!0);C=!1,D=void 0;try{for(var z,Y=S[Symbol.iterator]();!(L=(z=Y.next()).done);L=!0){var Z=z.value;Z.type==="M"?M.moveTo(Z.x,Z.y):Z.type==="L"?M.lineTo(Z.x,Z.y):Z.type==="C"?M.bezierCurveTo(Z.x1,Z.y1,Z.x2,Z.y2,Z.x,Z.y):Z.type==="Q"?M.quadraticCurveTo(Z.x1,Z.y1,Z.x,Z.y):Z.type==="Z"&&M.closePath()}}catch(ee){C=!0,D=ee}finally{try{L||Y.return==null||Y.return()}finally{if(C)throw D}}return F._doStroke&&F._strokeSet&&M.stroke(),F._doFill&&(F._fillSet||F._setFill(l._DEFAULT_TEXT_FILL),M.fill()),this}},{key:"_textWidth",value:function(S,C){return this.font.getAdvanceWidth(S,C)}},{key:"_textAscent",value:function(S){return this.font.ascender*this._scale(S)}},{key:"_textDescent",value:function(S){return-this.font.descender*this._scale(S)}},{key:"_scale",value:function(S){return 1/this.font.unitsPerEm*(S||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(S,C,D,N,F){var M=S._textSize;switch(F===void 0&&(F=this._textWidth(C,M)),S._textAlign){case l.CENTER:D-=F/2;break;case l.RIGHT:D-=F}switch(S._textBaseline){case l.TOP:N+=this._textAscent(M);break;case l.CENTER:N+=this._textAscent(M)/2;break;case l.BOTTOM:N-=this._textDescent(M)}return{x:D,y:N}}}])&&y(x.prototype,R),T}(),t=i.default,_.default=t},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],312:[function(t,O,_){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,(t=(t=t("../core/main"))&&t.__esModule?t:{default:t}).default.prototype.append=function(f,i){return f.push(i),f},t.default.prototype.arrayCopy=function(f,i,l,g,y){var n,o;f=y!==void 0?(o=Math.min(y,f.length),n=g,f.slice(i,o+i)):(o=l!==void 0?(o=l,Math.min(o,f.length)):f.length,l=i,f.slice(n=0,o)),Array.prototype.splice.apply(l,[n,o].concat(f))},t.default.prototype.concat=function(f,i){return f.concat(i)},t.default.prototype.reverse=function(f){return f.reverse()},t.default.prototype.shorten=function(f){return f.pop(),f},t.default.prototype.shuffle=function(f,i){for(var l,g,y=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(f),n=(f=i||y?f:f.slice()).length;1<n;)l=this.random(0,1)*n|0,g=f[--n],f[n]=f[l],f[l]=g;return f},t.default.prototype.sort=function(f,i){var l=i?f.slice(0,Math.min(i,f.length)):f;return i=i?f.slice(Math.min(i,f.length)):[],(l=typeof l[0]=="string"?l.sort():l.sort(function(g,y){return g-y})).concat(i)},t.default.prototype.splice=function(f,i,l){return Array.prototype.splice.apply(f,[l,0].concat(i)),f},t.default.prototype.subset=function(f,i,l){return l!==void 0?f.slice(i,i+l):f.slice(i,f.length)},t=t.default,_.default=t},{"../core/main":273,"core-js/modules/es.array-buffer.constructor":150,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.to-string":180}],313:[function(t,O,_){t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};f.default.prototype.float=function(i){return i instanceof Array?i.map(parseFloat):parseFloat(i)},f.default.prototype.int=function(i){var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return i===1/0||i==="Infinity"?1/0:i===-1/0||i==="-Infinity"?-1/0:typeof i=="string"?parseInt(i,l):typeof i=="number"?0|i:typeof i=="boolean"?i?1:0:i instanceof Array?i.map(function(g){return f.default.prototype.int(g,l)}):void 0},f.default.prototype.str=function(i){return i instanceof Array?i.map(f.default.prototype.str):String(i)},f.default.prototype.boolean=function(i){return typeof i=="number"?i!==0:typeof i=="string"?i.toLowerCase()==="true":typeof i=="boolean"?i:i instanceof Array?i.map(f.default.prototype.boolean):void 0},f.default.prototype.byte=function(i){return typeof(i=f.default.prototype.int(i,10))=="number"?(i+128)%256-128:i instanceof Array?i.map(f.default.prototype.byte):void 0},f.default.prototype.char=function(i){return typeof i!="number"||isNaN(i)?i instanceof Array?i.map(f.default.prototype.char):typeof i=="string"?f.default.prototype.char(parseInt(i,10)):void 0:String.fromCharCode(i)},f.default.prototype.unchar=function(i){return typeof i=="string"&&i.length===1?i.charCodeAt(0):i instanceof Array?i.map(f.default.prototype.unchar):void 0},f.default.prototype.hex=function(i,l){if(l=l??8,i instanceof Array)return i.map(function(y){return f.default.prototype.hex(y,l)});if(i===1/0||i===-1/0)return(i===1/0?"F":"0").repeat(l);if(typeof i=="number"){i<0&&(i=4294967295+i+1);for(var g=Number(i).toString(16).toUpperCase();g.length<l;)g="0".concat(g);return g.length>=l?g.substring(g.length-l,g.length):g}},f.default.prototype.unhex=function(i){return i instanceof Array?i.map(f.default.prototype.unhex):parseInt("0x".concat(i),16)},t=f.default,_.default=t},{"../core/main":273,"core-js/modules/es.array.map":163,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.repeat":193}],314:[function(t,O,_){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=(o=t("../core/main"))&&o.__esModule?o:{default:o};function i(s,r){return function(a){if(Array.isArray(a))return a}(s)||function(a,d){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]"){var h=[],c=!0,p=!1,m=void 0;try{for(var b,A=a[Symbol.iterator]();!(c=(b=A.next()).done)&&(h.push(b.value),!d||h.length!==d);c=!0);}catch(T){p=!0,m=T}finally{try{c||A.return==null||A.return()}finally{if(p)throw m}}return h}}(s,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(s,r,a){var d=(h=i(s.toString().split("."),2))[0],h=h[1];return a===void 0?(d=d.padStart(r,"0"),h?d+"."+h:d):(d=(s=i(s.toFixed(a).toString().split("."),2))[0],h=s[1],(d=d.padStart(r,"0"))+"."+h)}function g(s,r){var a=(s=s.toString()).indexOf("."),d=a!==-1?s.substring(a):"";if(s=(s=a!==-1?s.substring(0,a):s).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),r===0)d="";else if(r!==void 0)if(r>d.length)for(var h=r-(d+=a===-1?".":"").length+1,c=0;c<h;c++)d+="0";else d=d.substring(0,r+1);return s+d}function y(s){return 0<parseFloat(s)?"+".concat(s.toString()):s.toString()}function n(s){return 0<=parseFloat(s)?" ".concat(s.toString()):s.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),f.default.prototype.join=function(s,r){return f.default._validateParameters("join",arguments),s.join(r)},f.default.prototype.match=function(s,r){return f.default._validateParameters("match",arguments),s.match(r)},f.default.prototype.matchAll=function(s,r){f.default._validateParameters("matchAll",arguments);for(var a=new RegExp(r,"g"),d=a.exec(s),h=[];d!==null;)h.push(d),d=a.exec(s);return h},f.default.prototype.nf=function(s,r,a){return f.default._validateParameters("nf",arguments),s instanceof Array?s.map(function(d){return l(d,r,a)}):Object.prototype.toString.call(s)==="[object Arguments]"?s.length===3?this.nf(s[0],s[1],s[2]):s.length===2?this.nf(s[0],s[1]):this.nf(s[0]):l(s,r,a)},f.default.prototype.nfc=function(s,r){return f.default._validateParameters("nfc",arguments),s instanceof Array?s.map(function(a){return g(a,r)}):g(s,r)},f.default.prototype.nfp=function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];f.default._validateParameters("nfp",r);var d=f.default.prototype.nf.apply(this,r);return d instanceof Array?d.map(y):y(d)},f.default.prototype.nfs=function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];f.default._validateParameters("nfs",r);var d=f.default.prototype.nf.apply(this,r);return d instanceof Array?d.map(n):n(d)},f.default.prototype.split=function(s,r){return f.default._validateParameters("split",arguments),s.split(r)},f.default.prototype.splitTokens=function(s,r){var a,d;return f.default._validateParameters("splitTokens",arguments),d=r!==void 0?(d=/\]/g.exec(r=r),(a=/\[/g.exec(r))&&d?(r=r.slice(0,d.index)+r.slice(d.index+1),a=/\[/g.exec(r),r=r.slice(0,a.index)+r.slice(a.index+1),new RegExp("[\\[".concat(r,"\\]]"),"g")):d?(r=r.slice(0,d.index)+r.slice(d.index+1),new RegExp("[".concat(r,"\\]]"),"g")):a?(r=r.slice(0,a.index)+r.slice(a.index+1),new RegExp("[".concat(r,"\\[]"),"g")):new RegExp("[".concat(r,"]"),"g")):/\s/g,s.split(d).filter(function(h){return h})},f.default.prototype.trim=function(s){return f.default._validateParameters("trim",arguments),s instanceof Array?s.map(this.trim):s.trim()};var o=f.default;_.default=o},{"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.pad-start":192,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],315:[function(t,O,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,(t=(t=t("../core/main"))&&t.__esModule?t:{default:t}).default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,_.default=t},{"../core/main":273}],316:[function(t,O,_){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(o)}function i(o){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(s){return f(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":f(s)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var l=(n=t("../core/main"))&&n.__esModule?n:{default:n},g=(t("./p5.Geometry"),function(o){if(o&&o.__esModule)return o;if(o===null||i(o)!=="object"&&typeof o!="function")return{default:o};var s=function(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,c)}();if(s&&s.has(o))return s.get(o);var r,a={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in o){var h;Object.prototype.hasOwnProperty.call(o,r)&&((h=d?Object.getOwnPropertyDescriptor(o,r):null)&&(h.get||h.set)?Object.defineProperty(a,r,h):a[r]=o[r])}return a.default=o,s&&s.set(o,a),a}(t("../core/constants")));function y(o,s,r,a,d,h,c){o=o<=0?1:o,s=s<0?0:s,r=r<=0?o:r,a=a<3?3:a;for(var p,m,b=(h=h===void 0||h)?-2:0,A=(d=d<1?1:d)+((c=c===void 0?s!==0:c)?2:0),T=Math.atan2(o-s,r),x=Math.sin(T),R=Math.cos(T),S=b;S<=A;++S){var C=S/d,D=r*C,N=void 0;for(N=S<0?(C=D=0,o):d<S?(D=r,C=1,s):o+(s-o)*C,S!==-2&&S!==d+2||(N=0),D-=r/2,p=0;p<a;++p){var F=p/(a-1),M=2*Math.PI*F,L=Math.sin(M),z=(M=Math.cos(M),this.vertices.push(new l.default.Vector(L*N,D,M*N)));z=S<0?new l.default.Vector(0,-1,0):d<S&&s?new l.default.Vector(0,1,0):new l.default.Vector(L*R,x,M*R),this.vertexNormals.push(z),this.uvs.push(F,C)}}var Y=0;if(h){for(m=0;m<a;++m)this.faces.push([Y+m,Y+a+(m+1)%a,Y+a+m]);Y+=2*a}for(S=0;S<d;++S){for(p=0;p<a;++p){var Z=(p+1)%a;this.faces.push([Y+p,Y+Z,Y+a+Z]),this.faces.push([Y+p,Y+a+Z,Y+a+p])}Y+=a}if(c)for(Y+=a,p=0;p<a;++p)this.faces.push([Y+p,Y+(p+1)%a,Y+a])}l.default.prototype.plane=function(o,s,r,a){this._assert3d("plane"),l.default._validateParameters("plane",arguments),o===void 0&&(o=50),s===void 0&&(s=o),a===void 0&&(a=1);var d,h="plane|".concat(r=r===void 0?1:r,"|").concat(a);return this._renderer.geometryInHash(h)||((d=new l.default.Geometry(r,a,function(){for(var c,p,m=0;m<=this.detailY;m++)for(var b=m/this.detailY,A=0;A<=this.detailX;A++)c=A/this.detailX,p=new l.default.Vector(c-.5,b-.5,0),this.vertices.push(p),this.uvs.push(c,b)})).computeFaces().computeNormals(),r<=1&&a<=1?d._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(h,d)),this._renderer.drawBuffersScaled(h,o,s,1),this},l.default.prototype.box=function(o,s,r,a,d){this._assert3d("box"),l.default._validateParameters("box",arguments),o===void 0&&(o=50),s===void 0&&(s=o),r===void 0&&(r=s);var h,c=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;return d===void 0&&(d=c?1:4),c="box|".concat(a=a===void 0?c?1:4:a,"|").concat(d),this._renderer.geometryInHash(c)||((h=new l.default.Geometry(a,d,function(){var p=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(m,b){b*=4;for(var A=0;A<4;A++){var T=m[A];T=new l.default.Vector((2*(1&T)-1)/2,((2&T)-1)/2,((4&T)/2-1)/2),p.vertices.push(T),p.uvs.push(1&A,(2&A)/2)}p.faces.push([b,1+b,2+b]),p.faces.push([2+b,1+b,3+b])})})).computeNormals(),a<=4&&d<=4?h._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(c,h)),this._renderer.drawBuffersScaled(c,o,s,r),this},l.default.prototype.sphere=function(o,s,r){return this._assert3d("sphere"),l.default._validateParameters("sphere",arguments),this.ellipsoid(o=o===void 0?50:o,o,o,s=s===void 0?24:s,r=r===void 0?16:r),this},l.default.prototype.cylinder=function(o,s,r,a,d,h){this._assert3d("cylinder"),l.default._validateParameters("cylinder",arguments),o===void 0&&(o=50),s===void 0&&(s=o),a===void 0&&(a=1),h===void 0&&(h=!0),d===void 0&&(d=!0);var c,p="cylinder|".concat(r=r===void 0?24:r,"|").concat(a,"|").concat(d,"|").concat(h);return this._renderer.geometryInHash(p)||(c=new l.default.Geometry(r,a),y.call(c,1,1,1,r,a,d,h),r<=24&&a<=16?c._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(p,c)),this._renderer.drawBuffersScaled(p,o,s,o),this},l.default.prototype.cone=function(o,s,r,a,d){this._assert3d("cone"),l.default._validateParameters("cone",arguments),o===void 0&&(o=50),s===void 0&&(s=o),a===void 0&&(a=1),d===void 0&&(d=!0);var h,c="cone|".concat(r=r===void 0?24:r,"|").concat(a,"|").concat(d);return this._renderer.geometryInHash(c)||(h=new l.default.Geometry(r,a),y.call(h,1,0,1,r,a,d,!1),r<=24&&a<=16?h._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(c,h)),this._renderer.drawBuffersScaled(c,o,s,o),this},l.default.prototype.ellipsoid=function(o,s,r,a,d){this._assert3d("ellipsoid"),l.default._validateParameters("ellipsoid",arguments),o===void 0&&(o=50),s===void 0&&(s=o),r===void 0&&(r=o),d===void 0&&(d=16);var h,c="ellipsoid|".concat(a=a===void 0?24:a,"|").concat(d);return this._renderer.geometryInHash(c)||((h=new l.default.Geometry(a,d,function(){for(var p=0;p<=this.detailY;p++)for(var m=p/this.detailY,b=Math.PI*m-Math.PI/2,A=Math.cos(b),T=Math.sin(b),x=0;x<=this.detailX;x++){var R=x/this.detailX,S=2*Math.PI*R,C=Math.cos(S);S=Math.sin(S),S=new l.default.Vector(A*S,T,A*C),this.vertices.push(S),this.vertexNormals.push(S),this.uvs.push(R,m)}})).computeFaces(),a<=24&&d<=24?h._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(c,h)),this._renderer.drawBuffersScaled(c,o,s,r),this},l.default.prototype.torus=function(o,s,r,a){if(this._assert3d("torus"),l.default._validateParameters("torus",arguments),o===void 0)o=50;else if(!o)return;if(s===void 0)s=10;else if(!s)return;r===void 0&&(r=24),a===void 0&&(a=16);var d,h=(s/o).toPrecision(4);return s="torus|".concat(h,"|").concat(r,"|").concat(a),this._renderer.geometryInHash(s)||((d=new l.default.Geometry(r,a,function(){for(var c=0;c<=this.detailY;c++)for(var p=c/this.detailY,m=2*Math.PI*p,b=Math.cos(m),A=Math.sin(m),T=1+h*b,x=0;x<=this.detailX;x++){var R=x/this.detailX,S=2*Math.PI*R,C=Math.cos(S),D=(S=Math.sin(S),new l.default.Vector(T*C,T*S,h*A));C=new l.default.Vector(b*C,b*S,A),this.vertices.push(D),this.vertexNormals.push(C),this.uvs.push(R,p)}})).computeFaces(),r<=24&&a<=16?d._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(s,d)),this._renderer.drawBuffersScaled(s,o,o,o),this},l.default.RendererGL.prototype.point=function(o,s,r){var a=[];return a.push(new l.default.Vector(o,s,r=r===void 0?0:r)),this._drawPoints(a,this.immediateMode.buffers.point),this},l.default.RendererGL.prototype.triangle=function(o){var s=o[0],r=o[1],a=o[2],d=o[3],h=o[4],c=(o=o[5],this.geometryInHash("tri")||((c=new l.default.Geometry(1,1,function(){var b=[];b.push(new l.default.Vector(0,0,0)),b.push(new l.default.Vector(1,0,0)),b.push(new l.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=b,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),c.computeNormals(),this.createBuffers("tri",c)),this.uMVMatrix.copy());try{var p=Math.sign(s*d-a*r+a*o-h*d+h*r-s*o),m=new l.default.Matrix([a-s,d-r,0,0,h-s,o-r,0,0,0,0,p,0,s,r,0,1]).mult(this.uMVMatrix);this.uMVMatrix=m,this.drawBuffers("tri")}finally{this.uMVMatrix=c}return this},l.default.RendererGL.prototype.ellipse=function(o){this.arc(o[0],o[1],o[2],o[3],0,g.TWO_PI,g.OPEN,o[4])},l.default.RendererGL.prototype.arc=function(o){var s,r=arguments[1],a=arguments[2],d=arguments[3],h=arguments[4],c=arguments[5],p=arguments[6],m=arguments[7]||25,b=(Math.abs(c-h)>=g.TWO_PI?"".concat(A="ellipse","|"):"".concat(A="arc","|").concat(h,"|").concat(c,"|").concat(p,"|")).concat(m,"|"),A=(this.geometryInHash(b)||((s=new l.default.Geometry(m,1,function(){if(h.toFixed(10)!==c.toFixed(10)){p!==g.PIE&&p!==void 0||(this.vertices.push(new l.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var T=0;T<=m;T++){var x=T/m*(c-h)+h,R=.5+Math.cos(x)/2;x=.5+Math.sin(x)/2,this.vertices.push(new l.default.Vector(R,x,0)),this.uvs.push([R,x]),T<m-1&&(this.faces.push([0,T+1,T+2]),this.edges.push([T+1,T+2]))}switch(p){case g.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case g.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case g.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),m<=50?s._edgesToVertices(s):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(A," with more than 50 detail")),this.createBuffers(b,s)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([o,r,0]),this.uMVMatrix.scale(a,d,1),this.drawBuffers(b)}finally{this.uMVMatrix=A}return this},l.default.RendererGL.prototype.rect=function(o){var s=o[0],r=o[1],a=o[2],d=o[3];if(o[4]===void 0){var h=this._pInst._glAttributes.perPixelLighting,c=o[4]||(h?1:24),p=o[5]||(h?1:16),m=(h="rect|".concat(c,"|").concat(p),this.geometryInHash(h)||((m=new l.default.Geometry(c,p,function(){for(var z=0;z<=this.detailY;z++)for(var Y=z/this.detailY,Z=0;Z<=this.detailX;Z++){var ee=Z/this.detailX,te=new l.default.Vector(ee,Y,0);this.vertices.push(te),this.uvs.push(ee,Y)}0<c&&0<p&&(this.edges=[[0,c],[c,(c+1)*(p+1)-1],[(c+1)*(p+1)-1,(c+1)*p],[(c+1)*p,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(h,m)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([s,r,0]),this.uMVMatrix.scale(a,d,1),this.drawBuffers(h)}finally{this.uMVMatrix=m}}else{h=o[4],m=o[5]===void 0?h:o[5];var b=o[6]===void 0?m:o[6],A=(o=o[7]===void 0?b:o[7],a),T=d,x=((S=((A+=s)<s&&(S=s,s=A,A=S),(T+=r)<r&&(S=r,r=T,T=S),Math.min((A-s)/2,(T-r)/2)))<h&&(h=S),S<m&&(m=S),S<b&&(b=S),S<o&&(o=S),s),R=r,S=A,C=(s=T,this.beginShape(),m!==0?(this.vertex(S-m,R),this.quadraticVertex(S,R,S,R+m)):this.vertex(S,R),b!==0?(this.vertex(S,s-b),this.quadraticVertex(S,s,S-b,s)):this.vertex(S,s),o!==0?(this.vertex(x+o,s),this.quadraticVertex(x,s,x,s-o)):this.vertex(x,s),h!==0?(this.vertex(x,R+h),this.quadraticVertex(x,R,x+h,R)):this.vertex(x,R),!(this.immediateMode.geometry.uvs.length=0));r=!1,A=void 0;try{for(var D,N=this.immediateMode.geometry.vertices[Symbol.iterator]();!(C=(D=N.next()).done);C=!0){var F=D.value,M=(F.x-x)/a,L=(F.y-R)/d;this.immediateMode.geometry.uvs.push(M,L)}}catch(z){r=!0,A=z}finally{try{C||N.return==null||N.return()}finally{if(r)throw A}}this.endShape(g.CLOSE)}return this},l.default.RendererGL.prototype.quad=function(o,s,r,a,d,h,c,p,m,b,A,T,x,R){x===void 0&&(x=2),R===void 0&&(R=2);var S="quad|".concat(o,"|").concat(s,"|").concat(r,"|").concat(a,"|").concat(d,"|").concat(h,"|").concat(c,"|").concat(p,"|").concat(m,"|").concat(b,"|").concat(A,"|").concat(T,"|").concat(x,"|").concat(R);if(!this.geometryInHash(S)){var C=new l.default.Geometry(x,R,function(){for(var z=1/(this.detailX-1),Y=1/(this.detailY-1),Z=0;Z<this.detailY;Z++)for(var ee=0;ee<this.detailX;ee++){var te=ee*z,oe=Z*Y;this.vertices.push(new l.default.Vector((1-te)*((1-oe)*o+oe*b)+te*((1-oe)*a+oe*c),(1-te)*((1-oe)*s+oe*A)+te*((1-oe)*d+oe*p),(1-te)*((1-oe)*r+oe*T)+te*((1-oe)*h+oe*m))),this.uvs.push([te,oe])}});C.faces=[];for(var D=0;D<R-1;D++)for(var N=0;N<x-1;N++){var F=N+D*x,M=N+1+(D+1)*x,L=N+(D+1)*x;C.faces.push([F,N+1+D*x,M]),C.faces.push([F,M,L])}C.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(S,C)}return this.drawBuffers(S),this},l.default.RendererGL.prototype.bezier=function(o,s,r,a,d,h,c,p,m,b,A,T){arguments.length===8&&(A=p,b=c,p=h,c=d,d=a,a=r,r=h=m=T=0);var x=this._pInst._bezierDetail||20;this.beginShape();for(var R=0;R<=x;R++){var S=Math.pow(1-R/x,3),C=R/x*3*Math.pow(1-R/x,2),D=3*Math.pow(R/x,2)*(1-R/x),N=Math.pow(R/x,3);this.vertex(o*S+a*C+c*D+b*N,s*S+d*C+p*D+A*N,r*S+h*C+m*D+T*N)}return this.endShape(),this},l.default.RendererGL.prototype.curve=function(o,s,r,a,d,h,c,p,m,b,A,T){arguments.length===8&&(b=c,A=p,c=d,p=a,d=a=r,r=h=m=T=0);var x=this._pInst._curveDetail;this.beginShape();for(var R=0;R<=x;R++){var S=.5*Math.pow(R/x,3),C=.5*Math.pow(R/x,2),D=R/x*.5;this.vertex(S*(3*a-o-3*c+b)+C*(2*o-5*a+4*c-b)+D*(-o+c)+2*a*.5,S*(3*d-s-3*p+A)+C*(2*s-5*d+4*p-A)+D*(-s+p)+2*d*.5,S*(3*h-r-3*m+T)+C*(2*r-5*h+4*m-T)+D*(-r+m)+2*h*.5)}return this.endShape(),this},l.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(g.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(g.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},l.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var o,s,r,a,d,h,c=[],p=[],m=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var b=1/this._lutBezierDetail,A=0,T=1,x=0;A<1;){if(h=parseFloat(A.toFixed(6)),this._lookUpTableBezier[x]=this._bezierCoefficients(h),T.toFixed(6)===b.toFixed(6)){h=parseFloat(T.toFixed(6))+parseFloat(A.toFixed(6)),++x,this._lookUpTableBezier[x]=this._bezierCoefficients(h);break}A+=b,T-=b,++x}}for(var R=this._lookUpTableBezier.length,S=[],C=0;C<4;C++)S.push([]);S[0]=this.immediateMode.geometry.vertexColors.slice(-4),S[3]=this.curFillColor.slice();var D=[];for(C=0;C<4;C++)D.push([]);if(D[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),D[3]=this.curStrokeColor.slice(),m===6){this.isBezier=!0,c=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],p=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]];var N=Math.hypot(c[0]-c[1],p[0]-p[1]),F=Math.hypot(c[1]-c[2],p[1]-p[2]),M=Math.hypot(c[2]-c[3],p[2]-p[3]);for(N/=F=N+F+M,M/=F,d=0;d<4;d++)S[1].push(S[0][d]*(1-N)+S[3][d]*N),S[2].push(S[0][d]*M+S[3][d]*(1-M)),D[1].push(D[0][d]*(1-N)+D[3][d]*N),D[2].push(D[0][d]*M+D[3][d]*(1-M));for(a=0;a<R;a++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],C=o=s=0;C<4;C++){for(d=0;d<4;d++)this.curFillColor[d]+=this._lookUpTableBezier[a][C]*S[C][d],this.curStrokeColor[d]+=this._lookUpTableBezier[a][C]*D[C][d];o+=c[C]*this._lookUpTableBezier[a][C],s+=p[C]*this._lookUpTableBezier[a][C]}this.vertex(o,s)}this.curFillColor=S[3],this.curStrokeColor=D[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(m===9){this.isBezier=!0,c=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],p=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var L=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],z=Math.hypot(c[0]-c[1],p[0]-p[1],L[0]-L[1]),Y=(F=Math.hypot(c[1]-c[2],p[1]-p[2],L[1]-L[2]),Math.hypot(c[2]-c[3],p[2]-p[3],L[2]-L[3]));for(z/=m=z+F+Y,Y/=m,d=0;d<4;d++)S[1].push(S[0][d]*(1-z)+S[3][d]*z),S[2].push(S[0][d]*Y+S[3][d]*(1-Y)),D[1].push(D[0][d]*(1-z)+D[3][d]*z),D[2].push(D[0][d]*Y+D[3][d]*(1-Y));for(a=0;a<R;a++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],C=o=s=r=0;C<4;C++){for(d=0;d<4;d++)this.curFillColor[d]+=this._lookUpTableBezier[a][C]*S[C][d],this.curStrokeColor[d]+=this._lookUpTableBezier[a][C]*D[C][d];o+=c[C]*this._lookUpTableBezier[a][C],s+=p[C]*this._lookUpTableBezier[a][C],r+=L[C]*this._lookUpTableBezier[a][C]}this.vertex(o,s,r)}this.curFillColor=S[3],this.curStrokeColor=D[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},l.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var o,s,r,a,d,h,c=[],p=[],m=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var b=1/this._lutQuadraticDetail,A=0,T=1,x=0;A<1;){if(h=parseFloat(A.toFixed(6)),this._lookUpTableQuadratic[x]=this._quadraticCoefficients(h),T.toFixed(6)===b.toFixed(6)){h=parseFloat(T.toFixed(6))+parseFloat(A.toFixed(6)),++x,this._lookUpTableQuadratic[x]=this._quadraticCoefficients(h);break}A+=b,T-=b,++x}}for(var R=this._lookUpTableQuadratic.length,S=[],C=0;C<3;C++)S.push([]);S[0]=this.immediateMode.geometry.vertexColors.slice(-4),S[2]=this.curFillColor.slice();var D=[];for(C=0;C<3;C++)D.push([]);if(D[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),D[2]=this.curStrokeColor.slice(),m===4){this.isQuadratic=!0,c=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],p=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]];var N=Math.hypot(c[0]-c[1],p[0]-p[1]);for(N/=N+Math.hypot(c[1]-c[2],p[1]-p[2]),d=0;d<4;d++)S[1].push(S[0][d]*(1-N)+S[2][d]*N),D[1].push(D[0][d]*(1-N)+D[2][d]*N);for(a=0;a<R;a++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],C=o=s=0;C<3;C++){for(d=0;d<4;d++)this.curFillColor[d]+=this._lookUpTableQuadratic[a][C]*S[C][d],this.curStrokeColor[d]+=this._lookUpTableQuadratic[a][C]*D[C][d];o+=c[C]*this._lookUpTableQuadratic[a][C],s+=p[C]*this._lookUpTableQuadratic[a][C]}this.vertex(o,s)}this.curFillColor=S[2],this.curStrokeColor=D[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(m===6){this.isQuadratic=!0,c=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],p=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var F=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],M=Math.hypot(c[0]-c[1],p[0]-p[1],F[0]-F[1]);for(M/=M+Math.hypot(c[1]-c[2],p[1]-p[2],F[1]-F[2]),d=0;d<4;d++)S[1].push(S[0][d]*(1-M)+S[2][d]*M),D[1].push(D[0][d]*(1-M)+D[2][d]*M);for(a=0;a<R;a++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],C=o=s=r=0;C<3;C++){for(d=0;d<4;d++)this.curFillColor[d]+=this._lookUpTableQuadratic[a][C]*S[C][d],this.curStrokeColor[d]+=this._lookUpTableQuadratic[a][C]*D[C][d];o+=c[C]*this._lookUpTableQuadratic[a][C],s+=p[C]*this._lookUpTableQuadratic[a][C],r+=F[C]*this._lookUpTableQuadratic[a][C]}this.vertex(o,s,r)}this.curFillColor=S[2],this.curStrokeColor=D[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},l.default.RendererGL.prototype.curveVertex=function(){var o,s,r,a,d,h,c=[],p=[],m=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var b=1/this._lutBezierDetail,A=0,T=1,x=0;A<1;){if(h=parseFloat(A.toFixed(6)),this._lookUpTableBezier[x]=this._bezierCoefficients(h),T.toFixed(6)===b.toFixed(6)){h=parseFloat(T.toFixed(6))+parseFloat(A.toFixed(6)),++x,this._lookUpTableBezier[x]=this._bezierCoefficients(h);break}A+=b,T-=b,++x}}var R=this._lookUpTableBezier.length;if(m===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,c=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),p=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),d=0;d<R;d++)s=c[0]*this._lookUpTableBezier[d][0]+c[1]*this._lookUpTableBezier[d][1]+c[2]*this._lookUpTableBezier[d][2]+c[3]*this._lookUpTableBezier[d][3],r=p[0]*this._lookUpTableBezier[d][0]+p[1]*this._lookUpTableBezier[d][1]+p[2]*this._lookUpTableBezier[d][2]+p[3]*this._lookUpTableBezier[d][3],this.vertex(s,r);for(d=0;d<m;d++)this.immediateMode._curveVertex.shift()}}else if(m===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,c=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),p=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),o=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),d=0;d<R;d++)s=c[0]*this._lookUpTableBezier[d][0]+c[1]*this._lookUpTableBezier[d][1]+c[2]*this._lookUpTableBezier[d][2]+c[3]*this._lookUpTableBezier[d][3],r=p[0]*this._lookUpTableBezier[d][0]+p[1]*this._lookUpTableBezier[d][1]+p[2]*this._lookUpTableBezier[d][2]+p[3]*this._lookUpTableBezier[d][3],a=o[0]*this._lookUpTableBezier[d][0]+o[1]*this._lookUpTableBezier[d][1]+o[2]*this._lookUpTableBezier[d][2]+o[3]*this._lookUpTableBezier[d][3],this.vertex(s,r,a);for(d=0;d<m;d++)this.immediateMode._curveVertex.shift()}},l.default.RendererGL.prototype.image=function(o,s,r,a,d,h,c,p,m){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(o),this._pInst.textureMode(g.NORMAL);var b=0,A=(s<=o.width&&(b=s/o.width),1);s+a<=o.width&&(A=(s+a)/o.width),s=0,r<=o.height&&(s=r/o.height),a=1,r+d<=o.height&&(a=(r+d)/o.height),this.beginShape(),this.vertex(h,c,0,b,s),this.vertex(h+p,c,0,A,s),this.vertex(h+p,c+m,0,A,a),this.vertex(h,c+m,0,b,a),this.endShape(g.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(g.REMOVE)};var n=l.default;_.default=n},{"../core/constants":262,"../core/main":273,"./p5.Geometry":323,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.math.sign":170,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],317:[function(t,O,_){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var i=(y=t("../core/main"))&&y.__esModule?y:{default:y},l=function(n){if(n&&n.__esModule)return n;if(n===null||g(n)!=="object"&&typeof n!="function")return{default:n};var o=function(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,h)}();if(o&&o.has(n))return o.get(n);var s,r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in n){var d;Object.prototype.hasOwnProperty.call(n,s)&&((d=a?Object.getOwnPropertyDescriptor(n,s):null)&&(d.get||d.set)?Object.defineProperty(r,s,d):r[s]=n[s])}return r.default=n,o&&o.set(n,r),r}(t("../core/constants"));function g(n){return(g=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(o){return f(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":f(o)})(n)}i.default.prototype.orbitControl=function(n,o,s,r){var a=this,d=(this._assert3d("orbitControl"),i.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);n===void 0&&(n=1),o===void 0&&(o=n),s===void 0&&(s=1),g(r)!=="object"&&(r={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var h=r.disableTouchActions;this.touchActionsDisabled===!0||h!==void 0&&!h||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0)),r=(h=r.freeRotation)!==void 0&&h;var c,p,m,b=[],A=(h=(this.touches.forEach(function(D){a._renderer.prevTouches.forEach(function(N){D.id===N.id&&(N={x:D.x,y:D.y,px:N.x,py:N.y},b.push(N))})}),this._renderer.prevTouches=this.touches,0),0),T=0,x=0,R=0,S=this.height<this.width?this.height:this.width,C=!1;return 0<b.length?(C=0<b[0].x&&b[0].x<this.width&&0<b[0].y&&b[0].y<this.height,b.length===1?(A=-n*((c=b[0]).x-c.px)/S,T=o*(c.y-c.py)/S):(c=b[0],p=b[1],h=-(Math.hypot(c.x-p.x,c.y-p.y)-Math.hypot(c.px-p.px,c.py-p.py))*s*4e-4,x=.5*(c.x+p.x)-.5*(c.px+p.px),R=.5*(c.y+p.y)-.5*(c.py+p.py)),0<this.touches.length?C&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(C=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(h=Math.sign(this._mouseWheelDeltaY)*s,h*=.01,this._mouseWheelDeltaY=0,C&&(this._renderer.executeZoom=!0)):this._renderer.zoomFlag=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(A=-n*this.movedX/S,T=o*this.movedY/S):this.mouseButton===this.RIGHT&&(x=this.movedX,R=this.movedY),C&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),h!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=h),.001<Math.abs(this._renderer.zoomVelocity)?(r?d._orbitFree(0,0,this._renderer.zoomVelocity):d._orbit(0,0,this._renderer.zoomVelocity),d.projMatrix.mat4[15]!==0&&(d.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),d.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=d.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=d.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,A===0&&T===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*A,.6*T),1e-6<this._renderer.rotateVelocity.magSq()?(r?d._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):d._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),x===0&&R===0||!this._renderer.executeRotateAndMove||(c=2*x/this.width,p=2*-R/this.height,this._renderer.moveVelocity.add(.15*c,.15*p)),1e-6<this._renderer.moveVelocity.magSq()?(s=d._getLocalAxes(),n=d.eyeX-d.centerX,o=d.eyeY-d.centerY,S=d.eyeZ-d.centerZ,C=Math.sqrt(n*n+o*o+S*S),h=new i.default.Vector(d.centerX,d.centerY,d.centerZ),h=d.cameraMatrix.multiplyPoint(h),(h=this._renderer.uPMatrix.multiplyAndNormalizePoint(h)).x-=this._renderer.moveVelocity.x,h.y-=this._renderer.moveVelocity.y,T=(A=this._renderer.uPMatrix.mat4)[15]===0?(m=(A[8]+h.x)/A[0]*C,(A[9]+h.y)/A[5]*C):(m=(h.x-A[12])/A[0],(h.y-A[13])/A[5]),d.setPosition(d.eyeX+m*s.x[0]+T*s.y[0],d.eyeY+m*s.x[1]+T*s.y[1],d.eyeZ+m*s.x[2]+T*s.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},i.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];i.default._validateParameters("debugMode",o);for(var r=this._registeredMethods.post.length-1;0<=r;r--)this._registeredMethods.post[r].toString()!==this._grid().toString()&&this._registeredMethods.post[r].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(r,1);o[0]===l.GRID?this.registerMethod("post",this._grid.call(this,o[1],o[2],o[3],o[4],o[5])):o[0]===l.AXES?this.registerMethod("post",this._axesIcon.call(this,o[1],o[2],o[3],o[4])):(this.registerMethod("post",this._grid.call(this,o[0],o[1],o[2],o[3],o[4])),this.registerMethod("post",this._axesIcon.call(this,o[5],o[6],o[7],o[8])))},i.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var n=this._registeredMethods.post.length-1;0<=n;n--)this._registeredMethods.post[n].toString()!==this._grid().toString()&&this._registeredMethods.post[n].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(n,1)},i.default.prototype._grid=function(n,o,s,r,a){n===void 0&&(n=this.width/2),o===void 0&&(o=Math.round(n/30)<4?4:Math.round(n/30)),s===void 0&&(s=0),r===void 0&&(r=0),a===void 0&&(a=0);var d=n/o,h=n/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var c=0;c<=o;c++)this.beginShape(this.LINES),this.vertex(-h+s,r,c*d-h+a),this.vertex(h+s,r,c*d-h+a),this.endShape();for(var p=0;p<=o;p++)this.beginShape(this.LINES),this.vertex(p*d-h+s,r,-h+a),this.vertex(p*d-h+s,r,h+a),this.endShape();this.pop()}},i.default.prototype._axesIcon=function(n,o,s,r){return n===void 0&&(n=40<this.width/20?this.width/20:40),o===void 0&&(o=-this.width/4),s===void 0&&(s=o),r===void 0&&(r=o),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(o,s,r),this.vertex(o+n,s,r),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(o,s,r),this.vertex(o,s+n,r),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(o,s,r),this.vertex(o,s,r+n),this.endShape(),this.pop()}};var y=i.default;_.default=y},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.splice":166,"core-js/modules/es.math.hypot":169,"core-js/modules/es.math.sign":170,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],318:[function(t,O,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};f.default.prototype.ambientLight=function(i,l,g,y){this._assert3d("ambientLight"),f.default._validateParameters("ambientLight",arguments);var n=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(n._array[0],n._array[1],n._array[2]),this._renderer._enableLighting=!0,this},f.default.prototype.specularColor=function(i,l,g){this._assert3d("specularColor"),f.default._validateParameters("specularColor",arguments);var y=this.color.apply(this,arguments);return this._renderer.specularColors=[y._array[0],y._array[1],y._array[2]],this},f.default.prototype.directionalLight=function(i,l,g,y,n,o){this._assert3d("directionalLight"),f.default._validateParameters("directionalLight",arguments),i=i instanceof f.default.Color?i:this.color(i,l,g);var s,r;return g=typeof(l=arguments[arguments.length-1])=="number"?(s=arguments[arguments.length-3],r=arguments[arguments.length-2],arguments[arguments.length-1]):(s=l.x,r=l.y,l.z),l=Math.sqrt(s*s+r*r+g*g),this._renderer.directionalLightDirections.push(s/l,r/l,g/l),this._renderer.directionalLightDiffuseColors.push(i._array[0],i._array[1],i._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},f.default.prototype.pointLight=function(i,l,g,y,n,o){this._assert3d("pointLight"),f.default._validateParameters("pointLight",arguments),i=i instanceof f.default.Color?i:this.color(i,l,g);var s,r;return g=typeof(l=arguments[arguments.length-1])=="number"?(s=arguments[arguments.length-3],r=arguments[arguments.length-2],arguments[arguments.length-1]):(s=l.x,r=l.y,l.z),this._renderer.pointLightPositions.push(s,r,g),this._renderer.pointLightDiffuseColors.push(i._array[0],i._array[1],i._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},f.default.prototype.lights=function(){this._assert3d("lights");var i=this.color("rgb(128,128,128)");return this.ambientLight(i),this.directionalLight(i,0,0,-1),this},f.default.prototype.lightFalloff=function(i,l,g){return this._assert3d("lightFalloff"),f.default._validateParameters("lightFalloff",arguments),i<0&&(i=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),l<0&&(l=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),g<0&&(g=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),i===0&&l===0&&g===0&&(i=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=i,this._renderer.linearAttenuation=l,this._renderer.quadraticAttenuation=g,this},f.default.prototype.spotLight=function(i,l,g,y,n,o,s,r,a,d,h){this._assert3d("spotLight"),f.default._validateParameters("spotLight",arguments);var c,p,m,b=arguments.length;switch(b){case 11:case 10:c=this.color(i,l,g),p=new f.default.Vector(y,n,o),m=new f.default.Vector(s,r,a);break;case 9:i instanceof f.default.Color?(c=i,p=new f.default.Vector(l,g,y),m=new f.default.Vector(n,o,s),d=r,h=a):y instanceof f.default.Vector?(c=this.color(i,l,g),p=y,m=new f.default.Vector(n,o,s),d=r,h=a):s instanceof f.default.Vector?(c=this.color(i,l,g),p=new f.default.Vector(y,n,o),m=s,d=r,h=a):(c=this.color(i,l,g),p=new f.default.Vector(y,n,o),m=new f.default.Vector(s,r,a));break;case 8:m=i instanceof f.default.Color?(c=i,p=new f.default.Vector(l,g,y),new f.default.Vector(n,o,s)):y instanceof f.default.Vector?(c=this.color(i,l,g),p=y,new f.default.Vector(n,o,s)):(c=this.color(i,l,g),p=new f.default.Vector(y,n,o),s),d=r;break;case 7:i instanceof f.default.Color&&l instanceof f.default.Vector?(c=i,p=l,m=new f.default.Vector(g,y,n),d=o,h=s):i instanceof f.default.Color&&n instanceof f.default.Vector?(c=i,p=new f.default.Vector(l,g,y),m=n,d=o,h=s):y instanceof f.default.Vector&&n instanceof f.default.Vector?(c=this.color(i,l,g),p=y,m=n,d=o,h=s):m=i instanceof f.default.Color?(c=i,p=new f.default.Vector(l,g,y),new f.default.Vector(n,o,s)):y instanceof f.default.Vector?(c=this.color(i,l,g),p=y,new f.default.Vector(n,o,s)):(c=this.color(i,l,g),p=new f.default.Vector(y,n,o),s);break;case 6:y instanceof f.default.Vector&&n instanceof f.default.Vector?(c=this.color(i,l,g),p=y,m=n,d=o):i instanceof f.default.Color&&n instanceof f.default.Vector?(c=i,p=new f.default.Vector(l,g,y),m=n,d=o):i instanceof f.default.Color&&l instanceof f.default.Vector&&(c=i,p=l,m=new f.default.Vector(g,y,n),d=o);break;case 5:i instanceof f.default.Color&&l instanceof f.default.Vector&&g instanceof f.default.Vector?(c=i,p=l,m=g,d=y,h=n):y instanceof f.default.Vector&&n instanceof f.default.Vector?(c=this.color(i,l,g),p=y,m=n):i instanceof f.default.Color&&n instanceof f.default.Vector?(c=i,p=new f.default.Vector(l,g,y),m=n):i instanceof f.default.Color&&l instanceof f.default.Vector&&(c=i,p=l,m=new f.default.Vector(g,y,n));break;case 4:c=i,p=l,m=g,d=y;break;case 3:c=i,p=l,m=g;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(b<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(c._array[0],c._array[1],c._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(p.x,p.y,p.z),m.normalize(),this._renderer.spotLightDirections.push(m.x,m.y,m.z),d===void 0&&(d=Math.PI/3),h!==void 0&&h<1?(h=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):h===void 0&&(h=100),d=this._renderer._pInst._toRadians(d),this._renderer.spotLightAngle.push(Math.cos(d)),this._renderer.spotLightConc.push(h),this._renderer._enableLighting=!0,this},f.default.prototype.noLights=function(){this._assert3d("noLights");for(var i=arguments.length,l=new Array(i),g=0;g<i;g++)l[g]=arguments[g];return f.default._validateParameters("noLights",l),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this},t=f.default,_.default=t},{"../core/main":273}],319:[function(t,O,_){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=(i=t("../core/main"))&&i.__esModule?i:{default:i};t("./p5.Geometry"),f.default.prototype.loadModel=function(l){f.default._validateParameters("loadModel",arguments);var g,y,n,o=l.slice(-4),s=(typeof arguments[1]=="boolean"?(g=arguments[1],y=arguments[2],n=arguments[3],arguments[4]!==void 0&&(o=arguments[4])):(g=!1,y=arguments[1],n=arguments[2],arguments[3]!==void 0&&(o=arguments[3])),new f.default.Geometry),r=(s.gid="".concat(l,"|").concat(g),this);return o.match(/\.stl$/i)?this.httpDo(l,"GET","arrayBuffer",function(a){(function(d,h){if(function(c){for(var p=new DataView(c),m=[115,111,108,105,100],b=0;b<5;b++)if(function(A,T,x){for(var R=0,S=A.length;R<S;R++)if(A[R]!==T.getUint8(x+R,!1))return;return 1}(m,p,b))return;return 1}(h))(function(c,p){for(var m,b,A,T,x,R,S,C=new DataView(p),D=C.getUint32(80,!0),N=!1,F=0;F<70;F++)C.getUint32(F,!1)===1129270351&&C.getUint8(F+4)===82&&C.getUint8(F+5)===61&&(N=!0,T=[],x=C.getUint8(F+6)/255,R=C.getUint8(F+7)/255,S=C.getUint8(F+8)/255);for(var M=0;M<D;M++){for(var L,z=84+50*M,Y=C.getFloat32(z,!0),Z=C.getFloat32(4+z,!0),ee=C.getFloat32(8+z,!0),te=(N&&(A=32768&(L=C.getUint16(48+z,!0))?(m=x,b=R,S):(m=(31&L)/31,b=(L>>5&31)/31,(L>>10&31)/31)),new f.default.Vector(Y,Z,ee)),oe=1;oe<=3;oe++){var U=z+12*oe;U=new f.default.Vector(C.getFloat32(U,!0),C.getFloat32(4+U,!0),C.getFloat32(8+U,!0)),c.vertices.push(U),c.vertexNormals.push(te),N&&T.push(m,b,A)}c.faces.push([3*M,3*M+1,3*M+2]),c.uvs.push([0,0],[0,0],[0,0])}})(d,h);else{if(h=new DataView(h),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");(function(c,p){for(var m,b,A="",T=[],x=0;x<p.length;++x){for(var R=p[x].trim(),S=R.split(" "),C=0;C<S.length;++C)S[C]===""&&S.splice(C,1);if(S.length!==0)switch(A){case"":if(S[0]!=="solid")return console.error(R),console.error('Invalid state "'.concat(S[0],'", should be "solid"'));A="solid";break;case"solid":if(S[0]!=="facet"||S[1]!=="normal")return console.error(R),console.error('Invalid state "'.concat(S[0],'", should be "facet normal"'));m=new f.default.Vector(parseFloat(S[2]),parseFloat(S[3]),parseFloat(S[4])),c.vertexNormals.push(m,m,m),A="facet normal";break;case"facet normal":if(S[0]!=="outer"||S[1]!=="loop")return console.error(R),console.error('Invalid state "'.concat(S[0],'", should be "outer loop"'));A="vertex";break;case"vertex":if(S[0]==="vertex")b=new f.default.Vector(parseFloat(S[1]),parseFloat(S[2]),parseFloat(S[3])),c.vertices.push(b),c.uvs.push([0,0]),T.push(c.vertices.indexOf(b));else{if(S[0]!=="endloop")return console.error(R),console.error('Invalid state "'.concat(S[0],'", should be "vertex" or "endloop"'));c.faces.push(T),T=[],A="endloop"}break;case"endloop":if(S[0]!=="endfacet")return console.error(R),console.error('Invalid state "'.concat(S[0],'", should be "endfacet"'));A="endfacet";break;case"endfacet":if(S[0]!=="endsolid"){if(S[0]!=="facet"||S[1]!=="normal")return console.error(R),console.error('Invalid state "'.concat(S[0],'", should be "endsolid" or "facet normal"'));m=new f.default.Vector(parseFloat(S[2]),parseFloat(S[3]),parseFloat(S[4])),c.vertexNormals.push(m,m,m),A="facet normal"}break;default:console.error('Invalid state "'.concat(A,'"'))}}})(d,h=new TextDecoder("utf-8").decode(h).split(`
`))}})(s,a),g&&s.normalize(),r._decrementPreload(),typeof y=="function"&&y(s)},n):o.match(/\.obj$/i)?this.loadStrings(l,function(a){for(var d=s,h=a,c={v:[],vt:[],vn:[]},p={},m=0;m<h.length;++m){var b=h[m].trim().split(/\b\s+/);if(0<b.length){if(b[0]==="v"||b[0]==="vn"){var A=new f.default.Vector(parseFloat(b[1]),parseFloat(b[2]),parseFloat(b[3]));c[b[0]].push(A)}else if(b[0]==="vt")A=[parseFloat(b[1]),1-parseFloat(b[2])],c[b[0]].push(A);else if(b[0]==="f")for(var T=3;T<b.length;++T){for(var x=[],R=[1,T-1,T],S=0;S<R.length;++S){var C=b[R[S]],D=0;if(p[C]!==void 0)D=p[C];else{for(var N=C.split("/"),F=0;F<N.length;F++)N[F]=parseInt(N[F])-1;D=p[C]=d.vertices.length,d.vertices.push(c.v[N[0]].copy()),c.vt[N[1]]?d.uvs.push(c.vt[N[1]].slice()):d.uvs.push([0,0]),c.vn[N[2]]&&d.vertexNormals.push(c.vn[N[2]].copy())}x.push(D)}x[0]!==x[1]&&x[0]!==x[2]&&x[1]!==x[2]&&d.faces.push(x)}}}d.vertexNormals.length===0&&d.computeNormals(),g&&s.normalize(),r._decrementPreload(),typeof y=="function"&&y(s)},n):(f.default._friendlyFileLoadError(3,l),n?n():f.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),s},f.default.prototype.model=function(l){this._assert3d("model"),f.default._validateParameters("model",arguments),0<l.vertices.length&&(this._renderer.geometryInHash(l.gid)||(l.edges.length===0&&l._makeTriangleEdges(),l._edgesToVertices(),this._renderer.createBuffers(l.gid,l)),this._renderer.drawBuffers(l.gid))};var i=f.default;_.default=i},{"../core/main":273,"./p5.Geometry":323,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.match":191,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199}],320:[function(t,O,_){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(n)}function i(n){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(o){return f(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":f(o)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var l=(y=t("../core/main"))&&y.__esModule?y:{default:y},g=function(n){if(n&&n.__esModule)return n;if(n===null||i(n)!=="object"&&typeof n!="function")return{default:n};var o=function(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,h)}();if(o&&o.has(n))return o.get(n);var s,r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in n){var d;Object.prototype.hasOwnProperty.call(n,s)&&((d=a?Object.getOwnPropertyDescriptor(n,s):null)&&(d.get||d.set)?Object.defineProperty(r,s,d):r[s]=n[s])}return r.default=n,o&&o.set(n,r),r}(t("../core/constants"));t("./p5.Texture"),l.default.prototype.loadShader=function(n,o,s,r){function a(){h._decrementPreload(),s&&s(d)}l.default._validateParameters("loadShader",arguments),r=r||console.error;var d=new l.default.Shader,h=this,c=!1,p=!1;return this.loadStrings(n,function(m){d._vertSrc=m.join(`
`),p=!0,c&&a()},r),this.loadStrings(o,function(m){d._fragSrc=m.join(`
`),c=!0,p&&a()},r),d},l.default.prototype.createShader=function(n,o){return this._assert3d("createShader"),l.default._validateParameters("createShader",arguments),new l.default.Shader(this._renderer,n,o)},l.default.prototype.shader=function(n){return this._assert3d("shader"),l.default._validateParameters("shader",arguments),n._renderer===void 0&&(n._renderer=this._renderer),n.init(),n.isStrokeShader()?this._renderer.userStrokeShader=n:(this._renderer.userFillShader=n,this._renderer._useNormalMaterial=!1),this},l.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},l.default.prototype.texture=function(n){return this._assert3d("texture"),l.default._validateParameters("texture",arguments),n.gifProperties&&n._animateGif(this),this._renderer.drawMode=g.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=n,this._renderer._setProperty("_doFill",!0),this},l.default.prototype.textureMode=function(n){n!==g.IMAGE&&n!==g.NORMAL?console.warn("You tried to set ".concat(n," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=n},l.default.prototype.textureWrap=function(n){var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:n,s=(this._renderer.textureWrapX=n,this._renderer.textureWrapY=o,!0),r=!1,a=void 0;try{for(var d,h=this._renderer.textures.values()[Symbol.iterator]();!(s=(d=h.next()).done);s=!0)d.value.setWrapMode(n,o)}catch(c){r=!0,a=c}finally{try{s||h.return==null||h.return()}finally{if(r)throw a}}},l.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return l.default._validateParameters("normalMaterial",o),this._renderer.drawMode=g.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},l.default.prototype.ambientMaterial=function(n,o,s){this._assert3d("ambientMaterial"),l.default._validateParameters("ambientMaterial",arguments);var r=l.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=r._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},l.default.prototype.emissiveMaterial=function(n,o,s,r){this._assert3d("emissiveMaterial"),l.default._validateParameters("emissiveMaterial",arguments);var a=l.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=a._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},l.default.prototype.specularMaterial=function(n,o,s,r){this._assert3d("specularMaterial"),l.default._validateParameters("specularMaterial",arguments);var a=l.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=a._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},l.default.prototype.shininess=function(n){return this._assert3d("shininess"),l.default._validateParameters("shininess",arguments),this._renderer._useShininess=n=n<1?1:n,this},l.default.RendererGL.prototype._applyColorBlend=function(n){var o=this.GL,s=this.drawMode===g.TEXTURE;return(s=this.userFillShader||this.userStrokeShader||this.userPointShader||s||this.curBlendMode!==g.BLEND||n[n.length-1]<1||this._isErasing)!==this._isBlending&&(s||this.curBlendMode!==g.BLEND&&this.curBlendMode!==g.ADD?o.enable(o.BLEND):o.disable(o.BLEND),o.depthMask(!0),this._isBlending=s),this._applyBlendMode(),n},l.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var n=this.GL;switch(this.curBlendMode){case g.BLEND:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case g.ADD:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ONE);break;case g.REMOVE:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ZERO,n.ONE_MINUS_SRC_ALPHA);break;case g.MULTIPLY:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA);break;case g.SCREEN:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ONE_MINUS_SRC_COLOR);break;case g.EXCLUSION:n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.blendFuncSeparate(n.ONE_MINUS_DST_COLOR,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE);break;case g.REPLACE:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO);break;case g.SUBTRACT:n.blendEquationSeparate(n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case g.DARKEST:this.blendExt?(n.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE,n.ONE,n.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case g.LIGHTEST:this.blendExt?(n.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE,n.ONE,n.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var y=l.default;_.default=y},{"../core/constants":262,"../core/main":273,"./p5.Texture":330,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],321:[function(t,O,_){t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function i(l,g){for(var y=0;y<g.length;y++){var n=g[y];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(l,n.key,n)}}f.default.prototype.camera=function(){var l;this._assert3d("camera");for(var g=arguments.length,y=new Array(g),n=0;n<g;n++)y[n]=arguments[n];return f.default._validateParameters("camera",y),(l=this._renderer._curCamera).camera.apply(l,y),this},f.default.prototype.perspective=function(){var l;this._assert3d("perspective");for(var g=arguments.length,y=new Array(g),n=0;n<g;n++)y[n]=arguments[n];return f.default._validateParameters("perspective",y),(l=this._renderer._curCamera).perspective.apply(l,y),this},f.default.prototype.ortho=function(){var l;this._assert3d("ortho");for(var g=arguments.length,y=new Array(g),n=0;n<g;n++)y[n]=arguments[n];return f.default._validateParameters("ortho",y),(l=this._renderer._curCamera).ortho.apply(l,y),this},f.default.prototype.frustum=function(){var l;this._assert3d("frustum");for(var g=arguments.length,y=new Array(g),n=0;n<g;n++)y[n]=arguments[n];return f.default._validateParameters("frustum",y),(l=this._renderer._curCamera).frustum.apply(l,y),this},f.default.prototype.createCamera=function(){this._assert3d("createCamera");var l=new f.default.Camera(this._renderer);return l._computeCameraDefaultSettings(),l._setDefaultCamera(),this._renderer._curCamera=l},f.default.Camera=function(){function l(n){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this._renderer=n,this.cameraType="default",this.cameraMatrix=new f.default.Matrix,this.projMatrix=new f.default.Matrix,this.yScale=1}var g,y;return g=l,(y=[{key:"perspective",value:function(n,o,s,r){this.cameraType=0<arguments.length?"custom":"default",n===void 0?(n=this.defaultCameraFOV,this.cameraFOV=n):this.cameraFOV=this._renderer._pInst._toRadians(n),o===void 0&&(o=this.defaultAspectRatio),s===void 0&&(s=this.defaultCameraNear),r===void 0&&(r=this.defaultCameraFar),s<=1e-4&&(s=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),r<s&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=o,this.cameraNear=s,this.cameraFar=r,this.projMatrix=f.default.Matrix.identity(),n=1/Math.tan(this.cameraFOV/2);var a=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(n/o,0,0,0,0,-n*this.yScale,0,0,0,0,(r+s)*a,-1,0,0,2*r*s*a,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])}},{key:"ortho",value:function(n,o,s,r,a,d){n===void 0&&(n=-this._renderer.width/2),o===void 0&&(o=+this._renderer.width/2),s===void 0&&(s=-this._renderer.height/2),r===void 0&&(r=+this._renderer.height/2),a===void 0&&(a=0),d===void 0&&(d=Math.max(this._renderer.width,this._renderer.height)),this.cameraNear=a;var h=o-n,c=r-s,p=(this.cameraFar=d)-a,m=2/h,b=2/c*this.yScale,A=-2/p;o=-(o+n)/h,n=-(r+s)/c,h=-(d+a)/p,this.projMatrix=f.default.Matrix.identity(),this.projMatrix.set(m,0,0,0,0,-b,0,0,0,0,A,0,o,n,h,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"frustum",value:function(n,o,s,r,a,d){n===void 0&&(n=.05*-this._renderer.width),o===void 0&&(o=.05*+this._renderer.width),s===void 0&&(s=.05*+this._renderer.height),r===void 0&&(r=.05*-this._renderer.height),a===void 0&&(a=this.defaultCameraNear),d===void 0&&(d=this.defaultCameraFar),this.cameraNear=a;var h=o-n,c=r-s,p=(this.cameraFar=d)-a,m=2*a/h,b=2*a/c*this.yScale,A=-2*d*a/p;o=(o+n)/h,n=(r+s)/c,h=-(d+a)/p,this.projMatrix=f.default.Matrix.identity(),this.projMatrix.set(m,0,0,0,0,-b,0,0,o,n,h,-1,0,0,A,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"_rotateView",value:function(n,o,s,r){var a=this.centerX,d=this.centerY,h=this.centerZ,c=(a-=this.eyeX,d-=this.eyeY,h-=this.eyeZ,f.default.Matrix.identity(this._renderer._pInst));(n=(c.rotate(this._renderer._pInst._toRadians(n),o,s,r),[a*c.mat4[0]+d*c.mat4[4]+h*c.mat4[8],a*c.mat4[1]+d*c.mat4[5]+h*c.mat4[9],a*c.mat4[2]+d*c.mat4[6]+h*c.mat4[10]]))[0]+=this.eyeX,n[1]+=this.eyeY,n[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,n[0],n[1],n[2],this.upX,this.upY,this.upZ)}},{key:"pan",value:function(n){var o=this._getLocalAxes();this._rotateView(n,o.y[0],o.y[1],o.y[2])}},{key:"tilt",value:function(n){var o=this._getLocalAxes();this._rotateView(n,o.x[0],o.x[1],o.x[2])}},{key:"lookAt",value:function(n,o,s){this.camera(this.eyeX,this.eyeY,this.eyeZ,n,o,s,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(n,o,s,r,a,d,h,c,p){return n===void 0&&(n=this.defaultEyeX,o=this.defaultEyeY,s=this.defaultEyeZ,r=n,a=o,c=1,p=h=d=0),this.eyeX=n,this.eyeY=o,this.eyeZ=s,r!==void 0&&(this.centerX=r,this.centerY=a,this.centerZ=d),h!==void 0&&(this.upX=h,this.upY=c,this.upZ=p),r=this._getLocalAxes(),this.cameraMatrix.set(r.x[0],r.y[0],r.z[0],0,r.x[1],r.y[1],r.z[1],0,r.x[2],r.y[2],r.z[2],0,0,0,0,1),a=-n,this.cameraMatrix.translate([a,-o,-s]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this}},{key:"move",value:function(n,o,s){n=[(r=this._getLocalAxes()).x[0]*n,r.x[1]*n,r.x[2]*n],o=[r.y[0]*o,r.y[1]*o,r.y[2]*o];var r=[r.z[0]*s,r.z[1]*s,r.z[2]*s];this.camera(this.eyeX+n[0]+o[0]+r[0],this.eyeY+n[1]+o[1]+r[1],this.eyeZ+n[2]+o[2]+r[2],this.centerX+n[0]+o[0]+r[0],this.centerY+n[1]+o[1]+r[1],this.centerZ+n[2]+o[2]+r[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(n,o,s){var r=n-this.eyeX,a=o-this.eyeY,d=s-this.eyeZ;this.camera(n,o,s,this.centerX+r,this.centerY+a,this.centerZ+d,this.upX,this.upY,this.upZ)}},{key:"set",value:function(n){for(var o=0,s=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType"];o<s.length;o++){var r=s[o];this[r]=n[r]}this.cameraMatrix=n.cameraMatrix.copy(),this.projMatrix=n.projMatrix.copy(),this._isActive()&&(this._renderer.uMVMatrix.mat4=this.cameraMatrix.mat4.slice(),this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())}},{key:"slerp",value:function(n,o,s){var r,a,d,h,c,p,m,b,A,T,x,R,S,C,D,N,F,M;s===0?this.set(n):s===1?this.set(o):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=n.projMatrix.mat4[0]*Math.pow(o.projMatrix.mat4[0]/n.projMatrix.mat4[0],s),this.projMatrix.mat4[5]=n.projMatrix.mat4[5]*Math.pow(o.projMatrix.mat4[5]/n.projMatrix.mat4[5],s),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),h=new f.default.Vector(n.eyeX,n.eyeY,n.eyeZ),c=new f.default.Vector(o.eyeX,o.eyeY,o.eyeZ),N=new f.default.Vector(n.centerX,n.centerY,n.centerZ),M=new f.default.Vector(o.centerX,o.centerY,o.centerZ),d=f.default.Vector.dist(h,N),r=f.default.Vector.dist(c,M),r=d*Math.pow(r/d,s),d=f.default.Vector.sub(h,c),a=1,1e-6<(F=(C=h.copy().sub(c).sub(N).add(M)).magSq())&&(a=f.default.Vector.dot(d,C)/F,a=Math.max(0,Math.min(a,1))),d=f.default.Vector.lerp(f.default.Vector.lerp(h,N,a),f.default.Vector.lerp(c,M,a),s),C=n.cameraMatrix.createSubMatrix3x3(),F=o.cameraMatrix.createSubMatrix3x3(),h=C.column(2),N=F.column(2),c=C.column(1),M=F.column(1),n=new f.default.Vector,o=new f.default.Vector,p=new f.default.Vector,m=new f.default.Vector,1-(b=.5*((C=(F=F.mult3x3(C.copy().transpose3x3())).diagonal())[0]+C[1]+C[2]-1))<1e-7?(n.set(f.default.Vector.lerp(h,N,s)).normalize(),p.set(n).mult(a*r).add(d),m.set(n).mult((a-1)*r).add(d),o.set(f.default.Vector.lerp(c,M,s)).normalize()):(N=1/(1-b),M=Math.max(C[0],C[1],C[2]),R=F.mat3[1]+F.mat3[3],S=F.mat3[2]+F.mat3[6],D=F.mat3[5]+F.mat3[7],M=M===C[0]?(T=.5*R*(N/=A=Math.sqrt((C[0]-b)*N)),x=.5*S*N,.5*(F.mat3[7]-F.mat3[5])/A):M===C[1]?(x=.5*D*(N/=T=Math.sqrt((C[1]-b)*N)),A=.5*R*N,.5*(F.mat3[2]-F.mat3[6])/T):(A=.5*S*(N/=x=Math.sqrt((C[2]-b)*N)),T=.5*D*N,.5*(F.mat3[3]-F.mat3[1])/x),R=s*Math.atan2(M,b),S=Math.cos(R),C=Math.sin(R),(M=new f.default.Matrix("mat3",[S+(D=1-S)*A*A,D*(N=A*T)-C*x,D*(F=x*A)+C*T,D*N+C*x,S+D*T*T,D*(s=T*x)-C*A,D*F-C*T,D*s+C*A,S+D*x*x])).multiplyVec3(h,n),p.set(n).mult(a*r).add(d),m.set(n).mult((a-1)*r).add(d),M.multiplyVec3(c,o)),this.camera(p.x,p.y,p.z,m.x,m.y,m.z,o.x,o.y,o.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)}},{key:"copy",value:function(){var n=new f.default.Camera(this._renderer);return n.cameraFOV=this.cameraFOV,n.aspectRatio=this.aspectRatio,n.eyeX=this.eyeX,n.eyeY=this.eyeY,n.eyeZ=this.eyeZ,n.centerX=this.centerX,n.centerY=this.centerY,n.centerZ=this.centerZ,n.upX=this.upX,n.upY=this.upY,n.upZ=this.upZ,n.cameraNear=this.cameraNear,n.cameraFar=this.cameraFar,n.cameraType=this.cameraType,n.cameraMatrix=this.cameraMatrix.copy(),n.projMatrix=this.projMatrix.copy(),n}},{key:"_getLocalAxes",value:function(){var n,o=this.eyeX-this.centerX,s=this.eyeY-this.centerY,r=this.eyeZ-this.centerZ,a=((a=Math.sqrt(o*o+s*s+r*r))!==0&&(o/=a,s/=a,r/=a),this.upX),d=(p=this.upY)*r-(m=this.upZ)*s,h=-a*r+m*o,c=a*s-p*o,p=(a=s*c-r*h,-o*c+r*d),m=o*h-s*d;return(n=((n=Math.sqrt(d*d+h*h+c*c))!==0&&(d/=n,h/=n,c/=n),Math.sqrt(a*a+p*p+m*m)))!==0&&(a/=n,p/=n,m/=n),{x:[d,h,c],y:[a,p,m],z:[o,s,r]}}},{key:"_orbit",value:function(n,o,s){var r=this.eyeX-this.centerX,a=this.eyeY-this.centerY,d=this.eyeZ-this.centerZ,h=Math.hypot(r,a,d),c=(r=new f.default.Vector(r,a,d).normalize(),a=new f.default.Vector(this.upX,this.upY,this.upZ).normalize(),d=new f.default.Vector.cross(a,r).normalize(),new f.default.Vector.cross(d,a));(h=(h*=Math.pow(10,s))<this.cameraNear?this.cameraNear:h)>this.cameraFar&&(h=this.cameraFar),s=Math.acos(Math.max(-1,Math.min(1,f.default.Vector.dot(r,a))))+o,o=n,(s<=0||s>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),a.mult(Math.cos(s)),c.mult(Math.cos(o)*Math.sin(s)),d.mult(Math.sin(o)*Math.sin(s)),r.set(a).add(c).add(d),this.eyeX=h*r.x+this.centerX,this.eyeY=h*r.y+this.centerY,this.eyeZ=h*r.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(n,o,s){var r=this.eyeX-this.centerX,a=this.eyeY-this.centerY,d=this.eyeZ-this.centerZ,h=Math.hypot(r,a,d),c=(r=new f.default.Vector(r,a,d).normalize(),a=new f.default.Vector(this.upX,this.upY,this.upZ),d=new f.default.Vector.cross(a,r).normalize(),new f.default.Vector.cross(r,d)),p=Math.atan2(o,n),m=(p=(c.mult(Math.sin(p)),d.mult(Math.cos(p)).add(c),Math.sqrt(n*n+o*o)),c=new f.default.Vector.cross(r,d),n=((h=(h*=Math.pow(10,s))<this.cameraNear?this.cameraNear:h)>this.cameraFar&&(h=this.cameraFar),Math.cos(p)),o=Math.sin(p),(s=a.dot(r))*n+(p=a.dot(d))*o);s=-s*o+p*n,p=a.dot(c),a.x=m*r.x+s*d.x+p*c.x,a.y=m*r.y+s*d.y+p*c.y,a.z=m*r.z+s*d.z+p*c.z,d.mult(-o),r.mult(n).add(d).mult(h),this.camera(r.x+this.centerX,r.y+this.centerY,r.z+this.centerZ,this.centerX,this.centerY,this.centerZ,a.x,a.y,a.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&i(g.prototype,y),l}(),f.default.prototype.setCamera=function(l){this._renderer._curCamera=l,this._renderer.uPMatrix.set(l.projMatrix.mat4[0],l.projMatrix.mat4[1],l.projMatrix.mat4[2],l.projMatrix.mat4[3],l.projMatrix.mat4[4],l.projMatrix.mat4[5],l.projMatrix.mat4[6],l.projMatrix.mat4[7],l.projMatrix.mat4[8],l.projMatrix.mat4[9],l.projMatrix.mat4[10],l.projMatrix.mat4[11],l.projMatrix.mat4[12],l.projMatrix.mat4[13],l.projMatrix.mat4[14],l.projMatrix.mat4[15])},t=f.default.Camera,_.default=t},{"../core/main":273,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.string.sub":198}],322:[function(t,O,_){function f(T){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(T)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.reflect.get"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.reflect.get"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var i=(A=t("../core/main"))&&A.__esModule?A:{default:A},l=function(T){if(T&&T.__esModule)return T;if(T===null||s(T)!=="object"&&typeof T!="function")return{default:T};var x=function(){var N;return typeof WeakMap!="function"?null:(N=new WeakMap,N)}();if(x&&x.has(T))return x.get(T);var R,S={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(R in T){var D;Object.prototype.hasOwnProperty.call(T,R)&&((D=C?Object.getOwnPropertyDescriptor(T,R):null)&&(D.get||D.set)?Object.defineProperty(S,R,D):S[R]=T[R])}return S.default=T,x&&x.set(T,S),S}(t("../core/constants")),g=t("./p5.Texture"),y=t("./p5.RendererGL");function n(T,x){return function(R){if(Array.isArray(R))return R}(T)||function(R,S){if(Symbol.iterator in Object(R)||Object.prototype.toString.call(R)==="[object Arguments]"){var C=[],D=!0,N=!1,F=void 0;try{for(var M,L=R[Symbol.iterator]();!(D=(M=L.next()).done)&&(C.push(M.value),!S||C.length!==S);D=!0);}catch(z){N=!0,F=z}finally{try{D||L.return==null||L.return()}finally{if(N)throw F}}return C}}(T,x)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(T,x,R){return x in T?Object.defineProperty(T,x,{value:R,enumerable:!0,configurable:!0,writable:!0}):T[x]=R,T}function s(T){return(s=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(x){return f(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":f(x)})(T)}function r(T,x){if(!(T instanceof x))throw new TypeError("Cannot call a class as a function")}function a(T,x){for(var R=0;R<x.length;R++){var S=x[R];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}function d(T,x,R){x&&a(T.prototype,x)}function h(T,x,R){return(h=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(S,C,D){if(S=function(N,F){for(;!Object.prototype.hasOwnProperty.call(N,F)&&(N=p(N))!==null;);return N}(S,C))return(S=Object.getOwnPropertyDescriptor(S,C)).get?S.get.call(D):S.value})(T,x,R||T)}function c(T,x){return(c=Object.setPrototypeOf||function(R,S){return R.__proto__=S,R})(T,x)}function p(T){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(T)}var m=function(T){var x=S;if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(T&&T.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),T&&c(x,T);var R=function(C){return function(){var D,N=p(C);if(D=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(D=p(this).constructor,Reflect.construct(N,arguments,D)):N.apply(this,arguments),N=this,!D||s(D)!=="object"&&typeof D!="function"){if(N!==void 0)return N;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return D}}(S);function S(C){var D;return r(this,S),(D=R.call(this,C.target._renderer)).fbo=C,D.yScale=-1,D}return d(S,[{key:"_computeCameraDefaultSettings",value:function(){h(p(S.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultEyeZ=this.fbo.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_resize",value:function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this.fbo.width/this.fbo.height)}}]),S}(i.default.Camera),b=(i.default.FramebufferCamera=m,function(){function T(x,R){r(this,T),this.framebuffer=x,this.property=R}return d(T,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),T}()),A=(i.default.FramebufferTexture=b,function(){function T(x){var R=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};if(r(this,T),this.target=x,this.target._renderer.framebuffers.add(this),this.pixels=[],this.format=R.format||l.UNSIGNED_BYTE,this.channels=R.channels||(x._renderer._pInst._glAttributes.alpha?l.RGBA:l.RGB),this.useDepth=R.depth===void 0||R.depth,this.depthFormat=R.depthFormat||l.FLOAT,this.textureFiltering=R.textureFiltering||l.LINEAR,R.antialias===void 0?this.antialiasSamples=x._renderer._pInst._glAttributes.antialias?2:0:typeof R.antialias=="number"?this.antialiasSamples=R.antialias:this.antialiasSamples=R.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&x.webglVersion!==l.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),R.width&&R.height?(this.width=R.width,this.height=R.height,this.autoSized=!1):(R.width===void 0!=(R.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=x.width,this.height=x.height,this.autoSized=!0),this.density=R.density||x.pixelDensity(),R=x._renderer.GL,this.gl=R,this._checkIfFormatsAvailable(),this.framebuffer=R.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=R.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures(),x=this.target._renderer._curCamera,this.defaultCamera=this.createCamera(),this.target._renderer._curCamera=x}return d(T,[{key:"resize",value:function(x,R){this.autoSized=!1,this.width=x,this.height=R,this._handleResize()}},{key:"pixelDensity",value:function(x){if(!x)return this.density;this.autoSized=!1,this.density=x,this._handleResize()}},{key:"autoSized",value:function(x){if(x===void 0)return this.autoSized;this.autoSized=x,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var x=this.gl;(x=(this.useDepth&&this.target.webglVersion===l.WEBGL&&!x.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===l.WEBGL&&this.depthFormat===l.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=l.UNSIGNED_INT),[l.UNSIGNED_BYTE,l.FLOAT,l.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=l.UNSIGNED_BYTE),this.useDepth&&![l.UNSIGNED_INT,l.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=l.FLOAT),(0,g.checkWebGLCapabilities)(this.target._renderer))).float||this.format!==l.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=l.UNSIGNED_BYTE),this.useDepth&&!x.float&&this.depthFormat===l.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=l.UNSIGNED_INT),x.halfFloat||this.format!==l.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=l.UNSIGNED_BYTE),this.channels===l.RGB&&[l.FLOAT,l.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=l.RGBA)}},{key:"_recreateTextures",value:function(){var x=this.gl,R=(this._updateSize(),x.getParameter(x.TEXTURE_BINDING_2D)),S=x.getParameter(x.FRAMEBUFFER_BINDING);if(!(D=x.createTexture()))throw new Error("Unable to create color texture");x.bindTexture(x.TEXTURE_2D,D);var C=this._glColorFormat();if(x.texImage2D(x.TEXTURE_2D,0,C.internalFormat,this.width*this.density,this.height*this.density,0,C.format,C.type,null),this.colorTexture=D,x.bindFramebuffer(x.FRAMEBUFFER,this.framebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,D,0),this.useDepth){var D;if(!(D=x.createTexture()))throw new Error("Unable to create depth texture");var N=this._glDepthFormat();x.bindTexture(x.TEXTURE_2D,D),x.texImage2D(x.TEXTURE_2D,0,N.internalFormat,this.width*this.density,this.height*this.density,0,N.format,N.type,null),x.framebufferTexture2D(x.FRAMEBUFFER,x.DEPTH_ATTACHMENT,x.TEXTURE_2D,D,0),this.depthTexture=D}this.antialias&&(this.colorRenderbuffer=x.createRenderbuffer(),x.bindRenderbuffer(x.RENDERBUFFER,this.colorRenderbuffer),x.renderbufferStorageMultisample(x.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,x.getParameter(x.MAX_SAMPLES))),C.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(N=this._glDepthFormat(),this.depthRenderbuffer=x.createRenderbuffer(),x.bindRenderbuffer(x.RENDERBUFFER,this.depthRenderbuffer),x.renderbufferStorageMultisample(x.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,x.getParameter(x.MAX_SAMPLES))),N.internalFormat,this.width*this.density,this.height*this.density)),x.bindFramebuffer(x.FRAMEBUFFER,this.aaFramebuffer),x.framebufferRenderbuffer(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&x.framebufferRenderbuffer(x.FRAMEBUFFER,x.DEPTH_ATTACHMENT,x.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new b(this,"depthTexture"),D=x.NEAREST,this.depthP5Texture=new i.default.Texture(this.target._renderer,this.depth,{minFilter:D,magFilter:D}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new b(this,"colorTexture"),C=this.textureFiltering===l.LINEAR?x.LINEAR:x.NEAREST,this.colorP5Texture=new i.default.Texture(this.target._renderer,this.color,{glMinFilter:C,glMagFilter:C}),this.target._renderer.textures.set(this.color,this.colorP5Texture),x.bindTexture(x.TEXTURE_2D,R),x.bindFramebuffer(x.FRAMEBUFFER,S)}},{key:"_glColorFormat",value:function(){var x,R,S=this.gl,C=this.format===l.FLOAT?S.FLOAT:this.format===l.HALF_FLOAT?this.target.webglVersion===l.WEBGL2?S.HALF_FLOAT:S.getExtension("OES_texture_half_float").HALF_FLOAT_OES:S.UNSIGNED_BYTE,D=this.channels===l.RGBA?S.RGBA:S.RGB;return{internalFormat:this.target.webglVersion===l.WEBGL2?(o(R={},S.FLOAT,o({},S.RGBA,S.RGBA32F)),o(R,S.HALF_FLOAT,o({},S.RGBA,S.RGBA16F)),o(R,S.UNSIGNED_BYTE,(o(x={},S.RGBA,S.RGBA8),o(x,S.RGB,S.RGB8),x)),R[C][D]):this.format===l.HALF_FLOAT?S.RGBA:D,format:D,type:C}}},{key:"_glDepthFormat",value:function(){var x=this.gl,R=this.depthFormat===l.FLOAT?x.FLOAT:x.UNSIGNED_INT,S=x.DEPTH_COMPONENT;return{internalFormat:x=this.target.webglVersion===l.WEBGL2?this.depthFormat===l.FLOAT?x.DEPTH_COMPONENT32F:x.DEPTH_COMPONENT24:x.DEPTH_COMPONENT,format:S,type:R}}},{key:"_updateSize",value:function(){this.autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this.autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var x=this.color,R=this.depth,S=this.colorRenderbuffer,C=this.depthRenderbuffer;this._deleteTexture(x),R&&this._deleteTexture(R),x=this.gl,S&&x.deleteRenderbuffer(S),C&&x.deleteRenderbuffer(C),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var x=new m(this);return x._computeCameraDefaultSettings(),x._setDefaultCamera(),this.target._renderer._curCamera=x}},{key:"_deleteTexture",value:function(x){this.gl.deleteTexture(x.rawTexture()),this.target._renderer.textures.delete(x)}},{key:"remove",value:function(){var x=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),x.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&x.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&x.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&x.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){var x=this.gl;this.prevFramebuffer=x.getParameter(x.FRAMEBUFFER_BINDING),this.antialias?x.bindFramebuffer(x.FRAMEBUFFER,this.aaFramebuffer):x.bindFramebuffer(x.FRAMEBUFFER,this.framebuffer),this.prevViewport=x.getParameter(x.VIEWPORT),x.viewport(0,0,this.width*this.density,this.height*this.density),this.target.push(),this.target.setCamera(this.defaultCamera),this.target._renderer.uMVMatrix.set(this.target._renderer._curCamera.cameraMatrix.mat4[0],this.target._renderer._curCamera.cameraMatrix.mat4[1],this.target._renderer._curCamera.cameraMatrix.mat4[2],this.target._renderer._curCamera.cameraMatrix.mat4[3],this.target._renderer._curCamera.cameraMatrix.mat4[4],this.target._renderer._curCamera.cameraMatrix.mat4[5],this.target._renderer._curCamera.cameraMatrix.mat4[6],this.target._renderer._curCamera.cameraMatrix.mat4[7],this.target._renderer._curCamera.cameraMatrix.mat4[8],this.target._renderer._curCamera.cameraMatrix.mat4[9],this.target._renderer._curCamera.cameraMatrix.mat4[10],this.target._renderer._curCamera.cameraMatrix.mat4[11],this.target._renderer._curCamera.cameraMatrix.mat4[12],this.target._renderer._curCamera.cameraMatrix.mat4[13],this.target._renderer._curCamera.cameraMatrix.mat4[14],this.target._renderer._curCamera.cameraMatrix.mat4[15])}},{key:"end",value:function(){var x=this.gl;if(this.antialias){x.bindFramebuffer(x.READ_FRAMEBUFFER,this.aaFramebuffer),x.bindFramebuffer(x.DRAW_FRAMEBUFFER,this.framebuffer);var R=[[x.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]];this.useDepth&&R.push([x.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var S=0,C=R;S<C.length;S++){var D=(N=n(C[S],2))[0],N=N[1];x.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,D,N)}}x.bindFramebuffer(x.FRAMEBUFFER,this.prevFramebuffer),x.viewport.apply(x,function(F){return function(M){if(Array.isArray(M)){for(var L=0,z=new Array(M.length);L<M.length;L++)z[L]=M[L];return z}}(F)||function(M){if(Symbol.iterator in Object(M)||Object.prototype.toString.call(M)==="[object Arguments]")return Array.from(M)}(F)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(this.prevViewport)),this.target.pop()}},{key:"draw",value:function(x){this.begin(),x(),this.end()}},{key:"loadPixels",value:function(){var x=this.gl,R=x.getParameter(x.FRAMEBUFFER_BINDING),S=(x.bindFramebuffer(x.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,y.readPixelsWebGL)(this.pixels,x,this.framebuffer,0,0,this.width*this.density,this.height*this.density,S.format,S.type),x.bindFramebuffer(x.FRAMEBUFFER,R)}},{key:"get",value:function(x,R,S,C){i.default._validateParameters("p5.Framebuffer.get",arguments);var D=this._glColorFormat();if(x===void 0&&R===void 0)R=x=0,S=this.width,C=this.height;else if(S===void 0&&C===void 0)return(x<0||R<0||x>=this.width||R>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),x=this.target.constrain(x,0,this.width-1),R=this.target.constrain(R,0,this.height-1)),(0,y.readPixelWebGL)(this.gl,this.framebuffer,x*this.density,R*this.density,D.format,D.type);x=this.target.constrain(x,0,this.width-1),R=this.target.constrain(R,0,this.height-1),S=this.target.constrain(S,1,this.width-x),C=this.target.constrain(C,1,this.height-R);for(var N=(0,y.readPixelsWebGL)(void 0,this.gl,this.framebuffer,x*this.density,R*this.density,S*this.density,C*this.density,D.format,D.type),F=new Uint8ClampedArray(S*C*this.density*this.density*4),M=(F.fill(255),D.type===this.gl.RGB?3:4),L=0;L<C*this.density;L++)for(var z=0;z<S*this.density;z++)for(var Y=0;Y<4;Y++){var Z,ee=4*(L*S*this.density+z)+Y;Y<M&&(Z=M==4?ee:(L*S*this.density+z)*M+Y,F[ee]=N[Z])}return(x=new i.default.Image(S*this.density,C*this.density)).imageData=x.canvas.getContext("2d").createImageData(x.width,x.height),x.imageData.data.set(F),x.pixels=x.imageData.data,x.updatePixels(),this.density!==1&&x.resize(S,C),x}},{key:"updatePixels",value:function(){var x=this.gl,R=(this.colorP5Texture.bindTexture(),this._glColorFormat()),S=R.format===x.RGBA?4:3,C=(S=this.width*this.height*this.density*this.density*S,R.type===x.UNSIGNED_BYTE?Uint8Array:Float32Array);if(!(this.pixels instanceof C)||this.pixels.length!==S)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");x.texImage2D(x.TEXTURE_2D,0,R.internalFormat,this.width*this.density,this.height*this.density,0,R.format,R.type,this.pixels),this.colorP5Texture.unbindTexture(),this.prevFramebuffer=x.getParameter(x.FRAMEBUFFER_BINDING),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(x.clearDepth(1),x.clear(x.DEPTH_BUFFER_BIT)),this.end()):(x.bindFramebuffer(x.FRAMEBUFFER,this.framebuffer),this.useDepth&&(x.clearDepth(1),x.clear(x.DEPTH_BUFFER_BIT)),x.bindFramebuffer(x.FRAMEBUFFER,this.prevFramebuffer))}}]),T}());t=i.default.Framebuffer=A,_.default=t},{"../core/constants":262,"../core/main":273,"./p5.RendererGL":328,"./p5.Texture":330,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.reflect.get":183,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],323:[function(t,O,_){t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function i(l,g){for(var y=0;y<g.length;y++){var n=g[y];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(l,n.key,n)}}f.default.Geometry=function(){function l(n,o,s){if(this instanceof l)return this.vertices=[],this.lineVertices=[],this.lineTangentsIn=[],this.lineTangentsOut=[],this.lineSides=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=[],this.detailX=n!==void 0?n:1,this.detailY=o!==void 0?o:1,this.dirtyFlags={},s instanceof Function&&s.call(this),this;throw new TypeError("Cannot call a class as a function")}var g,y;return g=l,(y=[{key:"reset",value:function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"computeFaces",value:function(){this.faces.length=0;for(var n,o,s,r=this.detailX+1,a=0;a<this.detailY;a++)for(var d=0;d<this.detailX;d++)o=(a+1)*r+d+1,this.faces.push([a*r+d,n=a*r+d+1,s=(a+1)*r+d]),this.faces.push([s,n,o]);return this}},{key:"_getFaceNormal",value:function(n){n=this.faces[n];var o=this.vertices[n[0]],s=this.vertices[n[1]],r=(n=this.vertices[n[2]],s=f.default.Vector.sub(s,o),n=f.default.Vector.sub(n,o),o=f.default.Vector.cross(s,n),f.default.Vector.mag(o));return(s=r/(f.default.Vector.mag(s)*f.default.Vector.mag(n)))===0||isNaN(s)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),o):(1<s&&(s=1),o.mult(Math.asin(s)/r))}},{key:"computeNormals",value:function(){for(var n=this,o=this.vertexNormals,s=this.vertices,r=this.faces,a=o.length=0;a<s.length;++a)o.push(new f.default.Vector);for(r.forEach(function(d,h){for(var c=n._getFaceNormal(h),p=0;p<3;++p){var m=d[p];o[m].add(c)}}),a=0;a<s.length;++a)o[a].normalize();return this}},{key:"averageNormals",value:function(){for(var n=0;n<=this.detailY;n++){var o=this.detailX+1,s=f.default.Vector.add(this.vertexNormals[n*o],this.vertexNormals[n*o+this.detailX]);s=f.default.Vector.div(s,2),this.vertexNormals[n*o]=s,this.vertexNormals[n*o+this.detailX]=s}return this}},{key:"averagePoleNormals",value:function(){for(var n=new f.default.Vector(0,0,0),o=0;o<this.detailX;o++)n.add(this.vertexNormals[o]);n=f.default.Vector.div(n,this.detailX);for(var s=0;s<this.detailX;s++)this.vertexNormals[s]=n;n=new f.default.Vector(0,0,0);for(var r=this.vertices.length-1;r>this.vertices.length-1-this.detailX;r--)n.add(this.vertexNormals[r]);n=f.default.Vector.div(n,this.detailX);for(var a=this.vertices.length-1;a>this.vertices.length-1-this.detailX;a--)this.vertexNormals[a]=n;return this}},{key:"_makeTriangleEdges",value:function(){for(var n=this.edges.length=0;n<this.faces.length;n++)this.edges.push([this.faces[n][0],this.faces[n][1]]),this.edges.push([this.faces[n][1],this.faces[n][2]]),this.edges.push([this.faces[n][2],this.faces[n][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0;for(var n,o=1<this.edges.length&&this.edges[0][0]===this.edges[this.edges.length-1][1],s=!1,r=0;r<this.edges.length;r++){var a=this.edges[r-1],d=this.edges[r],h=this.vertices[d[0]],c=this.vertices[d[1]],p=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*d[0],4*(d[0]+1)):[0,0,0,0],m=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*d[1],4*(d[1]+1)):[0,0,0,0],b=c.copy().sub(h).normalize(),A=0<b.magSq();A&&this._addSegment(h,c,p,m,b),0<r&&a[1]===d[0]?(n&&A&&b.dot(n)<1-1e-8&&this._addJoin(h,n,b,p),!A||s||o||(this._addCap(h,b.copy().mult(-1),p),s=!0)):(s=!1,A&&(!o||0<r)&&(this._addCap(h,b.copy().mult(-1),p),s=!0),n&&(!o||r<this.edges.length-1)&&(this._addCap(this.vertices[a[1]],n,p),n=void 0)),r===this.edges.length-1&&(o?this._addJoin(c,b,this.vertices[this.edges[0][1]].copy().sub(c).normalize(),m):this._addCap(c,b,m)),A&&(n=b)}return this}},{key:"_addSegment",value:function(n,o,s,r,a){n=n.array(),o=o.array();var d=a.array();this.lineSides.push(1,-1,1,1,-1,-1);for(var h=0,c=[this.lineTangentsIn,this.lineTangentsOut];h<c.length;h++)c[h].push(d,d,d,d,d,d);return this.lineVertices.push(n,n,o,o,n,o),this.lineVertexColors.push(s,s,r,r,s,r),this}},{key:"_addCap",value:function(n,o,s){for(var r=n.array(),a=o.array(),d=[0,0,0],h=0;h<6;h++)this.lineVertices.push(r),this.lineTangentsIn.push(a),this.lineTangentsOut.push(d),this.lineVertexColors.push(s);return this.lineSides.push(-1,-2,2,2,1,-1),this}},{key:"_addJoin",value:function(n,o,s,r){for(var a=n.array(),d=o.array(),h=s.array(),c=0;c<12;c++)this.lineVertices.push(a),this.lineTangentsIn.push(d),this.lineTangentsOut.push(h),this.lineVertexColors.push(r);for(var p=0,m=[-1,1];p<m.length;p++){var b=m[p];this.lineSides.push(b,2*b,3*b,b,3*b,0)}return this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var n=this.vertices[0].copy(),o=this.vertices[0].copy(),s=0;s<this.vertices.length;s++)n.x=Math.max(n.x,this.vertices[s].x),o.x=Math.min(o.x,this.vertices[s].x),n.y=Math.max(n.y,this.vertices[s].y),o.y=Math.min(o.y,this.vertices[s].y),n.z=Math.max(n.z,this.vertices[s].z),o.z=Math.min(o.z,this.vertices[s].z);for(var r=f.default.Vector.lerp(n,o,.5),a=f.default.Vector.sub(n,o),d=200/Math.max(Math.max(a.x,a.y),a.z),h=0;h<this.vertices.length;h++)this.vertices[h].sub(r),this.vertices[h].mult(d)}return this}}])&&i(g.prototype,y),l}(),t=f.default.Geometry,_.default=t},{"../core/main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.slice":164,"core-js/modules/es.string.sub":198,"core-js/modules/web.dom-collections.for-each":235}],324:[function(t,O,_){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function i(y,n){for(var o=0;o<n.length;o++){var s=n[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(y,s.key,s)}}var l=Array,g=function(y){return Array.isArray(y)};typeof Float32Array<"u"&&(l=Float32Array,g=function(y){return Array.isArray(y)||y instanceof Float32Array}),f.default.Matrix=function(){function y(){var r=this,a=y;if(r instanceof a)return arguments.length&&((r=arguments.length-1)<0||arguments.length<=r?void 0:arguments[r])instanceof f.default&&(this.p5=(a=arguments.length-1)<0||arguments.length<=a?void 0:arguments[a]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new l([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new l([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var n,o,s;return n=y,s=[{key:"identity",value:function(r){return new f.default.Matrix(r)}}],(o=[{key:"set",value:function(r){return r instanceof f.default.Matrix?this.mat4=r.mat4:g(r)?this.mat4=r:arguments.length===16&&(this.mat4[0]=r,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this}},{key:"get",value:function(){return new f.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var r;return this.mat3!==void 0?((r=new f.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],r.mat3[1]=this.mat3[1],r.mat3[2]=this.mat3[2],r.mat3[3]=this.mat3[3],r.mat3[4]=this.mat3[4],r.mat3[5]=this.mat3[5],r.mat3[6]=this.mat3[6],r.mat3[7]=this.mat3[7],r.mat3[8]=this.mat3[8]):((r=new f.default.Matrix(this.p5)).mat4[0]=this.mat4[0],r.mat4[1]=this.mat4[1],r.mat4[2]=this.mat4[2],r.mat4[3]=this.mat4[3],r.mat4[4]=this.mat4[4],r.mat4[5]=this.mat4[5],r.mat4[6]=this.mat4[6],r.mat4[7]=this.mat4[7],r.mat4[8]=this.mat4[8],r.mat4[9]=this.mat4[9],r.mat4[10]=this.mat4[10],r.mat4[11]=this.mat4[11],r.mat4[12]=this.mat4[12],r.mat4[13]=this.mat4[13],r.mat4[14]=this.mat4[14],r.mat4[15]=this.mat4[15]),r}},{key:"transpose",value:function(r){var a,d,h,c,p,m;return r instanceof f.default.Matrix?(a=r.mat4[1],d=r.mat4[2],h=r.mat4[3],c=r.mat4[6],p=r.mat4[7],m=r.mat4[11],this.mat4[0]=r.mat4[0],this.mat4[1]=r.mat4[4],this.mat4[2]=r.mat4[8],this.mat4[3]=r.mat4[12],this.mat4[4]=a,this.mat4[5]=r.mat4[5],this.mat4[6]=r.mat4[9],this.mat4[7]=r.mat4[13],this.mat4[8]=d,this.mat4[9]=c,this.mat4[10]=r.mat4[10],this.mat4[11]=r.mat4[14],this.mat4[12]=h,this.mat4[13]=p,this.mat4[14]=m,this.mat4[15]=r.mat4[15]):g(r)&&(a=r[1],d=r[2],h=r[3],c=r[6],p=r[7],m=r[11],this.mat4[0]=r[0],this.mat4[1]=r[4],this.mat4[2]=r[8],this.mat4[3]=r[12],this.mat4[4]=a,this.mat4[5]=r[5],this.mat4[6]=r[9],this.mat4[7]=r[13],this.mat4[8]=d,this.mat4[9]=c,this.mat4[10]=r[10],this.mat4[11]=r[14],this.mat4[12]=h,this.mat4[13]=p,this.mat4[14]=m,this.mat4[15]=r[15]),this}},{key:"invert",value:function(r){r instanceof f.default.Matrix?(a=r.mat4[0],d=r.mat4[1],h=r.mat4[2],c=r.mat4[3],p=r.mat4[4],m=r.mat4[5],b=r.mat4[6],A=r.mat4[7],T=r.mat4[8],x=r.mat4[9],R=r.mat4[10],S=r.mat4[11],C=r.mat4[12],D=r.mat4[13],N=r.mat4[14],F=r.mat4[15]):g(r)&&(a=r[0],d=r[1],h=r[2],c=r[3],p=r[4],m=r[5],b=r[6],A=r[7],T=r[8],x=r[9],R=r[10],S=r[11],C=r[12],D=r[13],N=r[14],F=r[15]);var a,d,h,c,p,m,b,A,T,x,R,S,C,D,N,F,M=a*b-h*p,L=a*A-c*p,z=d*b-h*m,Y=d*A-c*m,Z=h*A-c*b,ee=T*D-x*C,te=T*N-R*C,oe=T*F-S*C,U=x*N-R*D,q=x*F-S*D,K=R*F-S*N,se=(r=a*m-d*p)*K-M*q+L*U+z*oe-Y*te+Z*ee;return se?(this.mat4[0]=(m*K-b*q+A*U)*(se=1/se),this.mat4[1]=(h*q-d*K-c*U)*se,this.mat4[2]=(D*Z-N*Y+F*z)*se,this.mat4[3]=(R*Y-x*Z-S*z)*se,this.mat4[4]=(b*oe-p*K-A*te)*se,this.mat4[5]=(a*K-h*oe+c*te)*se,this.mat4[6]=(N*L-C*Z-F*M)*se,this.mat4[7]=(T*Z-R*L+S*M)*se,this.mat4[8]=(p*q-m*oe+A*ee)*se,this.mat4[9]=(d*oe-a*q-c*ee)*se,this.mat4[10]=(C*Y-D*L+F*r)*se,this.mat4[11]=(x*L-T*Y-S*r)*se,this.mat4[12]=(m*te-p*U-b*ee)*se,this.mat4[13]=(a*U-d*te+h*ee)*se,this.mat4[14]=(D*M-C*z-N*r)*se,this.mat4[15]=(T*z-x*M+R*r)*se,this):null}},{key:"invert3x3",value:function(){var r=this.mat3[0],a=this.mat3[1],d=this.mat3[2],h=this.mat3[3],c=this.mat3[4],p=this.mat3[5],m=this.mat3[6],b=this.mat3[7],A=this.mat3[8],T=A*c-p*b,x=-A*h+p*m,R=b*h-c*m,S=r*T+a*x+d*R;return S?(this.mat3[0]=T*(S=1/S),this.mat3[1]=(-A*a+d*b)*S,this.mat3[2]=(p*a-d*c)*S,this.mat3[3]=x*S,this.mat3[4]=(A*r-d*m)*S,this.mat3[5]=(-p*r+d*h)*S,this.mat3[6]=R*S,this.mat3[7]=(-b*r+a*m)*S,this.mat3[8]=(c*r-a*h)*S,this):null}},{key:"transpose3x3",value:function(r){var a=(r=r===void 0?this.mat3:r)[1],d=r[2],h=r[5];return this.mat3[0]=r[0],this.mat3[1]=r[3],this.mat3[2]=r[6],this.mat3[3]=a,this.mat3[4]=r[4],this.mat3[5]=r[7],this.mat3[6]=d,this.mat3[7]=h,this.mat3[8]=r[8],this}},{key:"inverseTranspose",value:function(r){if(r=r.mat4,this.mat3===void 0?f.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=r[0],this.mat3[1]=r[1],this.mat3[2]=r[2],this.mat3[3]=r[4],this.mat3[4]=r[5],this.mat3[5]=r[6],this.mat3[6]=r[8],this.mat3[7]=r[9],this.mat3[8]=r[10]),r=this.invert3x3())r.transpose3x3(this.mat3);else for(var a=0;a<9;a++)this.mat3[a]=0;return this}},{key:"determinant",value:function(){var r=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],a=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],d=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],h=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],c=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],p=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],m=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],b=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],A=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],T=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],x=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return r*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-a*x+d*T+h*A-c*b+p*m}},{key:"mult",value:function(r){var a;if(r===this||r===this.mat4)a=this.copy().mat4;else if(r instanceof f.default.Matrix)a=r.mat4;else if(g(r))a=r;else{if(arguments.length!==16)return;a=arguments}r=this.mat4[0];var d=this.mat4[1],h=this.mat4[2],c=this.mat4[3];return this.mat4[0]=r*a[0]+d*a[4]+h*a[8]+c*a[12],this.mat4[1]=r*a[1]+d*a[5]+h*a[9]+c*a[13],this.mat4[2]=r*a[2]+d*a[6]+h*a[10]+c*a[14],this.mat4[3]=r*a[3]+d*a[7]+h*a[11]+c*a[15],r=this.mat4[4],d=this.mat4[5],h=this.mat4[6],c=this.mat4[7],this.mat4[4]=r*a[0]+d*a[4]+h*a[8]+c*a[12],this.mat4[5]=r*a[1]+d*a[5]+h*a[9]+c*a[13],this.mat4[6]=r*a[2]+d*a[6]+h*a[10]+c*a[14],this.mat4[7]=r*a[3]+d*a[7]+h*a[11]+c*a[15],r=this.mat4[8],d=this.mat4[9],h=this.mat4[10],c=this.mat4[11],this.mat4[8]=r*a[0]+d*a[4]+h*a[8]+c*a[12],this.mat4[9]=r*a[1]+d*a[5]+h*a[9]+c*a[13],this.mat4[10]=r*a[2]+d*a[6]+h*a[10]+c*a[14],this.mat4[11]=r*a[3]+d*a[7]+h*a[11]+c*a[15],r=this.mat4[12],d=this.mat4[13],h=this.mat4[14],c=this.mat4[15],this.mat4[12]=r*a[0]+d*a[4]+h*a[8]+c*a[12],this.mat4[13]=r*a[1]+d*a[5]+h*a[9]+c*a[13],this.mat4[14]=r*a[2]+d*a[6]+h*a[10]+c*a[14],this.mat4[15]=r*a[3]+d*a[7]+h*a[11]+c*a[15],this}},{key:"apply",value:function(r){var a;if(r===this||r===this.mat4)a=this.copy().mat4;else if(r instanceof f.default.Matrix)a=r.mat4;else if(g(r))a=r;else{if(arguments.length!==16)return;a=arguments}var d=(r=this.mat4)[0],h=r[4],c=r[8],p=r[12];return r[0]=a[0]*d+a[1]*h+a[2]*c+a[3]*p,r[4]=a[4]*d+a[5]*h+a[6]*c+a[7]*p,r[8]=a[8]*d+a[9]*h+a[10]*c+a[11]*p,r[12]=a[12]*d+a[13]*h+a[14]*c+a[15]*p,d=r[1],h=r[5],c=r[9],p=r[13],r[1]=a[0]*d+a[1]*h+a[2]*c+a[3]*p,r[5]=a[4]*d+a[5]*h+a[6]*c+a[7]*p,r[9]=a[8]*d+a[9]*h+a[10]*c+a[11]*p,r[13]=a[12]*d+a[13]*h+a[14]*c+a[15]*p,d=r[2],h=r[6],c=r[10],p=r[14],r[2]=a[0]*d+a[1]*h+a[2]*c+a[3]*p,r[6]=a[4]*d+a[5]*h+a[6]*c+a[7]*p,r[10]=a[8]*d+a[9]*h+a[10]*c+a[11]*p,r[14]=a[12]*d+a[13]*h+a[14]*c+a[15]*p,d=r[3],h=r[7],c=r[11],p=r[15],r[3]=a[0]*d+a[1]*h+a[2]*c+a[3]*p,r[7]=a[4]*d+a[5]*h+a[6]*c+a[7]*p,r[11]=a[8]*d+a[9]*h+a[10]*c+a[11]*p,r[15]=a[12]*d+a[13]*h+a[14]*c+a[15]*p,this}},{key:"scale",value:function(r,a,d){return r instanceof f.default.Vector?(a=r.y,d=r.z,r=r.x):r instanceof Array&&(a=r[1],d=r[2],r=r[0]),this.mat4[0]*=r,this.mat4[1]*=r,this.mat4[2]*=r,this.mat4[3]*=r,this.mat4[4]*=a,this.mat4[5]*=a,this.mat4[6]*=a,this.mat4[7]*=a,this.mat4[8]*=d,this.mat4[9]*=d,this.mat4[10]*=d,this.mat4[11]*=d,this}},{key:"rotate",value:function(r,a,d,h){a instanceof f.default.Vector?(d=a.y,h=a.z,a=a.x):a instanceof Array&&(d=a[1],h=a[2],a=a[0]);var c=(a*=1/(c=Math.sqrt(a*a+d*d+h*h)),d*=1/c,h*=1/c,this.mat4[0]),p=this.mat4[1],m=this.mat4[2],b=this.mat4[3],A=this.mat4[4],T=this.mat4[5],x=this.mat4[6],R=this.mat4[7],S=this.mat4[8],C=this.mat4[9],D=this.mat4[10],N=this.mat4[11],F=Math.sin(r),M=1-(r=Math.cos(r)),L=a*a*M+r,z=d*a*M+h*F,Y=h*a*M-d*F,Z=a*d*M-h*F,ee=d*d*M+r,te=h*d*M+a*F,oe=a*h*M+d*F;return d=d*h*M-a*F,a=h*h*M+r,this.mat4[0]=c*L+A*z+S*Y,this.mat4[1]=p*L+T*z+C*Y,this.mat4[2]=m*L+x*z+D*Y,this.mat4[3]=b*L+R*z+N*Y,this.mat4[4]=c*Z+A*ee+S*te,this.mat4[5]=p*Z+T*ee+C*te,this.mat4[6]=m*Z+x*ee+D*te,this.mat4[7]=b*Z+R*ee+N*te,this.mat4[8]=c*oe+A*d+S*a,this.mat4[9]=p*oe+T*d+C*a,this.mat4[10]=m*oe+x*d+D*a,this.mat4[11]=b*oe+R*d+N*a,this}},{key:"translate",value:function(r){var a=r[0],d=r[1];r=r[2]||0,this.mat4[12]+=this.mat4[0]*a+this.mat4[4]*d+this.mat4[8]*r,this.mat4[13]+=this.mat4[1]*a+this.mat4[5]*d+this.mat4[9]*r,this.mat4[14]+=this.mat4[2]*a+this.mat4[6]*d+this.mat4[10]*r,this.mat4[15]+=this.mat4[3]*a+this.mat4[7]*d+this.mat4[11]*r}},{key:"rotateX",value:function(r){this.rotate(r,1,0,0)}},{key:"rotateY",value:function(r){this.rotate(r,0,1,0)}},{key:"rotateZ",value:function(r){this.rotate(r,0,0,1)}},{key:"perspective",value:function(r,a,d,h){r=1/Math.tan(r/2);var c=1/(d-h);return this.mat4[0]=r/a,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=r,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(h+d)*c,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*h*d*c,this.mat4[15]=0,this}},{key:"ortho",value:function(r,a,d,h,c,p){var m=1/(r-a),b=1/(d-h),A=1/(c-p);return this.mat4[0]=-2*m,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*b,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*A,this.mat4[11]=0,this.mat4[12]=(r+a)*m,this.mat4[13]=(h+d)*b,this.mat4[14]=(p+c)*A,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(r,a,d,h){var c=new Array(4),p=this.mat4;return c[0]=p[0]*r+p[4]*a+p[8]*d+p[12]*h,c[1]=p[1]*r+p[5]*a+p[9]*d+p[13]*h,c[2]=p[2]*r+p[6]*a+p[10]*d+p[14]*h,c[3]=p[3]*r+p[7]*a+p[11]*d+p[15]*h,c}},{key:"multiplyPoint",value:function(r){var a=r.x,d=r.y;return r=r.z,a=this.multiplyVec4(a,d,r,1),new f.default.Vector(a[0],a[1],a[2])}},{key:"multiplyAndNormalizePoint",value:function(r){var a=r.x,d=r.y;return r=r.z,(a=this.multiplyVec4(a,d,r,1))[0]/=a[3],a[1]/=a[3],a[2]/=a[3],new f.default.Vector(a[0],a[1],a[2])}},{key:"multiplyDirection",value:function(r){var a=r.x,d=r.y;return r=r.z,a=this.multiplyVec4(a,d,r,0),new f.default.Vector(a[0],a[1],a[2])}},{key:"mult3x3",value:function(r){var a;if(r===this||r===this.mat3)a=this.copy().mat3;else if(r instanceof f.default.Matrix)a=r.mat3;else if(g(r))a=r;else{if(arguments.length!==9)return;a=arguments}r=this.mat3[0];var d=this.mat3[1],h=this.mat3[2];return this.mat3[0]=r*a[0]+d*a[3]+h*a[6],this.mat3[1]=r*a[1]+d*a[4]+h*a[7],this.mat3[2]=r*a[2]+d*a[5]+h*a[8],r=this.mat3[3],d=this.mat3[4],h=this.mat3[5],this.mat3[3]=r*a[0]+d*a[3]+h*a[6],this.mat3[4]=r*a[1]+d*a[4]+h*a[7],this.mat3[5]=r*a[2]+d*a[5]+h*a[8],r=this.mat3[6],d=this.mat3[7],h=this.mat3[8],this.mat3[6]=r*a[0]+d*a[3]+h*a[6],this.mat3[7]=r*a[1]+d*a[4]+h*a[7],this.mat3[8]=r*a[2]+d*a[5]+h*a[8],this}},{key:"column",value:function(r){return new f.default.Vector(this.mat3[r],this.mat3[r+3],this.mat3[r+6])}},{key:"row",value:function(r){return new f.default.Vector(this.mat3[3*r],this.mat3[3*r+1],this.mat3[3*r+2])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(r,a){return(a=a===void 0?r.copy():a).x=this.row(0).dot(r),a.y=this.row(1).dot(r),a.z=this.row(2).dot(r),a}},{key:"createSubMatrix3x3",value:function(){var r=new f.default.Matrix("mat3");return r.mat3[0]=this.mat4[0],r.mat3[1]=this.mat4[1],r.mat3[2]=this.mat4[2],r.mat3[3]=this.mat4[4],r.mat3[4]=this.mat4[5],r.mat3[5]=this.mat4[6],r.mat3[6]=this.mat4[8],r.mat3[7]=this.mat4[9],r.mat3[8]=this.mat4[10],r}}])&&i(n.prototype,o),s&&i(n,s),y}(),t=f.default.Matrix,_.default=t},{"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229}],325:[function(t,O,_){function f(i,l){for(var g=0;g<l.length;g++){var y=l[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(i,y.key,y)}}t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,(t=(t=t("../core/main"))&&t.__esModule?t:{default:t}).default.RenderBuffer=function(){function i(y,n,o,s,r,a){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.size=y,this.src=n,this.dst=o,this.attr=s,this._renderer=r,this.map=a}var l,g;return l=i,(g=[{key:"_prepareBuffer",value:function(y,n){var o,s,r,a=n.attributes,d=this._renderer.GL,h=y.model||y;(a=a[this.attr])&&(o=y[this.dst],0<(s=h[this.src]).length?((r=!o)&&(y[this.dst]=o=d.createBuffer()),d.bindBuffer(d.ARRAY_BUFFER,o),!r&&h.dirtyFlags[this.src]===!1||(r=(y=this.map)?y(s):s,this._renderer._bindBuffer(o,d.ARRAY_BUFFER,r),h.dirtyFlags[this.src]=!1),n.enableAttrib(a,this.size)):(y=a.location)!==-1&&this._renderer.registerEnabled[y]&&(d.disableVertexAttribArray(y),this._renderer.registerEnabled[y]=!1))}}])&&f(l.prototype,g),i}(),t=t.default.RenderBuffer,_.default=t},{"../core/main":273,"core-js/modules/es.array.map":163}],326:[function(t,O,_){function f(s){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(s)}function i(s){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(r){return f(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":f(r)})(s)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var l=(o=t("../core/main"))&&o.__esModule?o:{default:o},g=function(s){if(s&&s.__esModule)return s;if(s===null||i(s)!=="object"&&typeof s!="function")return{default:s};var r=function(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,p)}();if(r&&r.has(s))return r.get(s);var a,d={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in s){var c;Object.prototype.hasOwnProperty.call(s,a)&&((c=h?Object.getOwnPropertyDescriptor(s,a):null)&&(c.get||c.set)?Object.defineProperty(d,a,c):d[a]=s[a])}return d.default=s,r&&r.set(s,d),d}(t("../core/constants"));function y(s){return function(r){if(Array.isArray(r)){for(var a=0,d=new Array(r.length);a<r.length;a++)d[a]=r[a];return d}}(s)||function(r){if(Symbol.iterator in Object(r)||Object.prototype.toString.call(r)==="[object Arguments]")return Array.from(r)}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),l.default.RendererGL.prototype.beginShape=function(s){return this.immediateMode.shapeMode=s!==void 0?s:g.TESS,this.immediateMode.geometry.reset(),this};var n={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},o=(l.default.RendererGL.prototype.vertex=function(s,r){if(this.immediateMode.shapeMode===g.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var a in n){var d=n[a];(a=this.immediateMode.geometry[a]).push.apply(a,y(a.slice(a.length-3*d,a.length-2*d)).concat(y(a.slice(a.length-d,a.length))))}var h,c,p=h=c=0,m=(arguments.length===3?p=arguments[2]:arguments.length===4?(h=arguments[2],c=arguments[3]):arguments.length===5&&(p=arguments[2],h=arguments[3],c=arguments[4]),new l.default.Vector(s,r,p));return this.immediateMode.geometry.vertices.push(m),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),m=this.curFillColor||[.5,.5,.5,1],this.immediateMode.geometry.vertexColors.push(m[0],m[1],m[2],m[3]),m=this.curStrokeColor||[.5,.5,.5,1],this.immediateMode.geometry.vertexStrokeColors.push(m[0],m[1],m[2],m[3]),this.textureMode===g.IMAGE&&(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(h/=this._tex.width,c/=this._tex.height):!this.isProcessingVertices&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(h,c),this.immediateMode._bezierVertex[0]=s,this.immediateMode._bezierVertex[1]=r,this.immediateMode._bezierVertex[2]=p,this.immediateMode._quadraticVertex[0]=s,this.immediateMode._quadraticVertex[1]=r,this.immediateMode._quadraticVertex[2]=p,this},l.default.RendererGL.prototype.normal=function(s,r,a){return s instanceof l.default.Vector?this._currentNormal=s:this._currentNormal=new l.default.Vector(s,r,a),this},l.default.RendererGL.prototype.endShape=function(s,r,a,d,h,c){return this.immediateMode.shapeMode===g.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),this.isProcessingVertices=!1,this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},l.default.RendererGL.prototype._processVertices=function(s){var r;this.immediateMode.geometry.vertices.length!==0&&(r=this._doStroke,s=s===g.CLOSE,r&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,s),this.immediateMode.geometry._edgesToVertices()),r=this.immediateMode.shapeMode===g.TESS,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||r)&&this.immediateMode.shapeMode!==g.LINES&&this._tesselateShape())},l.default.RendererGL.prototype._calculateEdges=function(s,r,a){var d=[],h=0;switch(s){case g.TRIANGLE_STRIP:for(h=0;h<r.length-2;h++)d.push([h,h+1]),d.push([h,h+2]);d.push([h,h+1]);break;case g.TRIANGLE_FAN:for(h=1;h<r.length-1;h++)d.push([0,h]),d.push([h,h+1]);d.push([0,r.length-1]);break;case g.TRIANGLES:for(h=0;h<r.length-2;h+=3)d.push([h,h+1]),d.push([h+1,h+2]),d.push([h+2,h]);break;case g.LINES:for(h=0;h<r.length-1;h+=2)d.push([h,h+1]);break;case g.QUADS:for(h=0;h<r.length-5;h+=6)d.push([h,h+1]),d.push([h+1,h+2]),d.push([h+3,h+5]),d.push([h+4,h+5]);break;case g.QUAD_STRIP:for(h=0;h<r.length-2;h+=2)d.push([h,h+1]),d.push([h,h+2]),d.push([h+1,h+3]);d.push([h,h+1]);break;default:for(h=0;h<r.length-1;h++)d.push([h,h+1])}return a&&d.push([r.length-1,0]),d},l.default.RendererGL.prototype._tesselateShape=function(){for(var s=this,r=(this.immediateMode.shapeMode=g.TRIANGLES,[this._flatten(this.immediateMode.geometry.vertices.map(function(p,m){return[p.x,p.y,p.z,s.immediateMode.geometry.uvs[2*m],s.immediateMode.geometry.uvs[2*m+1],s.immediateMode.geometry.vertexColors[4*m],s.immediateMode.geometry.vertexColors[4*m+1],s.immediateMode.geometry.vertexColors[4*m+2],s.immediateMode.geometry.vertexColors[4*m+3],s.immediateMode.geometry.vertexNormals[m].x,s.immediateMode.geometry.vertexNormals[m].y,s.immediateMode.geometry.vertexNormals[m].z]}))]),a=this._triangulate(r),d=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),h=0,c=a.length;h<c;h+=l.default.RendererGL.prototype.tessyVertexSize)d.push.apply(d,y(a.slice(h+5,h+9))),this.normal.apply(this,y(a.slice(h+9,h+12))),this.vertex.apply(this,y(a.slice(h,h+5)));this.immediateMode.geometry.vertexColors=d},l.default.RendererGL.prototype._drawImmediateFill=function(){var s=this.GL,r=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,this._getImmediateFillShader()),a=(this._setFillUniforms(r),!0),d=!1,h=void 0;try{for(var c,p=this.immediateMode.buffers.fill[Symbol.iterator]();!(a=(c=p.next()).done);a=!0)c.value._prepareBuffer(this.immediateMode.geometry,r)}catch(m){d=!0,h=m}finally{try{a||p.return==null||p.return()}finally{if(d)throw h}}this.immediateMode.shapeMode!==g.LINE_STRIP&&this.immediateMode.shapeMode!==g.LINES||(this.immediateMode.shapeMode=g.TRIANGLE_FAN),this.immediateMode.shapeMode===g.QUADS?this.immediateMode.shapeMode=g.TRIANGLES:this.immediateMode.shapeMode===g.QUAD_STRIP&&(this.immediateMode.shapeMode=g.TRIANGLE_STRIP),this._applyColorBlend(this.curFillColor),s.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),r.unbindShader()},l.default.RendererGL.prototype._drawImmediateStroke=function(){var s=this.GL,r=s.isEnabled(s.CULL_FACE),a=(s.disable(s.CULL_FACE),this._getImmediateStrokeShader()),d=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._setStrokeUniforms(a),!0),h=!1,c=void 0;try{for(var p,m=this.immediateMode.buffers.stroke[Symbol.iterator]();!(d=(p=m.next()).done);d=!0)p.value._prepareBuffer(this.immediateMode.geometry,a)}catch(b){h=!0,c=b}finally{try{d||m.return==null||m.return()}finally{if(h)throw c}}this._applyColorBlend(this.curStrokeColor),s.drawArrays(s.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),r&&s.enable(s.CULL_FACE),a.unbindShader()},l.default.RendererGL);_.default=o},{"../core/constants":262,"../core/main":273,"./p5.RenderBuffer":325,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],327:[function(t,O,_){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(o)}function i(o){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(s){return f(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":f(s)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var l=(n=t("../core/main"))&&n.__esModule?n:{default:n},g=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),function(o){if(o&&o.__esModule)return o;if(o===null||i(o)!=="object"&&typeof o!="function")return{default:o};var s=function(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,c)}();if(s&&s.has(o))return s.get(o);var r,a={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in o){var h;Object.prototype.hasOwnProperty.call(o,r)&&((h=d?Object.getOwnPropertyDescriptor(o,r):null)&&(h.get||h.set)?Object.defineProperty(a,r,h):a[r]=o[r])}return a.default=o,s&&s.set(o,a),a}(t("../core/constants"))),y=0,n=(l.default.RendererGL.prototype._initBufferDefaults=function(o){var s;return this._freeBuffers(o),1e3<++y&&(s=Object.keys(this.retainedMode.geometry)[0],delete this.retainedMode.geometry[s],y--),this.retainedMode.geometry[o]={}},l.default.RendererGL.prototype._freeBuffers=function(o){var s,r=this.retainedMode.geometry[o];function a(d){var h=!0,c=!1,p=void 0;try{for(var m,b=d[Symbol.iterator]();!(h=(m=b.next()).done);h=!0){var A=m.value;r[A.dst]&&(s.deleteBuffer(r[A.dst]),r[A.dst]=null)}}catch(T){c=!0,p=T}finally{try{h||b.return==null||b.return()}finally{if(c)throw p}}}r&&(delete this.retainedMode.geometry[o],y--,s=this.GL,r.indexBuffer&&s.deleteBuffer(r.indexBuffer),a(this.retainedMode.buffers.stroke),a(this.retainedMode.buffers.fill))},l.default.RendererGL.prototype.createBuffers=function(o,s){var r,a,d,h=this.GL,c=((o=this._initBufferDefaults(o)).model=s,o.indexBuffer);return s.faces.length?(c=c||(o.indexBuffer=h.createBuffer()),d=(a=(r=l.default.RendererGL.prototype._flatten(s.faces)).some(function(p){return 65535<p}))?Uint32Array:Uint16Array,this._bindBuffer(c,h.ELEMENT_ARRAY_BUFFER,r,d),o.indexBufferType=a?h.UNSIGNED_INT:h.UNSIGNED_SHORT,o.vertexCount=3*s.faces.length):(c&&(h.deleteBuffer(c),o.indexBuffer=null),o.vertexCount=s.vertices?s.vertices.length:0),o.lineVertexCount=s.lineVertices?s.lineVertices.length:0,o},l.default.RendererGL.prototype.drawBuffers=function(o){var s=this.GL,r=this.retainedMode.geometry[o];if(this._doFill){this._useVertexColor=0<r.model.vertexColors.length;var a=this._getRetainedFillShader(),d=(this._setFillUniforms(a),!0),h=!1,c=void 0;try{for(var p,m=this.retainedMode.buffers.fill[Symbol.iterator]();!(d=(p=m.next()).done);d=!0)p.value._prepareBuffer(r,a)}catch(S){h=!0,c=S}finally{try{d||m.return==null||m.return()}finally{if(h)throw c}}r.indexBuffer&&this._bindBuffer(r.indexBuffer,s.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(s.TRIANGLES,o),a.unbindShader()}if(this._doStroke&&0<r.lineVertexCount){h=s.isEnabled(s.CULL_FACE);var b=(s.disable(s.CULL_FACE),this._getRetainedStrokeShader()),A=(this._useLineColor=0<r.model.vertexStrokeColors.length,this._setStrokeUniforms(b),!0),T=(c=!1,void 0);try{for(var x,R=this.retainedMode.buffers.stroke[Symbol.iterator]();!(A=(x=R.next()).done);A=!0)x.value._prepareBuffer(r,b)}catch(S){c=!0,T=S}finally{try{A||R.return==null||R.return()}finally{if(c)throw T}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(s.TRIANGLES,o),h&&s.enable(s.CULL_FACE),b.unbindShader()}return this},l.default.RendererGL.prototype.drawBuffersScaled=function(o,s,r,a){var d=this.uMVMatrix.copy();try{this.uMVMatrix.scale(s,r,a),this.drawBuffers(o)}finally{this.uMVMatrix=d}},l.default.RendererGL.prototype._drawArrays=function(o,s){return this.GL.drawArrays(o,0,this.retainedMode.geometry[s].lineVertexCount),this},l.default.RendererGL.prototype._drawElements=function(o,s){s=this.retainedMode.geometry[s];var r=this.GL;if(s.indexBuffer){if(this._pInst.webglVersion!==g.WEBGL2&&s.indexBufferType===r.UNSIGNED_INT&&!r.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");r.drawElements(r.TRIANGLES,s.vertexCount,s.indexBufferType,0)}else r.drawArrays(o||r.TRIANGLES,0,s.vertexCount)},l.default.RendererGL.prototype._drawPoints=function(o,s){var r=this.GL,a=this._getImmediatePointShader();this._setPointUniforms(a),this._bindBuffer(s,r.ARRAY_BUFFER,this._vToNArray(o),Float32Array,r.STATIC_DRAW),a.enableAttrib(a.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),r.drawArrays(r.Points,0,o.length),a.unbindShader()},l.default.RendererGL);_.default=n},{"../core/constants":262,"../core/main":273,"./p5.RenderBuffer":325,"./p5.RendererGL":328,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.some":165,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint16-array":230,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],328:[function(t,O,_){function f(C){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(C)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.float64-array"),t("core-js/modules/es.typed-array.int16-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.float64-array"),t("core-js/modules/es.typed-array.int16-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.readPixelsWebGL=R,_.readPixelWebGL=S,_.default=void 0;var i=y(t("../core/main")),l=function(C){if(C&&C.__esModule)return C;if(C===null||n(C)!=="object"&&typeof C!="function")return{default:C};var D=function(){var z;return typeof WeakMap!="function"?null:(z=new WeakMap,z)}();if(D&&D.has(C))return D.get(C);var N,F={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(N in C){var L;Object.prototype.hasOwnProperty.call(C,N)&&((L=M?Object.getOwnPropertyDescriptor(C,N):null)&&(L.get||L.set)?Object.defineProperty(F,N,L):F[N]=C[N])}return F.default=C,D&&D.set(C,F),F}(t("../core/constants")),g=y(t("libtess"));function y(C){return C&&C.__esModule?C:{default:C}}function n(C){return(n=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(D){return f(D)}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":f(D)})(C)}function o(C){return function(D){if(Array.isArray(D)){for(var N=0,F=new Array(D.length);N<D.length;N++)F[N]=D[N];return F}}(C)||function(D){if(Symbol.iterator in Object(D)||Object.prototype.toString.call(D)==="[object Arguments]")return Array.from(D)}(C)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(C,D){for(var N=0;N<D.length;N++){var F=D[N];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(C,F.key,F)}}function r(C,D){return(r=Object.setPrototypeOf||function(N,F){return N.__proto__=F,N})(C,D)}function a(C){return function(){var D,N,F=h(C);return D=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(D=h(this).constructor,Reflect.construct(F,arguments,D)):F.apply(this,arguments),F=this,!(N=D)||n(N)!=="object"&&typeof N!="function"?d(F):N}}function d(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function h(C){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)})(C)}function c(C,D){A+="#define STROKE_CAP_".concat(C," ").concat(D,`
`),m[l[C]]=D}function p(C,D){A+="#define STROKE_JOIN_".concat(C," ").concat(D,`
`),b[l[C]]=D}t("./p5.Shader"),t("./p5.Camera"),t("../core/p5.Renderer"),t("./p5.Matrix"),t("path");var m={},b={},A="",T=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`,x={immediateVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

varying vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

varying vec3 vVertexNormal;
varying highp vec2 vVertTexCoord;
varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,normalFrag:`precision mediump float;
varying vec3 vVertexNormal;
void main(void) {
  gl_FragColor = vec4(vVertexNormal, 1.0);
}`,basicFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,lightVert:(t=(c("ROUND",0),c("PROJECT",1),c("SQUARE",2),p("ROUND",0),p("MITER",1),p("BEVEL",2),`precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`))+`// include lighting.glgl

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;
varying vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`precision highp float;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;
varying vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    gl_FragColor = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? texture2D(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    gl_FragColor = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp float;
precision highp int;

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;
varying vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,phongFrag:t+`// include lighting.glsl
precision highp float;
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;
varying vec4 vColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec4 baseColor = isTexture
    // Textures come in with premultiplied alpha. To apply tint and still have
    // premultiplied alpha output, we need to multiply the RGB channels by the
    // tint RGB, and all channels by the tint alpha.
    ? texture2D(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
    // Colors come in with unmultiplied alpha, so we need to multiply the RGB
    // channels by alpha to convert it to premultiplied alpha.
    : vec4(vColor.rgb * vColor.a, vColor.a);
  gl_FragColor = vec4(diffuse * baseColor.rgb + 
                    vAmbientColor * (
                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb
                    ) + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb, baseColor.a);
}
`,fontVert:T+`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec2 pixelScale = vec2(
    1. / uModelViewMatrix[0][0],
    1. / uModelViewMatrix[1][1]
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:T+`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:A+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump float;
precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

attribute vec4 aPosition;
attribute vec3 aTangentIn;
attribute vec3 aTangentOut;
attribute float aSide;
attribute vec4 aVertexColor;

varying vec4 vColor;
varying vec2 vTangent;
varying vec2 vCenter;
varying vec2 vPosition;
varying float vMaxDist;
varying float vCap;
varying float vJoin;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));
  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float scale = mix(1., 0.995, facingCamera);

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posqIn.xyz = posqIn.xyz * scale;
  posqOut.xyz = posqOut.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = p.xy;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)
    // invert Y, projections in Processing invert Y
    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * uStrokeWeight / 2.) * curPerspScale,
          tangentIn,
          c + (side * normalOut * uStrokeWeight / 2.) * curPerspScale,
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * uStrokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * curPerspScale * uStrokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * curPerspScale * uStrokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));
    } else {
      vMaxDist = uStrokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      uStrokeWeight * 0.5 * curPerspScale;
    vMaxDist = uStrokeWeight / 2.;
  }
  vPosition = vCenter + offset / curPerspScale;

  gl_Position.xy = p.xy + offset.xy;
  gl_Position.zw = p.zw;
  
  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);
}
`,lineFrag:A+`precision mediump float;
precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;
uniform float uStrokeWeight;

varying vec4 vColor;
varying vec2 vTangent;
varying vec2 vCenter;
varying vec2 vPosition;
varying float vMaxDist;
varying float vCap;
varying float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

void main() {
  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      dot(vPosition - vCenter, vTangent) > 0.
    ) {
      discard;
    }
    // Use full area for PROJECT
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-vTangent.y, vTangent.x);
      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {
        discard;
      }
    }
    // Use full area for MITER
  }
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,pointVert:`attribute vec3 aPosition;
uniform float uPointSize;
varying float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}`,pointFrag:`precision mediump float;
precision mediump int;
uniform vec4 uMaterialColor;
varying float vStrokeWeight;

void main(){
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(mask > 0.98){
    discard;
  }

  gl_FragColor = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
}
`};function R(C,D,N,F,M,L,z,Y,Z,ee){var te=D.getParameter(D.FRAMEBUFFER_BINDING),oe=L*z*(N=(D.bindFramebuffer(D.FRAMEBUFFER,N),Y===D.RGBA?4:3)),U=Z===D.UNSIGNED_BYTE?Uint8Array:Float32Array;if(C instanceof U&&C.length===oe||(C=new U(oe)),D.readPixels(F,ee?ee-M-z:M,L,z,Y,Z,C),D.bindFramebuffer(D.FRAMEBUFFER,te),ee)for(var q=Math.floor(z/2),K=new U(L*N),se=0;se<q;se++){var ie=se*L*4,le=(z-se-1)*L*4;K.set(C.subarray(ie,ie+4*L)),C.copyWithin(ie,le,le+4*L),C.set(K,le)}return C}function S(C,D,N,F,M,L,z){var Y=C.getParameter(C.FRAMEBUFFER_BINDING);return C.bindFramebuffer(C.FRAMEBUFFER,D),D=M===C.RGBA?4:3,D=new(L===C.UNSIGNED_BYTE?Uint8Array:Float32Array)(D),C.readPixels(N,z?z-F-1:F,1,1,M,L,D),C.bindFramebuffer(C.FRAMEBUFFER,Y),Array.from(D)}i.default.prototype.setAttributes=function(C,D){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var N=!0;if(D!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[C]!==D&&(this._glAttributes[C]=D,N=!1)):C instanceof Object&&this._glAttributes!==C&&(this._glAttributes=C,N=!1),this._renderer.isP3D&&!N){if(!this._setupDone){for(var F in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(F))return void i.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},i.default.RendererGL=function(C){var D=F;if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(C&&C.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),C&&r(D,C);var N=a(F);function F(M,L,z,Y){if(this instanceof F)return(M=N.call(this,M,L,z))._setAttributeDefaults(L),M._initContext(),M.isP3D=!0,M.GL=M.drawingContext,M._pInst._setProperty("drawingContext",M.drawingContext),M._isErasing=!1,M._enableLighting=!1,M.ambientLightColors=[],M.specularColors=[1,1,1],M.directionalLightDirections=[],M.directionalLightDiffuseColors=[],M.directionalLightSpecularColors=[],M.pointLightPositions=[],M.pointLightDiffuseColors=[],M.pointLightSpecularColors=[],M.spotLightPositions=[],M.spotLightDirections=[],M.spotLightDiffuseColors=[],M.spotLightSpecularColors=[],M.spotLightAngle=[],M.spotLightConc=[],M.drawMode=l.FILL,M.curFillColor=M._cachedFillStyle=[1,1,1,1],M.curAmbientColor=M._cachedFillStyle=[1,1,1,1],M.curSpecularColor=M._cachedFillStyle=[0,0,0,0],M.curEmissiveColor=M._cachedFillStyle=[0,0,0,0],M.curStrokeColor=M._cachedStrokeStyle=[0,0,0,1],M.curBlendMode=l.BLEND,M._cachedBlendMode=void 0,M.webglVersion===l.WEBGL2?M.blendExt=M.GL:M.blendExt=M.GL.getExtension("EXT_blend_minmax"),M._isBlending=!1,M._hasSetAmbient=!1,M._useSpecularMaterial=!1,M._useEmissiveMaterial=!1,M._useNormalMaterial=!1,M._useShininess=1,M._useLineColor=!1,M._useVertexColor=!1,M.registerEnabled=[],M._tint=[255,255,255,255],M.constantAttenuation=1,M.linearAttenuation=0,M.quadraticAttenuation=0,M.uMVMatrix=new i.default.Matrix,M.uPMatrix=new i.default.Matrix,M.uNMatrix=new i.default.Matrix("mat3"),M._currentNormal=new i.default.Vector(0,0,1),M._curCamera=new i.default.Camera(d(M)),M._curCamera._computeCameraDefaultSettings(),M._curCamera._setDefaultCamera(),M.prevTouches=[],M.zoomVelocity=0,M.rotateVelocity=new i.default.Vector(0,0),M.moveVelocity=new i.default.Vector(0,0),M.executeZoom=!1,M.executeRotateAndMove=!1,M._defaultLightShader=void 0,M._defaultImmediateModeShader=void 0,M._defaultNormalShader=void 0,M._defaultColorShader=void 0,M._defaultPointShader=void 0,M.userFillShader=void 0,M.userStrokeShader=void 0,M.userPointShader=void 0,M.retainedMode={geometry:{},buffers:{stroke:[new i.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",d(M),M._flatten),new i.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",d(M),M._flatten),new i.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",d(M),M._flatten),new i.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",d(M),M._flatten),new i.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",d(M))],fill:[new i.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",d(M),M._vToNArray),new i.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",d(M),M._vToNArray),new i.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",d(M)),new i.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",d(M)),new i.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",d(M),M._flatten)],text:[new i.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",d(M),M._vToNArray),new i.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",d(M),M._flatten)]}},M.immediateMode={geometry:new i.default.Geometry,shapeMode:l.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new i.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",d(M),M._vToNArray),new i.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",d(M),M._vToNArray),new i.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",d(M)),new i.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",d(M)),new i.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",d(M),M._flatten)],stroke:[new i.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",d(M),M._flatten),new i.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",d(M),M._flatten),new i.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",d(M),M._flatten),new i.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",d(M),M._flatten),new i.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",d(M))],point:M.GL.createBuffer()}},M.pointSize=5,M.curStrokeWeight=1,M.curStrokeCap=l.ROUND,M.curStrokeJoin=l.ROUND,M.textures=new Map,M.framebuffers=new Set,M.textureMode=l.IMAGE,M.textureWrapX=l.CLAMP,M.textureWrapY=l.CLAMP,M._tex=null,M._curveTightness=6,M._lookUpTableBezier=[],M._lookUpTableQuadratic=[],M._lutBezierDetail=0,M._lutQuadraticDetail=0,M.isProcessingVertices=!1,M._tessy=M._initTessy(),M.fontInfos={},M._curShader=void 0,M;throw new TypeError("Cannot call a class as a function")}return D=F,(C=[{key:"_setAttributeDefaults",value:function(M){var L={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};M._glAttributes===null?M._glAttributes=L:M._glAttributes=Object.assign(L,M._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?l.WEBGL2:l.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var M=this.drawingContext;M.enable(M.DEPTH_TEST),M.depthFunc(M.LEQUAL),M.viewport(0,0,M.drawingBufferWidth,M.drawingBufferHeight),M.pixelStorei(M.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_resetContext",value:function(M,L){var z,Y=this.width,Z=this.height,ee=this.canvas.id,te=this._pInst instanceof i.default.Graphics;te?((z=this._pInst).canvas.parentNode.removeChild(z.canvas),z.canvas=document.createElement("canvas"),(z._pInst._userNode||document.body).appendChild(z.canvas),i.default.Element.call(z,z.canvas,z._pInst),z.width=Y,z.height=Z):((z=this.canvas)&&z.parentNode.removeChild(z),(z=document.createElement("canvas")).id=ee,(this._pInst._userNode||document.body).appendChild(z),this._pInst.canvas=z,this.canvas=z),ee=new i.default.RendererGL(this._pInst.canvas,this._pInst,!te),this._pInst._setProperty("_renderer",ee),ee.resize(Y,Z),ee._applyDefaults(),te||this._pInst._elements.push(ee),typeof L=="function"&&setTimeout(function(){L.apply(window._renderer,M)},0)}},{key:"_update",value:function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"background",value:function(){var M=(Y=(Y=this._pInst).color.apply(Y,arguments)).levels[0]/255,L=Y.levels[1]/255,z=Y.levels[2]/255,Y=Y.levels[3]/255;this.clear(M,L,z,Y)}},{key:"fill",value:function(M,L,z,Y){var Z=i.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=Z._array,this.drawMode=l.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(M,L,z,Y){var Z=i.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=Z._array}},{key:"strokeCap",value:function(M){this.curStrokeCap=M}},{key:"strokeJoin",value:function(M){this.curStrokeJoin=M}},{key:"filter",value:function(M){i.default._friendlyError("filter() does not work in WEBGL mode")}},{key:"blendMode",value:function(M){M===l.DARKEST||M===l.LIGHTEST||M===l.ADD||M===l.BLEND||M===l.SUBTRACT||M===l.SCREEN||M===l.EXCLUSION||M===l.REPLACE||M===l.MULTIPLY||M===l.REMOVE?this.curBlendMode=M:M!==l.BURN&&M!==l.OVERLAY&&M!==l.HARD_LIGHT&&M!==l.SOFT_LIGHT&&M!==l.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(M,L){this._isErasing||(this._applyBlendMode(l.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,M/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,L/255])}},{key:"noErase",value:function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))}},{key:"strokeWeight",value:function(M){this.curStrokeWeight!==M&&(this.pointSize=M,this.curStrokeWeight=M)}},{key:"_getPixel",value:function(M,L){var z=this.GL;return S(z,null,M,L,z.RGBA,z.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var M,L,z=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(M=this._pInst._pixelDensity,L=this.GL,z._setProperty("pixels",R(z.pixels,L,null,0,0,this.width*M,this.height*M,L.RGBA,L.UNSIGNED_BYTE,this.height*M)))}},{key:"updatePixels",value:function(){var M=this._getTempFramebuffer();M.pixels=this._pixelsState.pixels,M.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(l.CENTER),this._pInst.image(M,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:l.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:l.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(M){return this.retainedMode.geometry[M]!==void 0}},{key:"resize",value:function(M,L){i.default.Renderer.prototype.resize.call(this,M,L),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize();var z=((M=this._pixelsState).pixels!==void 0&&M._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0);L=!1,M=void 0;try{for(var Y,Z=this.framebuffers[Symbol.iterator]();!(z=(Y=Z.next()).done);z=!0)Y.value._canvasSizeChanged()}catch(ee){L=!0,M=ee}finally{try{z||Z.return==null||Z.return()}finally{if(L)throw M}}}},{key:"clear",value:function(){var M=(arguments.length<=0?void 0:arguments[0])||0,L=(arguments.length<=1?void 0:arguments[1])||0,z=(arguments.length<=2?void 0:arguments[2])||0,Y=(arguments.length<=3?void 0:arguments[3])||0;this.GL.clearColor(M*Y,L*Y,z*Y,Y),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(M,L,z,Y,Z,ee){arguments.length===16?i.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([M,L,0,0,z,Y,0,0,0,0,1,0,Z,ee,0,1])}},{key:"translate",value:function(M,L,z){return M instanceof i.default.Vector&&(z=M.z,L=M.y,M=M.x),this.uMVMatrix.translate([M,L,z]),this}},{key:"scale",value:function(M,L,z){return this.uMVMatrix.scale(M,L,z),this}},{key:"rotate",value:function(M,L){return L===void 0?this.rotateZ(M):(i.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)}},{key:"rotateX",value:function(M){return this.rotate(M,1,0,0),this}},{key:"rotateY",value:function(M){return this.rotate(M,0,1,0),this}},{key:"rotateZ",value:function(M){return this.rotate(M,0,0,1),this}},{key:"push",value:function(){var M=i.default.Renderer.prototype.push.apply(this),L=M.properties;return L.uMVMatrix=this.uMVMatrix.copy(),L.uPMatrix=this.uPMatrix.copy(),L._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),L.ambientLightColors=this.ambientLightColors.slice(),L.specularColors=this.specularColors.slice(),L.directionalLightDirections=this.directionalLightDirections.slice(),L.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),L.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),L.pointLightPositions=this.pointLightPositions.slice(),L.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),L.pointLightSpecularColors=this.pointLightSpecularColors.slice(),L.spotLightPositions=this.spotLightPositions.slice(),L.spotLightDirections=this.spotLightDirections.slice(),L.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),L.spotLightSpecularColors=this.spotLightSpecularColors.slice(),L.spotLightAngle=this.spotLightAngle.slice(),L.spotLightConc=this.spotLightConc.slice(),L.userFillShader=this.userFillShader,L.userStrokeShader=this.userStrokeShader,L.userPointShader=this.userPointShader,L.pointSize=this.pointSize,L.curStrokeWeight=this.curStrokeWeight,L.curStrokeColor=this.curStrokeColor,L.curFillColor=this.curFillColor,L.curAmbientColor=this.curAmbientColor,L.curSpecularColor=this.curSpecularColor,L.curEmissiveColor=this.curEmissiveColor,L._hasSetAmbient=this._hasSetAmbient,L._useSpecularMaterial=this._useSpecularMaterial,L._useEmissiveMaterial=this._useEmissiveMaterial,L._useShininess=this._useShininess,L.constantAttenuation=this.constantAttenuation,L.linearAttenuation=this.linearAttenuation,L.quadraticAttenuation=this.quadraticAttenuation,L._enableLighting=this._enableLighting,L._useNormalMaterial=this._useNormalMaterial,L._tex=this._tex,L.drawMode=this.drawMode,L._currentNormal=this._currentNormal,L.curBlendMode=this.curBlendMode,M}},{key:"resetMatrix",value:function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this}},{key:"_getImmediateStrokeShader",value:function(){var M=this.userStrokeShader;return M&&M.isStrokeShader()?M:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getImmediateFillShader",value:function(){var M=this.userFillShader;if(this._useNormalMaterial&&(!M||!M.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!M||!M.isLightShader())return this._getLightShader()}else if(this._tex){if(!M||!M.isTextureShader())return this._getLightShader()}else if(!M)return this._getImmediateModeShader();return M}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var M=this.userFillShader;if(this._enableLighting){if(!M||!M.isLightShader())return this._getLightShader()}else if(this._tex){if(!M||!M.isTextureShader())return this._getLightShader()}else if(!M)return this._getColorShader();return M}},{key:"_getImmediatePointShader",value:function(){var M=this.userPointShader;return M&&M.isPointShader()?M:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new i.default.Shader(this,x.phongVert,x.phongFrag):this._defaultLightShader=new i.default.Shader(this,x.lightVert,x.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new i.default.Shader(this,x.immediateVert,x.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new i.default.Shader(this,x.normalVert,x.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new i.default.Shader(this,x.normalVert,x.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new i.default.Shader(this,x.pointVert,x.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new i.default.Shader(this,x.lineVert,x.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===l.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+x.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+x.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(M,L){var z="";return this.webglVersion===l.WEBGL2&&(z+=`#version 300 es
#define WEBGL2
`),M==="vert"?z+=`#define VERTEX_SHADER
`:M==="frag"&&(z+=`#define FRAGMENT_SHADER
`),L&&(z+="precision ".concat(L,` float;
`)),z}},{key:"_getEmptyTexture",value:function(){var M;return this._emptyTexture||((M=new i.default.Image(1,1)).set(0,0,255),this._emptyTexture=new i.default.Texture(this,M)),this._emptyTexture}},{key:"getTexture",value:function(M){M instanceof i.default.Framebuffer&&(M=M.color);var L=this.textures.get(M);return L||(L=new i.default.Texture(this,M),this.textures.set(M,L),L)}},{key:"createFramebuffer",value:function(M){return new i.default.Framebuffer(this,M)}},{key:"_setStrokeUniforms",value:function(M){M.bindShader(),M.setUniform("uUseLineColor",this._useLineColor),M.setUniform("uMaterialColor",this.curStrokeColor),M.setUniform("uStrokeWeight",this.curStrokeWeight),M.setUniform("uStrokeCap",m[this.curStrokeCap]),M.setUniform("uStrokeJoin",b[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(M){M.bindShader(),M.setUniform("uUseVertexColor",this._useVertexColor),M.setUniform("uMaterialColor",this.curFillColor),M.setUniform("isTexture",!!this._tex),this._tex&&M.setUniform("uSampler",this._tex),M.setUniform("uTint",this._tint),M.setUniform("uHasSetAmbient",this._hasSetAmbient),M.setUniform("uAmbientMatColor",this.curAmbientColor),M.setUniform("uSpecularMatColor",this.curSpecularColor),M.setUniform("uEmissiveMatColor",this.curEmissiveColor),M.setUniform("uSpecular",this._useSpecularMaterial),M.setUniform("uEmissive",this._useEmissiveMaterial),M.setUniform("uShininess",this._useShininess),M.setUniform("uUseLighting",this._enableLighting);var L=this.pointLightDiffuseColors.length/3;M.setUniform("uPointLightCount",L),M.setUniform("uPointLightLocation",this.pointLightPositions),M.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),M.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),L=this.directionalLightDiffuseColors.length/3,M.setUniform("uDirectionalLightCount",L),M.setUniform("uLightingDirection",this.directionalLightDirections),M.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),M.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),L=this.ambientLightColors.length/3,M.setUniform("uAmbientLightCount",L),M.setUniform("uAmbientColor",this.ambientLightColors),L=this.spotLightDiffuseColors.length/3,M.setUniform("uSpotLightCount",L),M.setUniform("uSpotLightAngle",this.spotLightAngle),M.setUniform("uSpotLightConc",this.spotLightConc),M.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),M.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),M.setUniform("uSpotLightLocation",this.spotLightPositions),M.setUniform("uSpotLightDirection",this.spotLightDirections),M.setUniform("uConstantAttenuation",this.constantAttenuation),M.setUniform("uLinearAttenuation",this.linearAttenuation),M.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),M.bindTextures()}},{key:"_setPointUniforms",value:function(M){M.bindShader(),M.setUniform("uMaterialColor",this.curStrokeColor),M.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(M,L,z,Y,Z){L=L||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(L,M),z!==void 0&&(M=new(Y||Float32Array)(z),this.GL.bufferData(L,M,Z||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(M,L){return M.length===L.length&&M.every(function(z,Y){return z===L[Y]})}},{key:"_isTypedArray",value:function(M){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(L){return M instanceof L})}},{key:"_flatten",value:function(M){if(M.length===0)return[];var L;if(2e4<M.length){for(var z=[],Y=M.slice(),Z=Y.pop();Array.isArray(Z)?Y.push.apply(Y,o(Z)):z.push(Z),Y.length&&(Z=Y.pop())!==void 0;);return z.reverse(),z}return(L=[]).concat.apply(L,o(M))}},{key:"_vToNArray",value:function(M){var L=[],z=!0,Y=!1,Z=void 0;try{for(var ee,te=M[Symbol.iterator]();!(z=(ee=te.next()).done);z=!0){var oe=ee.value;L.push(oe.x,oe.y,oe.z)}}catch(U){Y=!0,Z=U}finally{try{z||te.return==null||te.return()}finally{if(Y)throw Z}}return L}},{key:"_bezierCoefficients",value:function(M){var L=M*M,z=1-M,Y=z*z;return[Y*z,3*Y*M,3*z*L,L*M]}},{key:"_quadraticCoefficients",value:function(M){var L=1-M;return[L*L,2*L*M,M*M]}},{key:"_bezierToCatmull",value:function(M){return[M[1],M[1]+(M[2]-M[0])/this._curveTightness,M[2]-(M[3]-M[1])/this._curveTightness,M[2]]}},{key:"_initTessy",value:function(){var M=new g.default.GluTesselator;return M.gluTessCallback(g.default.gluEnum.GLU_TESS_VERTEX_DATA,function(L,z){for(var Y=0;Y<L.length;Y++)z.push(L[Y])}),M.gluTessCallback(g.default.gluEnum.GLU_TESS_BEGIN,function(L){L!==g.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(L))}),M.gluTessCallback(g.default.gluEnum.GLU_TESS_ERROR,function(L){console.log("error callback"),console.log("error number: ".concat(L))}),M.gluTessCallback(g.default.gluEnum.GLU_TESS_COMBINE,function(L,z,Y){for(var Z=new Array(i.default.RendererGL.prototype.tessyVertexSize).fill(0),ee=0;ee<Y.length;ee++)for(var te=0;te<Z.length;te++)Y[ee]!==0&&z[ee]&&(Z[te]+=z[ee][te]*Y[ee]);return Z}),M.gluTessCallback(g.default.gluEnum.GLU_TESS_EDGE_FLAG,function(L){}),M}},{key:"_triangulate",value:function(M){var L=M[0]?M[0][2]:void 0,z=!0,Y=!0,Z=!1,ee=void 0;try{for(var te,oe=M[Symbol.iterator]();!(Y=(te=oe.next()).done);Y=!0)for(var U=te.value,q=0;q<U.length;q+=i.default.RendererGL.prototype.tessyVertexSize)if(U[q+2]!==L){z=!1;break}}catch(_e){Z=!0,ee=_e}finally{try{Y||oe.return==null||oe.return()}finally{if(Z)throw ee}}z?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0),Z=[];var K=(this._tessy.gluTessBeginPolygon(Z),!0),se=(ee=!1,void 0);try{for(var ie,le=M[Symbol.iterator]();!(K=(ie=le.next()).done);K=!0){var $=ie.value;this._tessy.gluTessBeginContour();for(var ce=0;ce<$.length;ce+=i.default.RendererGL.prototype.tessyVertexSize){var ye=$.slice(ce,ce+i.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(ye,ye)}this._tessy.gluTessEndContour()}}catch(_e){ee=!0,se=_e}finally{try{K||le.return==null||le.return()}finally{if(ee)throw se}}return this._tessy.gluTessEndPolygon(),Z}}])&&s(D.prototype,C),F}(i.default.Renderer),i.default.prototype._assert3d=function(C){if(!this._renderer.isP3D)throw new Error("".concat(C,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},i.default.RendererGL.prototype.tessyVertexSize=12,t=i.default.RendererGL,_.default=t},{"../core/constants":262,"../core/main":273,"../core/p5.Renderer":276,"./p5.Camera":321,"./p5.Matrix":324,"./p5.Shader":329,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.every":153,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.map":168,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.float64-array":210,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.int16-array":214,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint16-array":230,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,libtess:245,path:248}],329:[function(t,O,_){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function i(l,g){for(var y=0;y<g.length;y++){var n=g[y];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(l,n.key,n)}}f.default.Shader=function(){function l(n,o,s){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this._renderer=n,this._vertSrc=o,this._fragSrc=s,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var g,y;return g=l,(y=[{key:"init",value:function(){if(this._glProgram===0){var n=this._renderer.GL;if(this._vertShader=n.createShader(n.VERTEX_SHADER),n.shaderSource(this._vertShader,this._vertSrc),n.compileShader(this._vertShader),!n.getShaderParameter(this._vertShader,n.COMPILE_STATUS))return f.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(n.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=n.createShader(n.FRAGMENT_SHADER),n.shaderSource(this._fragShader,this._fragSrc),n.compileShader(this._fragShader),!n.getShaderParameter(this._fragShader,n.COMPILE_STATUS))return f.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(n.getShaderInfoLog(this._fragShader))),null;this._glProgram=n.createProgram(),n.attachShader(this._glProgram,this._vertShader),n.attachShader(this._glProgram,this._fragShader),n.linkProgram(this._glProgram),n.getProgramParameter(this._glProgram,n.LINK_STATUS)||f.default._friendlyError("Snap! Error linking shader program: ".concat(n.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var n=this._renderer.GL,o=n.getProgramParameter(this._glProgram,n.ACTIVE_ATTRIBUTES),s=0;s<o;++s){var r=n.getActiveAttrib(this._glProgram,s),a=r.name,d=n.getAttribLocation(this._glProgram,a),h={};h.name=a,h.location=d,h.index=s,h.type=r.type,h.size=r.size,this.attributes[a]=h}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var n=this._renderer.GL,o=n.getProgramParameter(this._glProgram,n.ACTIVE_UNIFORMS),s=0,r=0;r<o;++r){var a=n.getActiveUniform(this._glProgram,r),d={},h=(d.location=n.getUniformLocation(this._glProgram,a.name),d.size=a.size,a.name);1<a.size&&(h=h.substring(0,h.indexOf("[0]"))),d.name=h,d.type=a.type,d._cachedData=void 0,d.type===n.SAMPLER_2D&&(d.samplerIndex=s,s++,this.samplers.push(d)),d.isArray=1<a.size||d.type===n.FLOAT_MAT3||d.type===n.FLOAT_MAT4||d.type===n.FLOAT_VEC2||d.type===n.FLOAT_VEC3||d.type===n.FLOAT_VEC4||d.type===n.INT_VEC2||d.type===n.INT_VEC4||d.type===n.INT_VEC3,this.uniforms[h]=d}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var n=this._renderer.GL,o=!0,s=!1,r=void 0;try{for(var a,d=this.samplers[Symbol.iterator]();!(o=(a=d.next()).done);o=!0){var h=a.value,c=h.texture;c===void 0&&(c=this._renderer._getEmptyTexture()),n.activeTexture(n.TEXTURE0+h.samplerIndex),c.bindTexture(),c.update(),n.uniform1i(h.location,h.samplerIndex)}}catch(p){s=!0,r=p}finally{try{o||d.return==null||d.return()}finally{if(s)throw r}}}},{key:"updateTextures",value:function(){var n=!0,o=!1,s=void 0;try{for(var r,a=this.samplers[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var d=r.value.texture;d&&d.update()}}catch(h){o=!0,s=h}finally{try{n||a.return==null||a.return()}finally{if(o)throw s}}}},{key:"unbindTextures",value:function(){var n=!0,o=!1,s=void 0;try{for(var r,a=this.samplers[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var d=r.value;this.setUniform(d.name,this._renderer._getEmptyTexture())}}catch(h){o=!0,s=h}finally{try{n||a.return==null||a.return()}finally{if(o)throw s}}}},{key:"_setMatrixUniforms",value:function(){var n=this._renderer._curCamera.cameraMatrix,o=this._renderer.uPMatrix,s=this._renderer.uMVMatrix,r=s.copy();r.mult(o),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",n.mat4),this.setUniform("uProjectionMatrix",o.mat4),this.setUniform("uModelViewMatrix",s.mat4),this.setUniform("uModelViewProjectionMatrix",r.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))}},{key:"useProgram",value:function(){var n=this._renderer.GL;return this._renderer._curShader!==this&&(n.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(n,o){var s=this.uniforms[n];if(s){var r=this._renderer.GL;if(s.isArray){if(s._cachedData&&this._renderer._arraysEqual(s._cachedData,o))return;s._cachedData=o.slice(0)}else{if(s._cachedData&&s._cachedData===o)return;Array.isArray(o)?s._cachedData=o.slice(0):s._cachedData=o}var a=s.location;switch(this.useProgram(),s.type){case r.BOOL:o===!0?r.uniform1i(a,1):r.uniform1i(a,0);break;case r.INT:1<s.size?o.length&&r.uniform1iv(a,o):r.uniform1i(a,o);break;case r.FLOAT:1<s.size?o.length&&r.uniform1fv(a,o):r.uniform1f(a,o);break;case r.FLOAT_MAT3:r.uniformMatrix3fv(a,!1,o);break;case r.FLOAT_MAT4:r.uniformMatrix4fv(a,!1,o);break;case r.FLOAT_VEC2:1<s.size?o.length&&r.uniform2fv(a,o):r.uniform2f(a,o[0],o[1]);break;case r.FLOAT_VEC3:1<s.size?o.length&&r.uniform3fv(a,o):r.uniform3f(a,o[0],o[1],o[2]);break;case r.FLOAT_VEC4:1<s.size?o.length&&r.uniform4fv(a,o):r.uniform4f(a,o[0],o[1],o[2],o[3]);break;case r.INT_VEC2:1<s.size?o.length&&r.uniform2iv(a,o):r.uniform2i(a,o[0],o[1]);break;case r.INT_VEC3:1<s.size?o.length&&r.uniform3iv(a,o):r.uniform3i(a,o[0],o[1],o[2]);break;case r.INT_VEC4:1<s.size?o.length&&r.uniform4iv(a,o):r.uniform4i(a,o[0],o[1],o[2],o[3]);break;case r.SAMPLER_2D:r.activeTexture(r.TEXTURE0+s.samplerIndex),s.texture=o instanceof f.default.Texture?o:this._renderer.getTexture(o),r.uniform1i(a,s.samplerIndex),s.texture.src.gifProperties&&s.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(n,o,s,r,a,d){var h;return n&&(n=n.location)!==-1&&(h=this._renderer.GL,this._renderer.registerEnabled[n]||(h.enableVertexAttribArray(n),this._renderer.registerEnabled[n]=!0),this._renderer.GL.vertexAttribPointer(n,o,s||h.FLOAT,r||!1,a||0,d||0)),this}}])&&i(g.prototype,y),l}(),t=f.default.Shader,_.default=t},{"../core/main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],330:[function(t,O,_){function f(s){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(s)}function i(s){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(r){return f(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":f(r)})(s)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(_,"__esModule",{value:!0}),_.checkWebGLCapabilities=n,_.default=void 0;var l=(o=t("../core/main"))&&o.__esModule?o:{default:o},g=function(s){if(s&&s.__esModule)return s;if(s===null||i(s)!=="object"&&typeof s!="function")return{default:s};var r=function(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,p)}();if(r&&r.has(s))return r.get(s);var a,d={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in s){var c;Object.prototype.hasOwnProperty.call(s,a)&&((c=h?Object.getOwnPropertyDescriptor(s,a):null)&&(c.get||c.set)?Object.defineProperty(d,a,c):d[a]=s[a])}return d.default=s,r&&r.set(s,d),d}(t("../core/constants"));function y(s,r){for(var a=0;a<r.length;a++){var d=r[a];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(s,d.key,d)}}function n(s){var r=s.GL,a=(s=s.webglVersion)===g.WEBGL2?r.getExtension("EXT_color_buffer_float")&&r.getExtension("EXT_float_blend"):r.getExtension("OES_texture_float");return{float:a,floatLinear:a&&r.getExtension("OES_texture_float_linear"),halfFloat:s=s===g.WEBGL2?r.getExtension("EXT_color_buffer_float"):r.getExtension("OES_texture_half_float"),halfFloatLinear:s&&r.getExtension("OES_texture_half_float_linear")}}l.default.Texture=function(){function s(d,h,c){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this._renderer=d;var p=this._renderer.GL;return c=c||{},this.src=h,this.glTex=void 0,this.glTarget=p.TEXTURE_2D,this.glFormat=c.format||p.RGBA,this.mipmaps=!1,this.glMinFilter=c.minFilter||p.LINEAR,this.glMagFilter=c.magFilter||p.LINEAR,this.glWrapS=c.wrapS||p.CLAMP_TO_EDGE,this.glWrapT=c.wrapT||p.CLAMP_TO_EDGE,this.glDataType=c.dataType||p.UNSIGNED_BYTE,c=n(d),this.glFormat!==p.HALF_FLOAT||c.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=p.FLOAT),this.glFormat!==p.HALF_FLOAT||this.glMinFilter!==p.LINEAR&&this.glMagFilter!==p.LINEAR||c.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===p.LINEAR&&(this.glMinFilter=p.NEAREST),this.glMagFilter===p.LINEAR&&(this.glMagFilter=p.NEAREST)),this.glFormat!==p.FLOAT||c.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=p.UNSIGNED_BYTE),this.glFormat!==p.FLOAT||this.glMinFilter!==p.LINEAR&&this.glMagFilter!==p.LINEAR||c.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===p.LINEAR&&(this.glMinFilter=p.NEAREST),this.glMagFilter===p.LINEAR&&(this.glMagFilter=p.NEAREST)),this.isSrcMediaElement=l.default.MediaElement!==void 0&&h instanceof l.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=l.default.Element!==void 0&&h instanceof l.default.Element&&!(h instanceof l.default.Graphics)&&!(h instanceof l.default.Renderer),this.isSrcP5Image=h instanceof l.default.Image,this.isSrcP5Graphics=h instanceof l.default.Graphics,this.isSrcP5Renderer=h instanceof l.default.Renderer,this.isImageData=typeof ImageData<"u"&&h instanceof ImageData,this.isFramebufferTexture=h instanceof l.default.FramebufferTexture,d=this._getTextureDataFromSource(),this.width=d.width,this.height=d.height,this.init(d),this}var r,a;return r=s,(a=[{key:"_getTextureDataFromSource",value:function(){var d;return this.isFramebufferTexture?d=this.src.rawTexture():this.isSrcP5Image?d=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?d=this.src.elt:this.isImageData&&(d=this.src),d}},{key:"init",value:function(d){var h,c=this._renderer.GL;this.isFramebufferTexture||(this.glTex=c.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,this.glMagFilter),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(h=new Uint8Array([1,1,1,1]),c.texImage2D(this.glTarget,0,c.RGBA,1,1,0,this.glFormat,this.glDataType,h)):c.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,d))}},{key:"update",value:function(){var d,h,c,p=this.src;return p.width!==0&&p.height!==0&&!this.isFramebufferTexture&&(d=this._getTextureDataFromSource(),h=!1,c=this._renderer.GL,d.width!==this.width||d.height!==this.height?(h=!0,this.width=d.width||p.width,this.height=d.height||p.height,this.isSrcP5Image?p.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&p.setModified(!0)):this.isSrcP5Image?p.isModified()&&p.setModified(!(h=!0)):this.isSrcMediaElement?p.isModified()?p.setModified(!(h=!0)):p.loadedmetadata&&this._videoPrevUpdateTime!==p.time()&&(this._videoPrevUpdateTime=p.time(),h=!0):this.isImageData?p._dirty&&(h=!(p._dirty=!1)):h=!0,h&&(this.bindTexture(),c.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,d)),h)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(d,h){var c=this._renderer.GL;d===g.NEAREST?this.glMinFilter=c.NEAREST:this.glMinFilter=c.LINEAR,h===g.NEAREST?this.glMagFilter=c.NEAREST:this.glMagFilter=c.LINEAR,this.bindTexture(),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,this.glMinFilter),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"setWrapMode",value:function(d,h){function c(A){return(A&A-1)==0}var p=this._renderer.GL,m=(m=this._getTextureDataFromSource()).naturalWidth&&m.naturalHeight?(b=m.naturalWidth,m.naturalHeight):(b=this.width,this.height),b=c(b);m=c(m),d===g.REPEAT?this._renderer.webglVersion===g.WEBGL2||b&&m?this.glWrapS=p.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=p.CLAMP_TO_EDGE):d===g.MIRROR?this._renderer.webglVersion===g.WEBGL2||b&&m?this.glWrapS=p.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=p.CLAMP_TO_EDGE):this.glWrapS=p.CLAMP_TO_EDGE,h===g.REPEAT?this._renderer.webglVersion===g.WEBGL2||b&&m?this.glWrapT=p.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=p.CLAMP_TO_EDGE):h===g.MIRROR?this._renderer.webglVersion===g.WEBGL2||b&&m?this.glWrapT=p.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=p.CLAMP_TO_EDGE):this.glWrapT=p.CLAMP_TO_EDGE,this.bindTexture(),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,this.glWrapS),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}])&&y(r.prototype,a),s}();var o=l.default.Texture;_.default=o},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],331:[function(t,O,_){function f(c){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(c)}function i(c){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(p){return f(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":f(p)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var l,g=(l=t("../core/main"))&&l.__esModule?l:{default:l},y=function(c){if(c&&c.__esModule)return c;if(c===null||i(c)!=="object"&&typeof c!="function")return{default:c};var p=function(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,x)}();if(p&&p.has(c))return p.get(c);var m,b={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in c){var T;Object.prototype.hasOwnProperty.call(c,m)&&((T=A?Object.getOwnPropertyDescriptor(c,m):null)&&(T.get||T.set)?Object.defineProperty(b,m,T):b[m]=c[m])}return b.default=c,p&&p.set(c,b),b}(t("../core/constants"));function n(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}function o(c,p){for(var m=0;m<p.length;m++){var b=p[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(c,b.key,b)}}function s(c,p,m){p&&o(c.prototype,p)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),g.default.RendererGL.prototype._applyTextProperties=function(){},g.default.RendererGL.prototype.textWidth=function(c){return this._isOpenType()?this._textFont._textWidth(c,this._textSize):0};var r=function(){function c(p,m){n(this,c),this.width=p,this.height=m,this.infos=[]}return s(c,[{key:"findImage",value:function(p){var m,b,A=this.width*this.height;if(A<p)throw new Error("font is too complex to render in 3D");for(var T=this.infos.length-1;0<=T;--T){var x=this.infos[T];if(x.index+p<A){b=(m=x).imageData;break}}if(!m){try{b=new ImageData(this.width,this.height)}catch{var R=document.getElementsByTagName("canvas")[0],S=!R,C=(R||((R=document.createElement("canvas")).style.display="none",document.body.appendChild(R)),R.getContext("2d"));C&&(b=C.createImageData(this.width,this.height)),S&&document.body.removeChild(R)}this.infos.push(m={index:0,imageData:b})}return C=m.index,m.index+=p,b._dirty=!0,{imageData:b,index:C}}}]),c}();function a(c,p,m,b,A){var T=c.imageData.data;c=4*c.index++,T[c++]=p,T[c++]=m,T[c++]=b,T[+c]=A}var d=Math.sqrt(3),h=function(){function c(p){n(this,c),this.font=p,this.strokeImageInfos=new r(64,64),this.colDimImageInfos=new r(64,64),this.rowDimImageInfos=new r(64,64),this.colCellImageInfos=new r(64,64),this.rowCellImageInfos=new r(64,64),this.glyphInfos={}}return s(c,[{key:"getGlyphInfo",value:function(p){var m=this.glyphInfos[p.index];if(!m){var b=p.getBoundingBox(),A=b.x1,T=b.y1,x=b.x2-A,R=b.y2-T,S=p.path.commands;if(x==0||R==0||!S.length)return this.glyphInfos[p.index]={};for(var C=[],D=[],N=[],F=8;0<=F;--F)N.push([]);for(F=8;0<=F;--F)D.push([]);var M,L,z,Y,Z=function(){function de(Re,Ce,qe,et){n(this,de),this.p0=Re,this.c0=Ce,this.c1=qe,this.p1=et}return s(de,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return g.default.Vector.sub(g.default.Vector.sub(this.p1,this.p0),g.default.Vector.mult(g.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Re){var Ce=g.default.Vector.lerp(this.p0,this.c0,Re),qe=g.default.Vector.lerp(this.c0,this.c1,Re),et=g.default.Vector.lerp(Ce,qe,Re);return this.c1=g.default.Vector.lerp(this.c1,this.p1,Re),this.c0=g.default.Vector.lerp(qe,this.c1,Re),qe=g.default.Vector.lerp(et,this.c0,Re),Re=new de(this.p0,Ce,et,qe),this.p0=qe,Re}},{key:"splitInflections",value:function(){var Re=g.default.Vector.sub(this.c0,this.p0),Ce=g.default.Vector.sub(g.default.Vector.sub(this.c1,this.c0),Re),qe=g.default.Vector.sub(g.default.Vector.sub(g.default.Vector.sub(this.p1,this.c1),Re),g.default.Vector.mult(Ce,2)),et=[],ft=Ce.x*qe.y-Ce.y*qe.x;return ft!==0&&0<=(Re=(qe=Re.x*qe.y-Re.y*qe.x)*qe-4*ft*(Re.x*Ce.y-Re.y*Ce.x))&&(ft<0&&(ft=-ft,qe=-qe),Re=(-qe+(Ce=Math.sqrt(Re)))/(2*ft),0<(qe=(-qe-Ce)/(2*ft))&&qe<1&&(et.push(this.split(qe)),Re=1-(1-Re)/(1-qe)),0<Re&&Re<1&&et.push(this.split(Re))),et.push(this),et}}]),de}(),ee=!0,te=!1,oe=void 0;try{for(var U,q=S[Symbol.iterator]();!(ee=(U=q.next()).done);ee=!0){var K=U.value,se=(K.x-A)/x,ie=(K.y-T)/R;if(!mt(M,L,se,ie)){switch(K.type){case"M":z=se,Y=ie;break;case"L":Je(M,L,se,ie);break;case"Q":var le=(K.x1-A)/x,$=(K.y1-T)/R;Ge([M,se,le],[L,ie,$],{x:M,y:L,cx:le,cy:$});break;case"Z":mt(M,L,z,Y)?C.push({x:M,y:L}):(Je(M,L,z,Y),C.push({x:z,y:Y}));break;case"C":for(var ce=function(de,Re,Ce,qe,et,ft,ot,rt){de=new Z(new g.default.Vector(de,Re),new g.default.Vector(Ce,qe),new g.default.Vector(et,ft),new g.default.Vector(ot,rt)).splitInflections();var re=[],Q=30/d,ne=!0;Re=!1,Ce=void 0;try{for(var ue,we=de[Symbol.iterator]();!(ne=(ue=we.next()).done);ne=!0){for(var Le=ue.value,Ze=[],He=void 0;!(.125<=(He=Q/Le.quadError()));){var Te=Math.pow(He,.3333333333333333),Qe=Le.split(Te),st=Le.split(1-Te/(1-Te));re.push(Qe),Ze.push(Le),Le=st}He<1&&re.push(Le.split(.5)),re.push(Le),Array.prototype.push.apply(re,Ze.reverse())}}catch(_t){Re=!0,Ce=_t}finally{try{ne||we.return==null||we.return()}finally{if(Re)throw Ce}}return re}(M,L,(K.x1-A)/x,(K.y1-T)/R,(K.x2-A)/x,(K.y2-T)/R,se,ie),ye=0;ye<ce.length;ye++){var _e=ce[ye].toQuadratic();Ge([_e.x,_e.x1,_e.cx],[_e.y,_e.y1,_e.cy],_e)}break;default:throw new Error("unknown command type: ".concat(K.type))}M=se,L=ie}}}catch(de){te=!0,oe=de}finally{try{ee||q.return==null||q.return()}finally{if(te)throw oe}}for(var he=C.length,ve=this.strokeImageInfos.findImage(he),Ee=ve.index,Fe=0;Fe<he;++Fe){var Oe=C[Fe];a(ve,$e(Oe.x),$e(Oe.y),$e(Oe.cx),$e(Oe.cy))}(m=this.glyphInfos[p.index]={glyph:p,uGlyphRect:[b.x1,-b.y1,b.x2,-b.y2],strokeImageInfo:ve,strokes:C,colInfo:tt(N,this.colDimImageInfos,this.colCellImageInfos),rowInfo:tt(D,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[m.colInfo.dimOffset,m.rowInfo.dimOffset]}return m;function Ge(de,Re,Ce){var qe=C.length;function et(Q,ne,ue){for(var we=Q.length;0<we--;){var Le=Q[we];Le<ne&&(ne=Le),ue<Le&&(ue=Le)}return{min:ne,max:ue}}C.push(Ce),Ce=et(de,1,0),de=Math.max(Math.floor(9*Ce.min-.5),0);for(var ft=Math.min(Math.ceil(9*Ce.max+.5),9),ot=de;ot<ft;++ot)N[ot].push(qe);Ce=et(Re,1,0),de=Math.max(Math.floor(9*Ce.min-.5),0);for(var rt=Math.min(Math.ceil(9*Ce.max+.5),9),re=de;re<rt;++re)D[re].push(qe)}function $e(de){return(de=255*de)<0?0:255<de?255:de}function Je(de,Re,Ce,qe){Ge([de,Ce],[Re,qe],{x:de,y:Re,cx:(de+Ce)/2,cy:(Re+qe)/2})}function mt(de,Re,Ce,qe){return Math.abs(Ce-de)<1e-5&&Math.abs(qe-Re)<1e-5}function tt(de,Re,Ce){for(var qe=de.length,et=Re.findImage(qe),ft=(Re=et.index,0),ot=0;ot<qe;++ot)ft+=de[ot].length;for(var rt=Ce.findImage(ft),re=0;re<qe;++re){var Q=de[re],ne=Q.length,ue=rt.index;a(et,ue>>7,127&ue,ne>>7,127&ne);for(var we=0;we<ne;++we){var Le=Q[we]+Ee;a(rt,Le>>7,127&Le,0,0)}}return{cellImageInfo:rt,dimOffset:Re,dimImageInfo:et}}}}]),c}();g.default.RendererGL.prototype._renderText=function(c,p,m,b,A){if(this._textFont&&typeof this._textFont!="string"){if(!(A<=b)&&this._doFill){if(this._isOpenType()){c.push(),A=this._doStroke;var T=this.drawMode,x=(this._doStroke=!1,this.drawMode=y.TEXTURE,this._textFont.font),R=(R=this._textFont._fontInfo)||(this._textFont._fontInfo=new h(x)),S=(m=this._textFont._handleAlignment(this,p,m,b),b=this._textSize/x.unitsPerEm,this.translate(m.x,m.y,0),this.scale(b,b,1),this.GL),C=(m=!this._defaultFontShader,this._getFontShader()),D=(C.init(),C.bindShader(),m&&(C.setUniform("uGridImageSize",[64,64]),C.setUniform("uCellsImageSize",[64,64]),C.setUniform("uStrokeImageSize",[64,64]),C.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),N=(D||((b=this._textGeom=new g.default.Geometry(1,1,function(){for(var le=0;le<=1;le++)for(var $=0;$<=1;$++)this.vertices.push(new g.default.Vector($,le,0)),this.uvs.push($,le)})).computeFaces().computeNormals(),D=this.createBuffers("glyph",b)),!0);m=!1,b=void 0;try{for(var F,M=this.retainedMode.buffers.text[Symbol.iterator]();!(N=(F=M.next()).done);N=!0)F.value._prepareBuffer(D,C)}catch(le){m=!0,b=le}finally{try{N||M.return==null||M.return()}finally{if(m)throw b}}this._bindBuffer(D.indexBuffer,S.ELEMENT_ARRAY_BUFFER),C.setUniform("uMaterialColor",this.curFillColor),S.pixelStorei(S.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var L=0,z=null,Y=x.stringToGlyphs(p),Z=!0,ee=!1,te=void 0;try{for(var oe,U=Y[Symbol.iterator]();!(Z=(oe=U.next()).done);Z=!0){var q,K,se=oe.value,ie=(z&&(L+=x.getKerningValue(z,se)),R.getGlyphInfo(se));ie.uGlyphRect&&(q=ie.rowInfo,K=ie.colInfo,C.setUniform("uSamplerStrokes",ie.strokeImageInfo.imageData),C.setUniform("uSamplerRowStrokes",q.cellImageInfo.imageData),C.setUniform("uSamplerRows",q.dimImageInfo.imageData),C.setUniform("uSamplerColStrokes",K.cellImageInfo.imageData),C.setUniform("uSamplerCols",K.dimImageInfo.imageData),C.setUniform("uGridOffset",ie.uGridOffset),C.setUniform("uGlyphRect",ie.uGlyphRect),C.setUniform("uGlyphOffset",L),C.bindTextures(),S.drawElements(S.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),L+=se.advanceWidth,z=se}}catch(le){ee=!0,te=le}finally{try{Z||U.return==null||U.return()}finally{if(ee)throw te}}}finally{C.unbindShader(),this._doStroke=A,this.drawMode=T,S.pixelStorei(S.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),c.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return c}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":262,"../core/main":273,"./p5.RendererGL.Retained":327,"./p5.Shader":329,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.string.sub":198,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}]},{},[257])(257)})}).call(this,V(3))},function(Ae,me,V){V.r(me),V.d(me,"p5Events",function(){return o}),V.d(me,"default",function(){return s});var G=V(0),t=V.n(G),O=V(1),_=V.n(O);function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(r)}function i(r,a){for(var d=0;d<a.length;d++){var h=a[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(r,(c=h.key,p=void 0,p=function(m,b){if(f(m)!=="object"||m===null)return m;var A=m[Symbol.toPrimitive];if(A!==void 0){var T=A.call(m,b);if(f(T)!=="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(m)}(c,"string"),f(p)==="symbol"?p:String(p)),h)}var c,p}function l(r,a){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,h){return d.__proto__=h,d})(r,a)}function g(r){var a=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,h=n(r);if(a){var c=n(this).constructor;d=Reflect.construct(h,arguments,c)}else d=h.apply(this,arguments);return y(this,d)}}function y(r,a){if(a&&(f(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(r)}function n(r){return(n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(r)}typeof window<"u"&&(window.p5=_.a);var o=["draw","windowResized","preload","mouseClicked","doubleClicked","mouseMoved","mousePressed","mouseWheel","mouseDragged","mouseReleased","keyPressed","keyReleased","keyTyped","touchStarted","touchMoved","touchEnded","deviceMoved","deviceTurned","deviceShaken"],s=function(r){(function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),m&&l(p,m)})(c,r);var a,d,h=g(c);function c(p){var m;return function(b,A){if(!(b instanceof A))throw new TypeError("Cannot call a class as a function")}(this,c),(m=h.call(this,p)).canvasParentRef=t.a.createRef(),m}return a=c,(d=[{key:"componentDidMount",value:function(){var p=this;this.sketch=new _.a(function(m){m.setup=function(){p.props.setup(m,p.canvasParentRef.current)},o.forEach(function(b){p.props[b]&&(m[b]=function(){for(var A,T=arguments.length,x=new Array(T),R=0;R<T;R++)x[R]=arguments[R];(A=p.props)[b].apply(A,[m].concat(x))})})})}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillUnmount",value:function(){this.sketch.remove()}},{key:"render",value:function(){return t.a.createElement("div",{ref:this.canvasParentRef,className:this.props.className||"react-p5","data-testid":"react-p5",style:this.props.style||{}})}}])&&i(a.prototype,d),Object.defineProperty(a,"prototype",{writable:!1}),c}(t.a.Component)},function(Ae,me){var V;V=function(){return this}();try{V=V||new Function("return this")()}catch{typeof window=="object"&&(V=window)}Ae.exports=V}]).default})}(Hn)),Hn.exports}var Uo=Is();const Fs=No(Uo),Ns=Cs({__proto__:null,default:Fs},[Uo]);var Po={},Oo;function Bs(){return Oo||(Oo=1,function(){(function(We){var Ve={};function xe(Ae){if(Ve[Ae])return Ve[Ae].exports;var me=Ve[Ae]={i:Ae,l:!1,exports:{}};return We[Ae].call(me.exports,me,me.exports,xe),me.l=!0,me.exports}return xe.m=We,xe.c=Ve,xe.d=function(Ae,me,V){xe.o(Ae,me)||Object.defineProperty(Ae,me,{enumerable:!0,get:V})},xe.r=function(Ae){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Ae,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ae,"__esModule",{value:!0})},xe.t=function(Ae,me){if(me&1&&(Ae=xe(Ae)),me&8||me&4&&typeof Ae=="object"&&Ae&&Ae.__esModule)return Ae;var V=Object.create(null);if(xe.r(V),Object.defineProperty(V,"default",{enumerable:!0,value:Ae}),me&2&&typeof Ae!="string")for(var G in Ae)xe.d(V,G,(function(t){return Ae[t]}).bind(null,G));return V},xe.n=function(Ae){var me=Ae&&Ae.__esModule?function(){return Ae.default}:function(){return Ae};return xe.d(me,"a",me),me},xe.o=function(Ae,me){return Object.prototype.hasOwnProperty.call(Ae,me)},xe.p="",xe(xe.s=40)})([function(We,Ve,xe){var Ae;Ae=(function(){function me(G,t){this.isUndef(G)||G===1?this.input=this.context.createGain():1<G&&(this.input=new Array(G)),this.isUndef(t)||t===1?this.output=this.context.createGain():1<t&&(this.output=new Array(G))}var V;return me.prototype.set=function(G,t,O){if(this.isObject(G))O=t;else if(this.isString(G)){var _={};_[G]=t,G=_}e:for(var f in G){t=G[f];var i=this;if(f.indexOf(".")!==-1){for(var l=f.split("."),g=0;g<l.length-1;g++)if((i=i[l[g]])instanceof me){l.splice(0,g+1);var y=l.join(".");i.set(y,t);continue e}f=l[l.length-1]}var n=i[f];this.isUndef(n)||(me.Signal&&n instanceof me.Signal||me.Param&&n instanceof me.Param?n.value!==t&&(this.isUndef(O)?n.value=t:n.rampTo(t,O)):n instanceof AudioParam?n.value!==t&&(n.value=t):n instanceof me?n.set(t):n!==t&&(i[f]=t))}return this},me.prototype.get=function(G){this.isUndef(G)?G=this._collectDefaults(this.constructor):this.isString(G)&&(G=[G]);for(var t={},O=0;O<G.length;O++){var _=G[O],f=this,i=t;if(_.indexOf(".")!==-1){for(var l=_.split("."),g=0;g<l.length-1;g++){var y=l[g];i[y]=i[y]||{},i=i[y],f=f[y]}_=l[l.length-1]}var n=f[_];this.isObject(G[_])?i[_]=n.get():me.Signal&&n instanceof me.Signal||me.Param&&n instanceof me.Param||n instanceof AudioParam?i[_]=n.value:n instanceof me?i[_]=n.get():this.isFunction(n)||this.isUndef(n)||(i[_]=n)}return t},me.prototype._collectDefaults=function(G){var t=[];if(this.isUndef(G.defaults)||(t=Object.keys(G.defaults)),!this.isUndef(G._super))for(var O=this._collectDefaults(G._super),_=0;_<O.length;_++)t.indexOf(O[_])===-1&&t.push(O[_]);return t},me.prototype.toString=function(){for(var G in me){var t=G[0].match(/^[A-Z]$/),O=me[G]===this.constructor;if(this.isFunction(me[G])&&t&&O)return G}return"Tone"},Object.defineProperty(me.prototype,"numberOfInputs",{get:function(){return this.input?this.isArray(this.input)?this.input.length:1:0}}),Object.defineProperty(me.prototype,"numberOfOutputs",{get:function(){return this.output?this.isArray(this.output)?this.output.length:1:0}}),me.prototype.dispose=function(){return this.isUndef(this.input)||(this.input instanceof AudioNode&&this.input.disconnect(),this.input=null),this.isUndef(this.output)||(this.output instanceof AudioNode&&this.output.disconnect(),this.output=null),this},me.prototype.connect=function(G,t,O){return Array.isArray(this.output)?(t=this.defaultArg(t,0),this.output[t].connect(G,0,O)):this.output.connect(G,t,O),this},me.prototype.disconnect=function(G,t,O){this.isArray(this.output)?this.isNumber(G)?this.output[G].disconnect():(t=this.defaultArg(t,0),this.output[t].disconnect(G,0,O)):this.output.disconnect.apply(this.output,arguments)},me.prototype.connectSeries=function(){if(1<arguments.length)for(var G=arguments[0],t=1;t<arguments.length;t++){var O=arguments[t];G.connect(O),G=O}return this},me.prototype.chain=function(){if(0<arguments.length)for(var G=this,t=0;t<arguments.length;t++){var O=arguments[t];G.connect(O),G=O}return this},me.prototype.fan=function(){if(0<arguments.length)for(var G=0;G<arguments.length;G++)this.connect(arguments[G]);return this},AudioNode.prototype.chain=me.prototype.chain,AudioNode.prototype.fan=me.prototype.fan,me.prototype.defaultArg=function(G,t){if(this.isObject(G)&&this.isObject(t)){var O={};for(var _ in G)O[_]=this.defaultArg(t[_],G[_]);for(var f in t)O[f]=this.defaultArg(G[f],t[f]);return O}return this.isUndef(G)?t:G},me.prototype.optionsObject=function(G,t,O){var _={};if(G.length===1&&this.isObject(G[0]))_=G[0];else for(var f=0;f<t.length;f++)_[t[f]]=G[f];return this.isUndef(O)?_:this.defaultArg(_,O)},me.prototype.isUndef=function(G){return G===void 0},me.prototype.isFunction=function(G){return typeof G=="function"},me.prototype.isNumber=function(G){return typeof G=="number"},me.prototype.isObject=function(G){return Object.prototype.toString.call(G)==="[object Object]"&&G.constructor===Object},me.prototype.isBoolean=function(G){return typeof G=="boolean"},me.prototype.isArray=function(G){return Array.isArray(G)},me.prototype.isString=function(G){return typeof G=="string"},me.noOp=function(){},me.prototype._readOnly=function(G){if(Array.isArray(G))for(var t=0;t<G.length;t++)this._readOnly(G[t]);else Object.defineProperty(this,G,{writable:!1,enumerable:!0})},me.prototype._writable=function(G){if(Array.isArray(G))for(var t=0;t<G.length;t++)this._writable(G[t]);else Object.defineProperty(this,G,{writable:!0})},me.State={Started:"started",Stopped:"stopped",Paused:"paused"},me.prototype.equalPowerScale=function(G){var t=.5*Math.PI;return Math.sin(G*t)},me.prototype.dbToGain=function(G){return Math.pow(2,G/6)},me.prototype.gainToDb=function(G){return Math.log(G)/Math.LN10*20},me.prototype.intervalToFrequencyRatio=function(G){return Math.pow(2,G/12)},me.prototype.now=function(){return me.context.now()},me.now=function(){return me.context.now()},me.extend=function(G,t){function O(){}me.prototype.isUndef(t)&&(t=me),O.prototype=t.prototype,G.prototype=new O,(G.prototype.constructor=G)._super=t},Object.defineProperty(me,"context",{get:function(){return V},set:function(G){V=me.Context&&G instanceof me.Context?G:new me.Context(G),me.Context&&me.Context.emit("init",V)}}),Object.defineProperty(me.prototype,"context",{get:function(){return me.context}}),me.setContext=function(G){me.context=G},Object.defineProperty(me.prototype,"blockTime",{get:function(){return 128/this.context.sampleRate}}),Object.defineProperty(me.prototype,"sampleTime",{get:function(){return 1/this.context.sampleRate}}),Object.defineProperty(me,"supported",{get:function(){var G=window.hasOwnProperty("AudioContext")||window.hasOwnProperty("webkitAudioContext"),t=window.hasOwnProperty("Promise"),O=window.hasOwnProperty("Worker");return G&&t&&O}}),me.version="r10",window.TONE_SILENCE_VERSION_LOGGING||console.log("%c * Tone.js "+me.version+" * ","background: #000; color: #fff"),me}).call(Ve,xe,Ve,We),Ae!==void 0&&(We.exports=Ae)},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(2),xe(10)],me=(function(V){return V.Multiply=function(G){this.createInsOuts(2,0),this._mult=this.input[0]=this.output=new V.Gain,this._param=this.input[1]=this.output.gain,this._param.value=this.defaultArg(G,0)},V.extend(V.Multiply,V.Signal),V.Multiply.prototype.dispose=function(){return V.prototype.dispose.call(this),this._mult.dispose(),this._mult=null,this._param=null,this},V.Multiply}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(6),xe(9),xe(18),xe(10)],me=(function(V){return V.Signal=function(){var G=this.optionsObject(arguments,["value","units"],V.Signal.defaults);this.output=this._gain=this.context.createGain(),G.param=this._gain.gain,V.Param.call(this,G),this.input=this._param=this._gain.gain,this.context.getConstant(1).chain(this._gain)},V.extend(V.Signal,V.Param),V.Signal.defaults={value:0,units:V.Type.Default,convert:!0},V.Signal.prototype.connect=V.SignalBase.prototype.connect,V.Signal.prototype.dispose=function(){return V.Param.prototype.dispose.call(this),this._param=null,this._gain.disconnect(),this._gain=null,this},V.Signal}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){(function(Ae){xe.d(Ve,"b",function(){return f}),xe.d(Ve,"c",function(){return i});var me=xe(22),V=xe.n(me),G=xe(0),t=xe.n(G),O=xe(12);xe.n(O),Ae.TONE_SILENCE_VERSION_LOGGING=!0;var _=new window.AudioContext;t.a.setContext(_);function f(){return _}function i(l,g){var y=l;return l instanceof p5.Element?y=l.elt:l instanceof Array&&l[0]instanceof p5.Element&&(y=l.map(function(n){return n.elt})),V()(_,y,g)}Ve.a=_}).call(this,xe(26))},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(2),xe(10)],me=(function(V){return V.Add=function(G){this.createInsOuts(2,0),this._sum=this.input[0]=this.input[1]=this.output=new V.Gain,this._param=this.input[1]=new V.Signal(G),this._param.connect(this._sum)},V.extend(V.Add,V.Signal),V.Add.prototype.dispose=function(){return V.prototype.dispose.call(this),this._sum.dispose(),this._sum=null,this._param.dispose(),this._param=null,this},V.Add}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve){We.exports={recorderProcessor:"recorder-processor",soundFileProcessor:"sound-file-processor",amplitudeProcessor:"amplitude-processor"}},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(15)],me=(function(V){return V.WaveShaper=function(G,t){this._shaper=this.input=this.output=this.context.createWaveShaper(),this._curve=null,Array.isArray(G)?this.curve=G:isFinite(G)||this.isUndef(G)?this._curve=new Float32Array(this.defaultArg(G,1024)):this.isFunction(G)&&(this._curve=new Float32Array(this.defaultArg(t,1024)),this.setMap(G))},V.extend(V.WaveShaper,V.SignalBase),V.WaveShaper.prototype.setMap=function(G){for(var t=0,O=this._curve.length;t<O;t++){var _=t/(O-1)*2-1;this._curve[t]=G(_,t)}return this._shaper.curve=this._curve,this},Object.defineProperty(V.WaveShaper.prototype,"curve",{get:function(){return this._shaper.curve},set:function(G){this._curve=new Float32Array(G),this._shaper.curve=this._curve}}),Object.defineProperty(V.WaveShaper.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(G){if(["none","2x","4x"].indexOf(G)===-1)throw new RangeError("Tone.WaveShaper: oversampling must be either 'none', '2x', or '4x'");this._shaper.oversample=G}}),V.WaveShaper.prototype.dispose=function(){return V.prototype.dispose.call(this),this._shaper.disconnect(),this._shaper=null,this._curve=null,this},V.WaveShaper}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(2),xe(19)],me=(function(V){return V.TimelineSignal=function(){var G=this.optionsObject(arguments,["value","units"],V.Signal.defaults);this._events=new V.Timeline(10),V.Signal.apply(this,G),G.param=this._param,V.Param.call(this,G),this._initial=this._fromUnits(this._param.value)},V.extend(V.TimelineSignal,V.Param),V.TimelineSignal.Type={Linear:"linear",Exponential:"exponential",Target:"target",Curve:"curve",Set:"set"},Object.defineProperty(V.TimelineSignal.prototype,"value",{get:function(){var G=this.now(),t=this.getValueAtTime(G);return this._toUnits(t)},set:function(G){var t=this._fromUnits(G);this._initial=t,this.cancelScheduledValues(),this._param.value=t}}),V.TimelineSignal.prototype.setValueAtTime=function(G,t){return G=this._fromUnits(G),t=this.toSeconds(t),this._events.add({type:V.TimelineSignal.Type.Set,value:G,time:t}),this._param.setValueAtTime(G,t),this},V.TimelineSignal.prototype.linearRampToValueAtTime=function(G,t){return G=this._fromUnits(G),t=this.toSeconds(t),this._events.add({type:V.TimelineSignal.Type.Linear,value:G,time:t}),this._param.linearRampToValueAtTime(G,t),this},V.TimelineSignal.prototype.exponentialRampToValueAtTime=function(G,t){t=this.toSeconds(t);var O=this._searchBefore(t);O&&O.value===0&&this.setValueAtTime(this._minOutput,O.time),G=this._fromUnits(G);var _=Math.max(G,this._minOutput);return this._events.add({type:V.TimelineSignal.Type.Exponential,value:_,time:t}),G<this._minOutput?(this._param.exponentialRampToValueAtTime(this._minOutput,t-this.sampleTime),this.setValueAtTime(0,t)):this._param.exponentialRampToValueAtTime(G,t),this},V.TimelineSignal.prototype.setTargetAtTime=function(G,t,O){return G=this._fromUnits(G),G=Math.max(this._minOutput,G),O=Math.max(this._minOutput,O),t=this.toSeconds(t),this._events.add({type:V.TimelineSignal.Type.Target,value:G,time:t,constant:O}),this._param.setTargetAtTime(G,t,O),this},V.TimelineSignal.prototype.setValueCurveAtTime=function(G,t,O,_){_=this.defaultArg(_,1);for(var f=new Array(G.length),i=0;i<f.length;i++)f[i]=this._fromUnits(G[i])*_;t=this.toSeconds(t),O=this.toSeconds(O),this._events.add({type:V.TimelineSignal.Type.Curve,value:f,time:t,duration:O}),this._param.setValueAtTime(f[0],t);for(var l=1;l<f.length;l++){var g=t+l/(f.length-1)*O;this._param.linearRampToValueAtTime(f[l],g)}return this},V.TimelineSignal.prototype.cancelScheduledValues=function(G){return G=this.toSeconds(G),this._events.cancel(G),this._param.cancelScheduledValues(G),this},V.TimelineSignal.prototype.setRampPoint=function(G){G=this.toSeconds(G);var t=this._toUnits(this.getValueAtTime(G)),O=this._searchBefore(G);if(O&&O.time===G)this.cancelScheduledValues(G+this.sampleTime);else if(O&&O.type===V.TimelineSignal.Type.Curve&&O.time+O.duration>G)this.cancelScheduledValues(G),this.linearRampToValueAtTime(t,G);else{var _=this._searchAfter(G);_&&(this.cancelScheduledValues(G),_.type===V.TimelineSignal.Type.Linear?this.linearRampToValueAtTime(t,G):_.type===V.TimelineSignal.Type.Exponential&&this.exponentialRampToValueAtTime(t,G)),this.setValueAtTime(t,G)}return this},V.TimelineSignal.prototype.linearRampToValueBetween=function(G,t,O){return this.setRampPoint(t),this.linearRampToValueAtTime(G,O),this},V.TimelineSignal.prototype.exponentialRampToValueBetween=function(G,t,O){return this.setRampPoint(t),this.exponentialRampToValueAtTime(G,O),this},V.TimelineSignal.prototype._searchBefore=function(G){return this._events.get(G)},V.TimelineSignal.prototype._searchAfter=function(G){return this._events.getAfter(G)},V.TimelineSignal.prototype.getValueAtTime=function(G){G=this.toSeconds(G);var t=this._searchAfter(G),O=this._searchBefore(G),_=this._initial;if(O===null)_=this._initial;else if(O.type===V.TimelineSignal.Type.Target){var f,i=this._events.getBefore(O.time);f=i===null?this._initial:i.value,_=this._exponentialApproach(O.time,f,O.value,O.constant,G)}else _=O.type===V.TimelineSignal.Type.Curve?this._curveInterpolate(O.time,O.value,O.duration,G):t===null?O.value:t.type===V.TimelineSignal.Type.Linear?this._linearInterpolate(O.time,O.value,t.time,t.value,G):t.type===V.TimelineSignal.Type.Exponential?this._exponentialInterpolate(O.time,O.value,t.time,t.value,G):O.value;return _},V.TimelineSignal.prototype.connect=V.SignalBase.prototype.connect,V.TimelineSignal.prototype._exponentialApproach=function(G,t,O,_,f){return O+(t-O)*Math.exp(-(f-G)/_)},V.TimelineSignal.prototype._linearInterpolate=function(G,t,O,_,f){return t+(f-G)/(O-G)*(_-t)},V.TimelineSignal.prototype._exponentialInterpolate=function(G,t,O,_,f){return(t=Math.max(this._minOutput,t))*Math.pow(_/t,(f-G)/(O-G))},V.TimelineSignal.prototype._curveInterpolate=function(G,t,O,_){var f=t.length;if(G+O<=_)return t[f-1];if(_<=G)return t[0];var i=(_-G)/O,l=Math.floor((f-1)*i),g=Math.ceil((f-1)*i),y=t[l],n=t[g];return g===l?y:this._linearInterpolate(l,y,g,n,i*(f-1))},V.TimelineSignal.prototype.dispose=function(){V.Signal.prototype.dispose.call(this),V.Param.prototype.dispose.call(this),this._events.dispose(),this._events=null},V.TimelineSignal}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(4),xe(1),xe(2)],me=(function(V){return V.Scale=function(G,t){this._outputMin=this.defaultArg(G,0),this._outputMax=this.defaultArg(t,1),this._scale=this.input=new V.Multiply(1),this._add=this.output=new V.Add(0),this._scale.connect(this._add),this._setRange()},V.extend(V.Scale,V.SignalBase),Object.defineProperty(V.Scale.prototype,"min",{get:function(){return this._outputMin},set:function(G){this._outputMin=G,this._setRange()}}),Object.defineProperty(V.Scale.prototype,"max",{get:function(){return this._outputMax},set:function(G){this._outputMax=G,this._setRange()}}),V.Scale.prototype._setRange=function(){this._add.value=this._outputMin,this._scale.value=this._outputMax-this._outputMin},V.Scale.prototype.dispose=function(){return V.prototype.dispose.call(this),this._add.dispose(),this._add=null,this._scale.dispose(),this._scale=null,this},V.Scale}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(16),xe(30),xe(31),xe(12)],me=(function(V){return V.Type={Default:"number",Time:"time",Frequency:"frequency",TransportTime:"transportTime",Ticks:"ticks",NormalRange:"normalRange",AudioRange:"audioRange",Decibels:"db",Interval:"interval",BPM:"bpm",Positive:"positive",Cents:"cents",Degrees:"degrees",MIDI:"midi",BarsBeatsSixteenths:"barsBeatsSixteenths",Samples:"samples",Hertz:"hertz",Note:"note",Milliseconds:"milliseconds",Seconds:"seconds",Notation:"notation"},V.prototype.toSeconds=function(G){return this.isNumber(G)?G:this.isUndef(G)?this.now():this.isString(G)?new V.Time(G).toSeconds():G instanceof V.TimeBase?G.toSeconds():void 0},V.prototype.toFrequency=function(G){return this.isNumber(G)?G:this.isString(G)||this.isUndef(G)?new V.Frequency(G).valueOf():G instanceof V.TimeBase?G.toFrequency():void 0},V.prototype.toTicks=function(G){return this.isNumber(G)||this.isString(G)?new V.TransportTime(G).toTicks():this.isUndef(G)?V.Transport.ticks:G instanceof V.TimeBase?G.toTicks():void 0},V}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(18),xe(9)],me=(function(V){return window.GainNode&&!AudioContext.prototype.createGain&&(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),V.Gain=function(){var G=this.optionsObject(arguments,["gain","units"],V.Gain.defaults);this.input=this.output=this._gainNode=this.context.createGain(),this.gain=new V.Param({param:this._gainNode.gain,units:G.units,value:G.gain,convert:G.convert}),this._readOnly("gain")},V.extend(V.Gain),V.Gain.defaults={gain:1,convert:!0},V.Gain.prototype.dispose=function(){V.Param.prototype.dispose.call(this),this._gainNode.disconnect(),this._gainNode=null,this._writable("gain"),this.gain.dispose(),this.gain=null},V.prototype.createInsOuts=function(G,t){G===1?this.input=new V.Gain:1<G&&(this.input=new Array(G)),t===1?this.output=new V.Gain:1<t&&(this.output=new Array(G))},V.Gain}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(7),xe(39),xe(14),xe(12)],me=(function(V){return V.Clock=function(){V.Emitter.call(this);var G=this.optionsObject(arguments,["callback","frequency"],V.Clock.defaults);this.callback=G.callback,this._nextTick=0,this._lastState=V.State.Stopped,this.frequency=new V.TimelineSignal(G.frequency,V.Type.Frequency),this._readOnly("frequency"),this.ticks=0,this._state=new V.TimelineState(V.State.Stopped),this._boundLoop=this._loop.bind(this),this.context.on("tick",this._boundLoop)},V.extend(V.Clock,V.Emitter),V.Clock.defaults={callback:V.noOp,frequency:1,lookAhead:"auto"},Object.defineProperty(V.Clock.prototype,"state",{get:function(){return this._state.getValueAtTime(this.now())}}),V.Clock.prototype.start=function(G,t){return G=this.toSeconds(G),this._state.getValueAtTime(G)!==V.State.Started&&this._state.add({state:V.State.Started,time:G,offset:t}),this},V.Clock.prototype.stop=function(G){return G=this.toSeconds(G),this._state.cancel(G),this._state.setStateAtTime(V.State.Stopped,G),this},V.Clock.prototype.pause=function(G){return G=this.toSeconds(G),this._state.getValueAtTime(G)===V.State.Started&&this._state.setStateAtTime(V.State.Paused,G),this},V.Clock.prototype._loop=function(){for(var G=this.now()+this.context.lookAhead+this.context.updateInterval+2*this.context.lag;G>this._nextTick&&this._state;){var t=this._state.getValueAtTime(this._nextTick);if(t!==this._lastState){this._lastState=t;var O=this._state.get(this._nextTick);t===V.State.Started?(this._nextTick=O.time,this.isUndef(O.offset)||(this.ticks=O.offset),this.emit("start",O.time,this.ticks)):t===V.State.Stopped?(this.ticks=0,this.emit("stop",O.time)):t===V.State.Paused&&this.emit("pause",O.time)}var _=this._nextTick;this.frequency&&(this._nextTick+=1/this.frequency.getValueAtTime(this._nextTick),t===V.State.Started&&(this.callback(_),this.ticks++))}},V.Clock.prototype.getStateAtTime=function(G){return G=this.toSeconds(G),this._state.getValueAtTime(G)},V.Clock.prototype.dispose=function(){V.Emitter.prototype.dispose.call(this),this.context.off("tick",this._boundLoop),this._writable("frequency"),this.frequency.dispose(),this.frequency=null,this._boundLoop=null,this._nextTick=1/0,this.callback=null,this._state.dispose(),this._state=null},V.Clock}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(14)],me=(function(V){function G(_,f,i){if(_.input)Array.isArray(_.input)?(V.prototype.isUndef(i)&&(i=0),this.connect(_.input[i])):this.connect(_.input,f,i);else try{_ instanceof AudioNode?t.call(this,_,f,i):t.call(this,_,f)}catch(l){throw new Error("error connecting to node: "+_+`
`+l)}}var t,O;return!window.hasOwnProperty("AudioContext")&&window.hasOwnProperty("webkitAudioContext")&&(window.AudioContext=window.webkitAudioContext),V.Context=function(_){for(var f in V.Emitter.call(this),_=_||new window.AudioContext,this._context=_,this._context)this._defineProperty(this._context,f);this._latencyHint="interactive",this._lookAhead=.1,this._updateInterval=this._lookAhead/3,this._computedUpdateInterval=0,this._worker=this._createWorker(),this._constants={}},V.extend(V.Context,V.Emitter),V.Emitter.mixin(V.Context),V.Context.prototype._defineProperty=function(_,f){this.isUndef(this[f])&&Object.defineProperty(this,f,{get:function(){return typeof _[f]=="function"?_[f].bind(_):_[f]},set:function(i){_[f]=i}})},V.Context.prototype.now=function(){return this._context.currentTime},V.Context.prototype._createWorker=function(){window.URL=window.URL||window.webkitURL;var _=new Blob(["var timeoutTime = "+(1e3*this._updateInterval).toFixed(1)+";self.onmessage = function(msg){	timeoutTime = parseInt(msg.data);};function tick(){	setTimeout(tick, timeoutTime);	self.postMessage('tick');}tick();"]),f=URL.createObjectURL(_),i=new Worker(f);return i.addEventListener("message",(function(){this.emit("tick")}).bind(this)),i.addEventListener("message",(function(){var l=this.now();if(this.isNumber(this._lastUpdate)){var g=l-this._lastUpdate;this._computedUpdateInterval=Math.max(g,.97*this._computedUpdateInterval)}this._lastUpdate=l}).bind(this)),i},V.Context.prototype.getConstant=function(_){if(this._constants[_])return this._constants[_];for(var f=this._context.createBuffer(1,128,this._context.sampleRate),i=f.getChannelData(0),l=0;l<i.length;l++)i[l]=_;var g=this._context.createBufferSource();return g.channelCount=1,g.channelCountMode="explicit",g.buffer=f,g.loop=!0,g.start(0),this._constants[_]=g},Object.defineProperty(V.Context.prototype,"lag",{get:function(){var _=this._computedUpdateInterval-this._updateInterval;return _=Math.max(_,0)}}),Object.defineProperty(V.Context.prototype,"lookAhead",{get:function(){return this._lookAhead},set:function(_){this._lookAhead=_}}),Object.defineProperty(V.Context.prototype,"updateInterval",{get:function(){return this._updateInterval},set:function(_){this._updateInterval=Math.max(_,V.prototype.blockTime),this._worker.postMessage(Math.max(1e3*_,1))}}),Object.defineProperty(V.Context.prototype,"latencyHint",{get:function(){return this._latencyHint},set:function(_){var f=_;if(this._latencyHint=_,this.isString(_))switch(_){case"interactive":f=.1,this._context.latencyHint=_;break;case"playback":f=.8,this._context.latencyHint=_;break;case"balanced":f=.25,this._context.latencyHint=_;break;case"fastest":f=.01}this.lookAhead=f,this.updateInterval=f/3}}),V.supported?(t=AudioNode.prototype.connect,O=AudioNode.prototype.disconnect,AudioNode.prototype.connect!==G&&(AudioNode.prototype.connect=G,AudioNode.prototype.disconnect=function(_,f,i){if(_&&_.input&&Array.isArray(_.input))V.prototype.isUndef(i)&&(i=0),this.disconnect(_.input[i],f,i);else if(_&&_.input)this.disconnect(_.input,f,i);else try{O.apply(this,arguments)}catch(l){throw new Error("error disconnecting node: "+_+`
`+l)}}),V.context=new V.Context):console.warn("This browser does not support Tone.js"),V.Context}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(4),xe(20),xe(2),xe(10)],me=(function(V){return V.Subtract=function(G){this.createInsOuts(2,0),this._sum=this.input[0]=this.output=new V.Gain,this._neg=new V.Negate,this._param=this.input[1]=new V.Signal(G),this._param.chain(this._neg,this._sum)},V.extend(V.Subtract,V.Signal),V.Subtract.prototype.dispose=function(){return V.prototype.dispose.call(this),this._neg.dispose(),this._neg=null,this._sum.disconnect(),this._sum=null,this._param.dispose(),this._param=null,this},V.Subtract}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me;Ae=[xe(0)],me=(function(V){return V.Emitter=function(){this._events={}},V.extend(V.Emitter),V.Emitter.prototype.on=function(G,t){for(var O=G.split(/\W+/),_=0;_<O.length;_++){var f=O[_];this._events.hasOwnProperty(f)||(this._events[f]=[]),this._events[f].push(t)}return this},V.Emitter.prototype.off=function(G,t){for(var O=G.split(/\W+/),_=0;_<O.length;_++)if(G=O[_],this._events.hasOwnProperty(G))if(V.prototype.isUndef(t))this._events[G]=[];else for(var f=this._events[G],i=0;i<f.length;i++)f[i]===t&&f.splice(i,1);return this},V.Emitter.prototype.emit=function(G){if(this._events){var t=Array.apply(null,arguments).slice(1);if(this._events.hasOwnProperty(G))for(var O=this._events[G],_=0,f=O.length;_<f;_++)O[_].apply(this,t)}return this},V.Emitter.mixin=function(G){var t=["on","off","emit"];G._events={};for(var O=0;O<t.length;O++){var _=t[O],f=V.Emitter.prototype[_];G[_]=f}},V.Emitter.prototype.dispose=function(){return V.prototype.dispose.call(this),this._events=null,this},V.Emitter}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me;Ae=[xe(0)],me=(function(V){return V.SignalBase=function(){},V.extend(V.SignalBase),V.SignalBase.prototype.connect=function(G,t,O){return V.Signal&&V.Signal===G.constructor||V.Param&&V.Param===G.constructor||V.TimelineSignal&&V.TimelineSignal===G.constructor?(G._param.cancelScheduledValues(0),G._param.value=0,G.overridden=!0):G instanceof AudioParam&&(G.cancelScheduledValues(0),G.value=0),V.prototype.connect.call(this,G,t,O),this},V.SignalBase}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(17)],me=(function(V){return V.Time=function(G,t){if(!(this instanceof V.Time))return new V.Time(G,t);this._plusNow=!1,V.TimeBase.call(this,G,t)},V.extend(V.Time,V.TimeBase),V.Time.prototype._unaryExpressions=Object.create(V.TimeBase.prototype._unaryExpressions),V.Time.prototype._unaryExpressions.quantize={regexp:/^@/,method:function(G){return V.Transport.nextSubdivision(G())}},V.Time.prototype._unaryExpressions.now={regexp:/^\+/,method:function(G){return this._plusNow=!0,G()}},V.Time.prototype.quantize=function(G,t){return t=this.defaultArg(t,1),this._expr=(function(O,_,f){return O=O(),_=_.toSeconds(),O+(Math.round(O/_)*_-O)*f}).bind(this,this._expr,new this.constructor(G),t),this},V.Time.prototype.addNow=function(){return this._plusNow=!0,this},V.Time.prototype._defaultExpr=function(){return this._plusNow=!0,this._noOp},V.Time.prototype.copy=function(G){return V.TimeBase.prototype.copy.call(this,G),this._plusNow=G._plusNow,this},V.Time.prototype.toNotation=function(){var G=this.toSeconds(),t=this._toNotationHelper(G,["1m","2n","4n","8n","16n","32n","64n","128n"]),O=this._toNotationHelper(G,["1m","2n","2t","4n","4t","8n","8t","16n","16t","32n","32t","64n","64t","128n"]);return O.split("+").length<t.split("+").length?O:t},V.Time.prototype._toNotationHelper=function(G,t){for(var O=this._notationToUnits(t[t.length-1]),_="",f=0;f<t.length;f++){var i=this._notationToUnits(t[f]),l=G/i;if(1-l%1<1e-6&&(l+=1e-6),0<(l=Math.floor(l))){if(_+=l===1?t[f]:l.toString()+"*"+t[f],(G-=l*i)<O)break;_+=" + "}}return _===""&&(_="0"),_},V.Time.prototype._notationToUnits=function(G){for(var t=this._primaryExpressions,O=[t.n,t.t,t.m],_=0;_<O.length;_++){var f=O[_],i=G.match(f.regexp);if(i)return f.method.call(this,i[1])}},V.Time.prototype.toBarsBeatsSixteenths=function(){var G=this._beatsToUnits(1),t=this.toSeconds()/G,O=Math.floor(t/this._timeSignature()),_=t%1*4;return t=Math.floor(t)%this._timeSignature(),3<(_=_.toString()).length&&(_=parseFloat(_).toFixed(3)),[O,t,_].join(":")},V.Time.prototype.toTicks=function(){var G=this._beatsToUnits(1),t=this.valueOf()/G;return Math.floor(t*V.Transport.PPQ)},V.Time.prototype.toSamples=function(){return this.toSeconds()*this.context.sampleRate},V.Time.prototype.toFrequency=function(){return 1/this.toSeconds()},V.Time.prototype.toSeconds=function(){return this.valueOf()},V.Time.prototype.toMilliseconds=function(){return 1e3*this.toSeconds()},V.Time.prototype.valueOf=function(){return this._expr()+(this._plusNow?this.now():0)},V.Time}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me;Ae=[xe(0)],me=(function(V){return V.TimeBase=function(G,t){if(!(this instanceof V.TimeBase))return new V.TimeBase(G,t);if(this._expr=this._noOp,G instanceof V.TimeBase)this.copy(G);else if(!this.isUndef(t)||this.isNumber(G)){t=this.defaultArg(t,this._defaultUnits);var O=this._primaryExpressions[t].method;this._expr=O.bind(this,G)}else this.isString(G)?this.set(G):this.isUndef(G)&&(this._expr=this._defaultExpr())},V.extend(V.TimeBase),V.TimeBase.prototype.set=function(G){return this._expr=this._parseExprString(G),this},V.TimeBase.prototype.clone=function(){var G=new this.constructor;return G.copy(this),G},V.TimeBase.prototype.copy=function(G){var t=G._expr();return this.set(t)},V.TimeBase.prototype._primaryExpressions={n:{regexp:/^(\d+)n/i,method:function(G){return(G=parseInt(G))===1?this._beatsToUnits(this._timeSignature()):this._beatsToUnits(4/G)}},t:{regexp:/^(\d+)t/i,method:function(G){return G=parseInt(G),this._beatsToUnits(8/(3*parseInt(G)))}},m:{regexp:/^(\d+)m/i,method:function(G){return this._beatsToUnits(parseInt(G)*this._timeSignature())}},i:{regexp:/^(\d+)i/i,method:function(G){return this._ticksToUnits(parseInt(G))}},hz:{regexp:/^(\d+(?:\.\d+)?)hz/i,method:function(G){return this._frequencyToUnits(parseFloat(G))}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method:function(G,t,O){var _=0;return G&&G!=="0"&&(_+=this._beatsToUnits(this._timeSignature()*parseFloat(G))),t&&t!=="0"&&(_+=this._beatsToUnits(parseFloat(t))),O&&O!=="0"&&(_+=this._beatsToUnits(parseFloat(O)/4)),_}},s:{regexp:/^(\d+(?:\.\d+)?s)/,method:function(G){return this._secondsToUnits(parseFloat(G))}},samples:{regexp:/^(\d+)samples/,method:function(G){return parseInt(G)/this.context.sampleRate}},default:{regexp:/^(\d+(?:\.\d+)?)/,method:function(G){return this._primaryExpressions[this._defaultUnits].method.call(this,G)}}},V.TimeBase.prototype._binaryExpressions={"+":{regexp:/^\+/,precedence:2,method:function(G,t){return G()+t()}},"-":{regexp:/^\-/,precedence:2,method:function(G,t){return G()-t()}},"*":{regexp:/^\*/,precedence:1,method:function(G,t){return G()*t()}},"/":{regexp:/^\//,precedence:1,method:function(G,t){return G()/t()}}},V.TimeBase.prototype._unaryExpressions={neg:{regexp:/^\-/,method:function(G){return-G()}}},V.TimeBase.prototype._syntaxGlue={"(":{regexp:/^\(/},")":{regexp:/^\)/}},V.TimeBase.prototype._tokenize=function(G){for(var t=-1,O=[];0<G.length;){var _=f(G=G.trim(),this);O.push(_),G=G.substr(_.value.length)}function f(i,l){for(var g=["_binaryExpressions","_unaryExpressions","_primaryExpressions","_syntaxGlue"],y=0;y<g.length;y++){var n=l[g[y]];for(var o in n){var s=n[o],r=s.regexp,a=i.match(r);if(a!==null)return{method:s.method,precedence:s.precedence,regexp:s.regexp,value:a[0]}}}throw new SyntaxError("Tone.TimeBase: Unexpected token "+i)}return{next:function(){return O[++t]},peek:function(){return O[t+1]}}},V.TimeBase.prototype._matchGroup=function(G,t,O){if(!this.isUndef(G))for(var _ in t){var f=t[_];if(f.regexp.test(G.value)&&(this.isUndef(O)||f.precedence===O))return f}return!1},V.TimeBase.prototype._parseBinary=function(G,t){var O;this.isUndef(t)&&(t=2),O=t<0?this._parseUnary(G):this._parseBinary(G,t-1);for(var _=G.peek();_&&this._matchGroup(_,this._binaryExpressions,t);)O=(_=G.next()).method.bind(this,O,this._parseBinary(G,t-1)),_=G.peek();return O},V.TimeBase.prototype._parseUnary=function(G){var t,O;t=G.peek();var _=this._matchGroup(t,this._unaryExpressions);return _?(t=G.next(),O=this._parseUnary(G),_.method.bind(this,O)):this._parsePrimary(G)},V.TimeBase.prototype._parsePrimary=function(G){var t,O;if(t=G.peek(),this.isUndef(t))throw new SyntaxError("Tone.TimeBase: Unexpected end of expression");if(this._matchGroup(t,this._primaryExpressions)){var _=(t=G.next()).value.match(t.regexp);return t.method.bind(this,_[1],_[2],_[3])}if(t&&t.value==="("){if(G.next(),O=this._parseBinary(G),!(t=G.next())||t.value!==")")throw new SyntaxError("Expected )");return O}throw new SyntaxError("Tone.TimeBase: Cannot process token "+t.value)},V.TimeBase.prototype._parseExprString=function(G){this.isString(G)||(G=G.toString());var t=this._tokenize(G);return this._parseBinary(t)},V.TimeBase.prototype._noOp=function(){return 0},V.TimeBase.prototype._defaultExpr=function(){return this._noOp},V.TimeBase.prototype._defaultUnits="s",V.TimeBase.prototype._frequencyToUnits=function(G){return 1/G},V.TimeBase.prototype._beatsToUnits=function(G){return 60/V.Transport.bpm.value*G},V.TimeBase.prototype._secondsToUnits=function(G){return G},V.TimeBase.prototype._ticksToUnits=function(G){return G*(this._beatsToUnits(1)/V.Transport.PPQ)},V.TimeBase.prototype._timeSignature=function(){return V.Transport.timeSignature},V.TimeBase.prototype._pushExpr=function(G,t,O){return G instanceof V.TimeBase||(G=new this.constructor(G,O)),this._expr=this._binaryExpressions[t].method.bind(this,this._expr,G._expr),this},V.TimeBase.prototype.add=function(G,t){return this._pushExpr(G,"+",t)},V.TimeBase.prototype.sub=function(G,t){return this._pushExpr(G,"-",t)},V.TimeBase.prototype.mult=function(G,t){return this._pushExpr(G,"*",t)},V.TimeBase.prototype.div=function(G,t){return this._pushExpr(G,"/",t)},V.TimeBase.prototype.valueOf=function(){return this._expr()},V.TimeBase.prototype.dispose=function(){this._expr=null},V.TimeBase}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(9)],me=(function(V){return V.Param=function(){var G=this.optionsObject(arguments,["param","units","convert"],V.Param.defaults);this._param=this.input=G.param,this.units=G.units,this.convert=G.convert,this.overridden=!1,this._lfo=null,this.isObject(G.lfo)?this.value=G.lfo:this.isUndef(G.value)||(this.value=G.value)},V.extend(V.Param),V.Param.defaults={units:V.Type.Default,convert:!0,param:void 0},Object.defineProperty(V.Param.prototype,"value",{get:function(){return this._toUnits(this._param.value)},set:function(G){if(this.isObject(G)){if(this.isUndef(V.LFO))throw new Error("Include 'Tone.LFO' to use an LFO as a Param value.");this._lfo&&this._lfo.dispose(),this._lfo=new V.LFO(G).start(),this._lfo.connect(this.input)}else{var t=this._fromUnits(G);this._param.cancelScheduledValues(0),this._param.value=t}}}),V.Param.prototype._fromUnits=function(G){if(!this.convert&&!this.isUndef(this.convert))return G;switch(this.units){case V.Type.Time:return this.toSeconds(G);case V.Type.Frequency:return this.toFrequency(G);case V.Type.Decibels:return this.dbToGain(G);case V.Type.NormalRange:return Math.min(Math.max(G,0),1);case V.Type.AudioRange:return Math.min(Math.max(G,-1),1);case V.Type.Positive:return Math.max(G,0);default:return G}},V.Param.prototype._toUnits=function(G){if(!this.convert&&!this.isUndef(this.convert))return G;switch(this.units){case V.Type.Decibels:return this.gainToDb(G);default:return G}},V.Param.prototype._minOutput=1e-5,V.Param.prototype.setValueAtTime=function(G,t){return G=this._fromUnits(G),(t=this.toSeconds(t))<=this.now()+this.blockTime?this._param.value=G:this._param.setValueAtTime(G,t),this},V.Param.prototype.setRampPoint=function(G){G=this.defaultArg(G,this.now());var t=this._param.value;return t===0&&(t=this._minOutput),this._param.setValueAtTime(t,G),this},V.Param.prototype.linearRampToValueAtTime=function(G,t){return G=this._fromUnits(G),this._param.linearRampToValueAtTime(G,this.toSeconds(t)),this},V.Param.prototype.exponentialRampToValueAtTime=function(G,t){return G=this._fromUnits(G),G=Math.max(this._minOutput,G),this._param.exponentialRampToValueAtTime(G,this.toSeconds(t)),this},V.Param.prototype.exponentialRampToValue=function(G,t,O){return O=this.toSeconds(O),this.setRampPoint(O),this.exponentialRampToValueAtTime(G,O+this.toSeconds(t)),this},V.Param.prototype.linearRampToValue=function(G,t,O){return O=this.toSeconds(O),this.setRampPoint(O),this.linearRampToValueAtTime(G,O+this.toSeconds(t)),this},V.Param.prototype.setTargetAtTime=function(G,t,O){return G=this._fromUnits(G),G=Math.max(this._minOutput,G),O=Math.max(this._minOutput,O),this._param.setTargetAtTime(G,this.toSeconds(t),O),this},V.Param.prototype.setValueCurveAtTime=function(G,t,O){for(var _=0;_<G.length;_++)G[_]=this._fromUnits(G[_]);return this._param.setValueCurveAtTime(G,this.toSeconds(t),this.toSeconds(O)),this},V.Param.prototype.cancelScheduledValues=function(G){return this._param.cancelScheduledValues(this.toSeconds(G)),this},V.Param.prototype.rampTo=function(G,t,O){return t=this.defaultArg(t,0),this.units===V.Type.Frequency||this.units===V.Type.BPM||this.units===V.Type.Decibels?this.exponentialRampToValue(G,t,O):this.linearRampToValue(G,t,O),this},Object.defineProperty(V.Param.prototype,"lfo",{get:function(){return this._lfo}}),V.Param.prototype.dispose=function(){return V.prototype.dispose.call(this),this._param=null,this._lfo&&(this._lfo.dispose(),this._lfo=null),this},V.Param}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(9)],me=(function(V){return V.Timeline=function(){var G=this.optionsObject(arguments,["memory"],V.Timeline.defaults);this._timeline=[],this._toRemove=[],this._iterating=!1,this.memory=G.memory},V.extend(V.Timeline),V.Timeline.defaults={memory:1/0},Object.defineProperty(V.Timeline.prototype,"length",{get:function(){return this._timeline.length}}),V.Timeline.prototype.add=function(G){if(this.isUndef(G.time))throw new Error("Tone.Timeline: events must have a time attribute");if(this._timeline.length){var t=this._search(G.time);this._timeline.splice(t+1,0,G)}else this._timeline.push(G);if(this.length>this.memory){var O=this.length-this.memory;this._timeline.splice(0,O)}return this},V.Timeline.prototype.remove=function(G){if(this._iterating)this._toRemove.push(G);else{var t=this._timeline.indexOf(G);t!==-1&&this._timeline.splice(t,1)}return this},V.Timeline.prototype.get=function(G){var t=this._search(G);return t!==-1?this._timeline[t]:null},V.Timeline.prototype.peek=function(){return this._timeline[0]},V.Timeline.prototype.shift=function(){return this._timeline.shift()},V.Timeline.prototype.getAfter=function(G){var t=this._search(G);return t+1<this._timeline.length?this._timeline[t+1]:null},V.Timeline.prototype.getBefore=function(G){var t=this._timeline.length;if(0<t&&this._timeline[t-1].time<G)return this._timeline[t-1];var O=this._search(G);return 0<=O-1?this._timeline[O-1]:null},V.Timeline.prototype.cancel=function(G){if(1<this._timeline.length){var t=this._search(G);if(0<=t)if(this._timeline[t].time===G){for(var O=t;0<=O&&this._timeline[O].time===G;O--)t=O;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else this._timeline.length===1&&this._timeline[0].time>=G&&(this._timeline=[]);return this},V.Timeline.prototype.cancelBefore=function(G){if(this._timeline.length){var t=this._search(G);0<=t&&(this._timeline=this._timeline.slice(t+1))}return this},V.Timeline.prototype._search=function(G){var t=0,O=this._timeline.length,_=O;if(0<O&&this._timeline[O-1].time<=G)return O-1;for(;t<_;){var f=Math.floor(t+(_-t)/2),i=this._timeline[f],l=this._timeline[f+1];if(i.time===G){for(var g=f;g<this._timeline.length;g++)this._timeline[g].time===G&&(f=g);return f}if(i.time<G&&l.time>G)return f;i.time>G?_=f:i.time<G&&(t=f+1)}return-1},V.Timeline.prototype._iterate=function(G,t,O){this._iterating=!0,t=this.defaultArg(t,0),O=this.defaultArg(O,this._timeline.length-1);for(var _=t;_<=O;_++)G(this._timeline[_]);if(this._iterating=!1,0<this._toRemove.length){for(var f=0;f<this._toRemove.length;f++){var i=this._timeline.indexOf(this._toRemove[f]);i!==-1&&this._timeline.splice(i,1)}this._toRemove=[]}},V.Timeline.prototype.forEach=function(G){return this._iterate(G),this},V.Timeline.prototype.forEachBefore=function(G,t){var O=this._search(G);return O!==-1&&this._iterate(t,0,O),this},V.Timeline.prototype.forEachAfter=function(G,t){var O=this._search(G);return this._iterate(t,O+1),this},V.Timeline.prototype.forEachFrom=function(G,t){for(var O=this._search(G);0<=O&&this._timeline[O].time>=G;)O--;return this._iterate(t,O+1),this},V.Timeline.prototype.forEachAtTime=function(G,t){var O=this._search(G);return O!==-1&&this._iterate(function(_){_.time===G&&t(_)},0,O),this},V.Timeline.prototype.dispose=function(){V.prototype.dispose.call(this),this._timeline=null,this._toRemove=null},V.Timeline}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(1),xe(2)],me=(function(V){return V.Negate=function(){this._multiply=this.input=this.output=new V.Multiply(-1)},V.extend(V.Negate,V.SignalBase),V.Negate.prototype.dispose=function(){return V.prototype.dispose.call(this),this._multiply.dispose(),this._multiply=null,this},V.Negate}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(2),xe(1),xe(6)],me=(function(V){return V.GreaterThanZero=function(){this._thresh=this.output=new V.WaveShaper(function(G){return G<=0?0:1},127),this._scale=this.input=new V.Multiply(1e4),this._scale.connect(this._thresh)},V.extend(V.GreaterThanZero,V.SignalBase),V.GreaterThanZero.prototype.dispose=function(){return V.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._thresh.dispose(),this._thresh=null,this},V.GreaterThanZero}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me,V;(function(G,t){me=[],Ae=t,V=typeof Ae=="function"?Ae.apply(Ve,me):Ae,V!==void 0&&(We.exports=V)})(this,function(){var G=function(O,_){this._dragged=!1,this._element=O,this._bindedMove=this._moved.bind(this),this._bindedEnd=this._ended.bind(this,_),O.addEventListener("touchstart",this._bindedEnd),O.addEventListener("touchmove",this._bindedMove),O.addEventListener("touchend",this._bindedEnd),O.addEventListener("mouseup",this._bindedEnd)};function t(O){return O.state==="running"}return G.prototype._moved=function(O){this._dragged=!0},G.prototype._ended=function(O){this._dragged||function(_){var f=_.createBuffer(1,1,_.sampleRate),i=_.createBufferSource();i.buffer=f,i.connect(_.destination),i.start(0),_.resume&&_.resume()}(O),this._dragged=!1},G.prototype.dispose=function(){this._element.removeEventListener("touchstart",this._bindedEnd),this._element.removeEventListener("touchmove",this._bindedMove),this._element.removeEventListener("touchend",this._bindedEnd),this._element.removeEventListener("mouseup",this._bindedEnd),this._bindedMove=null,this._bindedEnd=null,this._element=null},function(O,_,f){var i=new Promise(function(g){(function(y,n){t(y)?n():function o(){t(y)?n():(requestAnimationFrame(o),y.resume&&y.resume())}()})(O,g)}),l=[];return function g(y,n,o){if(Array.isArray(y)||NodeList&&y instanceof NodeList)for(var s=0;s<y.length;s++)g(y[s],n,o);else if(typeof y=="string")g(document.querySelectorAll(y),n,o);else if(y.jquery&&typeof y.toArray=="function")g(y.toArray(),n,o);else if(Element&&y instanceof Element){var r=new G(y,o);n.push(r)}}(_=_||document.body,l,O),i.then(function(){for(var g=0;g<l.length;g++)l[g].dispose();l=null,f&&f()}),i}})},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(2),xe(32),xe(38),xe(10)],me=(function(V){return V.CrossFade=function(G){this.createInsOuts(2,1),this.a=this.input[0]=new V.Gain,this.b=this.input[1]=new V.Gain,this.fade=new V.Signal(this.defaultArg(G,.5),V.Type.NormalRange),this._equalPowerA=new V.EqualPowerGain,this._equalPowerB=new V.EqualPowerGain,this._invert=new V.Expr("1 - $0"),this.a.connect(this.output),this.b.connect(this.output),this.fade.chain(this._equalPowerB,this.b.gain),this.fade.chain(this._invert,this._equalPowerA,this.a.gain),this._readOnly("fade")},V.extend(V.CrossFade),V.CrossFade.prototype.dispose=function(){return V.prototype.dispose.call(this),this._writable("fade"),this._equalPowerA.dispose(),this._equalPowerA=null,this._equalPowerB.dispose(),this._equalPowerB=null,this.fade.dispose(),this.fade=null,this._invert.dispose(),this._invert=null,this.a.dispose(),this.a=null,this.b.dispose(),this.b=null,this},V.CrossFade}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve){(function(){var xe,Ae=[];function me(O){var _=this,f={},i=-1;this.parameters.forEach(function(y,n){var o=Ae[++i]||(Ae[i]=new Float32Array(_.bufferSize));o.fill(y.value),f[n]=o}),this.processor.realm.exec("self.sampleRate=sampleRate="+this.context.sampleRate+";self.currentTime=currentTime="+this.context.currentTime);var l=V(O.inputBuffer),g=V(O.outputBuffer);this.instance.process([l],[g],f)}function V(O){for(var _=[],f=0;f<O.numberOfChannels;f++)_[f]=O.getChannelData(f);return _}function G(O){return O.$$processors||(O.$$processors={})}function t(O){this.$$context=O}typeof AudioWorkletNode!="function"&&(self.AudioWorkletNode=function(O,_,f){var i=G(O)[_],l=O.createScriptProcessor(void 0,2,f&&f.outputChannelCount?f.outputChannelCount[0]:2);if(l.parameters=new Map,i.properties)for(var g=0;g<i.properties.length;g++){var y=i.properties[g],n=O.createGain().gain;n.value=y.defaultValue,l.parameters.set(y.name,n)}var o=new MessageChannel;xe=o.port2;var s=new i.Processor(f||{});return xe=null,l.port=o.port1,l.processor=i,l.instance=s,l.onaudioprocess=me,l},Object.defineProperty((self.AudioContext||self.webkitAudioContext).prototype,"audioWorklet",{get:function(){return this.$$audioWorklet||(this.$$audioWorklet=new self.AudioWorklet(this))}}),self.AudioWorklet=(t.prototype.addModule=function(O,_){var f=this;return fetch(O).then(function(i){if(!i.ok)throw Error(i.status);return i.text()}).then(function(i){var l={sampleRate:0,currentTime:0,AudioWorkletProcessor:function(){this.port=xe},registerProcessor:function(y,n){G(f.$$context)[y]={realm:g,context:l,Processor:n,properties:n.parameterDescriptors||[]}}},g=new function(y,n){var o=document.createElement("iframe");o.style.cssText="position:absolute;left:0;top:-999px;width:1px;height:1px;",n.appendChild(o);var s=o.contentWindow,r=s.document,a="var window,$hook";for(var d in s)d in y||d==="eval"||(a+=",",a+=d);for(var h in y)a+=",",a+=h,a+="=self.",a+=h;var c=r.createElement("script");c.appendChild(r.createTextNode(`function $hook(self,console) {"use strict";
        `+a+";return function() {return eval(arguments[0])}}")),r.body.appendChild(c),this.exec=s.$hook(y,console)}(l.self=l,document.documentElement);return g.exec((_&&_.transpile||String)(i)),null})},t))})()},function(We,Ve){(function(){function O(_){_&&(_.setTargetAtTime||(_.setTargetAtTime=_.setTargetValueAtTime))}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=window.webkitAudioContext,typeof AudioContext.prototype.createGain!="function"&&(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),typeof AudioContext.prototype.createDelay!="function"&&(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),typeof AudioContext.prototype.createScriptProcessor!="function"&&(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),typeof AudioContext.prototype.createPeriodicWave!="function"&&(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var _=this.internal_createGain();return O(_.gain),_},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(_){var f=_?this.internal_createDelay(_):this.internal_createDelay();return O(f.delayTime),f},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var _=this.internal_createBufferSource();return _.start?(_.internal_start=_.start,_.start=function(f,i,l){typeof l<"u"?_.internal_start(f||0,i,l):_.internal_start(f||0,i||0)}):_.start=function(f,i,l){i||l?this.noteGrainOn(f||0,i,l):this.noteOn(f||0)},_.stop?(_.internal_stop=_.stop,_.stop=function(f){_.internal_stop(f||0)}):_.stop=function(f){this.noteOff(f||0)},O(_.playbackRate),_},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var _=this.internal_createDynamicsCompressor();return O(_.threshold),O(_.knee),O(_.ratio),O(_.reduction),O(_.attack),O(_.release),_},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var _=this.internal_createBiquadFilter();return O(_.frequency),O(_.detune),O(_.Q),O(_.gain),_},typeof AudioContext.prototype.createOscillator!="function"&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var _=this.internal_createOscillator();return _.start?(_.internal_start=_.start,_.start=function(f){_.internal_start(f||0)}):_.start=function(f){this.noteOn(f||0)},_.stop?(_.internal_stop=_.stop,_.stop=function(f){_.internal_stop(f||0)}):_.stop=function(f){this.noteOff(f||0)},_.setPeriodicWave||(_.setPeriodicWave=_.setWaveTable),O(_.frequency),O(_.detune),_})),window.hasOwnProperty("webkitOfflineAudioContext")&&!window.hasOwnProperty("OfflineAudioContext")&&(window.OfflineAudioContext=window.webkitOfflineAudioContext)})(),navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var xe=document.createElement("audio");p5.prototype.isSupported=function(){return!!xe.canPlayType};var Ae=function(){return!!xe.canPlayType&&xe.canPlayType('audio/ogg; codecs="vorbis"')},me=function(){return!!xe.canPlayType&&xe.canPlayType("audio/mpeg;")},V=function(){return!!xe.canPlayType&&xe.canPlayType('audio/wav; codecs="1"')},G=function(){return!!xe.canPlayType&&(xe.canPlayType("audio/x-m4a;")||xe.canPlayType("audio/aac;"))},t=function(){return!!xe.canPlayType&&xe.canPlayType("audio/x-aiff;")};p5.prototype.isFileSupported=function(O){switch(O.toLowerCase()){case"mp3":return me();case"wav":return V();case"ogg":return Ae();case"aac":case"m4a":case"mp4":return G();case"aif":case"aiff":return t();default:return!1}}},function(We,Ve){var xe;xe=function(){return this}();try{xe=xe||new Function("return this")()}catch{typeof window=="object"&&(xe=window)}We.exports=xe},function(We,Ve,xe){xe.r(Ve),Ve.default=`function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }

function isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }

function _isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

// import dependencies via preval.require so that they're available as values at compile time
var processorNames = {
  "recorderProcessor": "recorder-processor",
  "soundFileProcessor": "sound-file-processor",
  "amplitudeProcessor": "amplitude-processor"
};
var RingBuffer = {
  "default":
  /*#__PURE__*/
  function () {
    /**
     * @constructor
     * @param  {number} length Buffer length in frames.
     * @param  {number} channelCount Buffer channel count.
     */
    function RingBuffer(length, channelCount) {
      _classCallCheck(this, RingBuffer);

      this._readIndex = 0;
      this._writeIndex = 0;
      this._framesAvailable = 0;
      this._channelCount = channelCount;
      this._length = length;
      this._channelData = [];

      for (var i = 0; i < this._channelCount; ++i) {
        this._channelData[i] = new Float32Array(length);
      }
    }
    /**
     * Getter for Available frames in buffer.
     *
     * @return {number} Available frames in buffer.
     */


    _createClass(RingBuffer, [{
      key: "push",

      /**
       * Push a sequence of Float32Arrays to buffer.
       *
       * @param  {array} arraySequence A sequence of Float32Arrays.
       */
      value: function push(arraySequence) {
        // The channel count of arraySequence and the length of each channel must
        // match with this buffer obejct.
        // Transfer data from the |arraySequence| storage to the internal buffer.
        var sourceLength = arraySequence[0] ? arraySequence[0].length : 0;

        for (var i = 0; i < sourceLength; ++i) {
          var writeIndex = (this._writeIndex + i) % this._length;

          for (var channel = 0; channel < this._channelCount; ++channel) {
            this._channelData[channel][writeIndex] = arraySequence[channel][i];
          }
        }

        this._writeIndex += sourceLength;

        if (this._writeIndex >= this._length) {
          this._writeIndex = 0;
        } // For excessive frames, the buffer will be overwritten.


        this._framesAvailable += sourceLength;

        if (this._framesAvailable > this._length) {
          this._framesAvailable = this._length;
        }
      }
      /**
       * Pull data out of buffer and fill a given sequence of Float32Arrays.
       *
       * @param  {array} arraySequence An array of Float32Arrays.
       */

    }, {
      key: "pull",
      value: function pull(arraySequence) {
        // The channel count of arraySequence and the length of each channel must
        // match with this buffer obejct.
        // If the FIFO is completely empty, do nothing.
        if (this._framesAvailable === 0) {
          return;
        }

        var destinationLength = arraySequence[0].length; // Transfer data from the internal buffer to the |arraySequence| storage.

        for (var i = 0; i < destinationLength; ++i) {
          var readIndex = (this._readIndex + i) % this._length;

          for (var channel = 0; channel < this._channelCount; ++channel) {
            arraySequence[channel][i] = this._channelData[channel][readIndex];
          }
        }

        this._readIndex += destinationLength;

        if (this._readIndex >= this._length) {
          this._readIndex = 0;
        }

        this._framesAvailable -= destinationLength;

        if (this._framesAvailable < 0) {
          this._framesAvailable = 0;
        }
      }
    }, {
      key: "framesAvailable",
      get: function get() {
        return this._framesAvailable;
      }
    }]);

    return RingBuffer;
  }()
}["default"];

var RecorderProcessor =
/*#__PURE__*/
function (_AudioWorkletProcesso) {
  _inherits(RecorderProcessor, _AudioWorkletProcesso);

  function RecorderProcessor(options) {
    var _this;

    _classCallCheck(this, RecorderProcessor);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(RecorderProcessor).call(this));
    var processorOptions = options.processorOptions || {};
    _this.numOutputChannels = options.outputChannelCount || 2;
    _this.numInputChannels = processorOptions.numInputChannels || 2;
    _this.bufferSize = processorOptions.bufferSize || 1024;
    _this.recording = false;

    _this.clear();

    _this.port.onmessage = function (event) {
      var data = event.data;

      if (data.name === 'start') {
        _this.record(data.duration);
      } else if (data.name === 'stop') {
        _this.stop();
      }
    };

    return _this;
  }

  _createClass(RecorderProcessor, [{
    key: "process",
    value: function process(inputs) {
      if (!this.recording) {
        return true;
      } else if (this.sampleLimit && this.recordedSamples >= this.sampleLimit) {
        this.stop();
        return true;
      }

      var input = inputs[0];
      this.inputRingBuffer.push(input);

      if (this.inputRingBuffer.framesAvailable >= this.bufferSize) {
        this.inputRingBuffer.pull(this.inputRingBufferArraySequence);

        for (var channel = 0; channel < this.numOutputChannels; ++channel) {
          var inputChannelCopy = this.inputRingBufferArraySequence[channel].slice();

          if (channel === 0) {
            this.leftBuffers.push(inputChannelCopy);

            if (this.numInputChannels === 1) {
              this.rightBuffers.push(inputChannelCopy);
            }
          } else if (channel === 1 && this.numInputChannels > 1) {
            this.rightBuffers.push(inputChannelCopy);
          }
        }

        this.recordedSamples += this.bufferSize;
      }

      return true;
    }
  }, {
    key: "record",
    value: function record(duration) {
      if (duration) {
        this.sampleLimit = Math.round(duration * sampleRate);
      }

      this.recording = true;
    }
  }, {
    key: "stop",
    value: function stop() {
      this.recording = false;
      var buffers = this.getBuffers();
      var leftBuffer = buffers[0].buffer;
      var rightBuffer = buffers[1].buffer;
      this.port.postMessage({
        name: 'buffers',
        leftBuffer: leftBuffer,
        rightBuffer: rightBuffer
      }, [leftBuffer, rightBuffer]);
      this.clear();
    }
  }, {
    key: "getBuffers",
    value: function getBuffers() {
      var buffers = [];
      buffers.push(this.mergeBuffers(this.leftBuffers));
      buffers.push(this.mergeBuffers(this.rightBuffers));
      return buffers;
    }
  }, {
    key: "mergeBuffers",
    value: function mergeBuffers(channelBuffer) {
      var result = new Float32Array(this.recordedSamples);
      var offset = 0;
      var lng = channelBuffer.length;

      for (var i = 0; i < lng; i++) {
        var buffer = channelBuffer[i];
        result.set(buffer, offset);
        offset += buffer.length;
      }

      return result;
    }
  }, {
    key: "clear",
    value: function clear() {
      var _this2 = this;

      this.leftBuffers = [];
      this.rightBuffers = [];
      this.inputRingBuffer = new RingBuffer(this.bufferSize, this.numInputChannels);
      this.inputRingBufferArraySequence = new Array(this.numInputChannels).fill(null).map(function () {
        return new Float32Array(_this2.bufferSize);
      });
      this.recordedSamples = 0;
      this.sampleLimit = null;
    }
  }]);

  return RecorderProcessor;
}(_wrapNativeSuper(AudioWorkletProcessor));

registerProcessor(processorNames.recorderProcessor, RecorderProcessor);`},function(We,Ve,xe){xe.r(Ve),Ve.default=`function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }

function isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }

function _isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

// import dependencies via preval.require so that they're available as values at compile time
var processorNames = {
  "recorderProcessor": "recorder-processor",
  "soundFileProcessor": "sound-file-processor",
  "amplitudeProcessor": "amplitude-processor"
};
var RingBuffer = {
  "default":
  /*#__PURE__*/
  function () {
    /**
     * @constructor
     * @param  {number} length Buffer length in frames.
     * @param  {number} channelCount Buffer channel count.
     */
    function RingBuffer(length, channelCount) {
      _classCallCheck(this, RingBuffer);

      this._readIndex = 0;
      this._writeIndex = 0;
      this._framesAvailable = 0;
      this._channelCount = channelCount;
      this._length = length;
      this._channelData = [];

      for (var i = 0; i < this._channelCount; ++i) {
        this._channelData[i] = new Float32Array(length);
      }
    }
    /**
     * Getter for Available frames in buffer.
     *
     * @return {number} Available frames in buffer.
     */


    _createClass(RingBuffer, [{
      key: "push",

      /**
       * Push a sequence of Float32Arrays to buffer.
       *
       * @param  {array} arraySequence A sequence of Float32Arrays.
       */
      value: function push(arraySequence) {
        // The channel count of arraySequence and the length of each channel must
        // match with this buffer obejct.
        // Transfer data from the |arraySequence| storage to the internal buffer.
        var sourceLength = arraySequence[0] ? arraySequence[0].length : 0;

        for (var i = 0; i < sourceLength; ++i) {
          var writeIndex = (this._writeIndex + i) % this._length;

          for (var channel = 0; channel < this._channelCount; ++channel) {
            this._channelData[channel][writeIndex] = arraySequence[channel][i];
          }
        }

        this._writeIndex += sourceLength;

        if (this._writeIndex >= this._length) {
          this._writeIndex = 0;
        } // For excessive frames, the buffer will be overwritten.


        this._framesAvailable += sourceLength;

        if (this._framesAvailable > this._length) {
          this._framesAvailable = this._length;
        }
      }
      /**
       * Pull data out of buffer and fill a given sequence of Float32Arrays.
       *
       * @param  {array} arraySequence An array of Float32Arrays.
       */

    }, {
      key: "pull",
      value: function pull(arraySequence) {
        // The channel count of arraySequence and the length of each channel must
        // match with this buffer obejct.
        // If the FIFO is completely empty, do nothing.
        if (this._framesAvailable === 0) {
          return;
        }

        var destinationLength = arraySequence[0].length; // Transfer data from the internal buffer to the |arraySequence| storage.

        for (var i = 0; i < destinationLength; ++i) {
          var readIndex = (this._readIndex + i) % this._length;

          for (var channel = 0; channel < this._channelCount; ++channel) {
            arraySequence[channel][i] = this._channelData[channel][readIndex];
          }
        }

        this._readIndex += destinationLength;

        if (this._readIndex >= this._length) {
          this._readIndex = 0;
        }

        this._framesAvailable -= destinationLength;

        if (this._framesAvailable < 0) {
          this._framesAvailable = 0;
        }
      }
    }, {
      key: "framesAvailable",
      get: function get() {
        return this._framesAvailable;
      }
    }]);

    return RingBuffer;
  }()
}["default"];

var SoundFileProcessor =
/*#__PURE__*/
function (_AudioWorkletProcesso) {
  _inherits(SoundFileProcessor, _AudioWorkletProcesso);

  function SoundFileProcessor(options) {
    var _this;

    _classCallCheck(this, SoundFileProcessor);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(SoundFileProcessor).call(this));
    var processorOptions = options.processorOptions || {};
    _this.bufferSize = processorOptions.bufferSize || 256;
    _this.inputRingBuffer = new RingBuffer(_this.bufferSize, 1);
    _this.inputRingBufferArraySequence = [new Float32Array(_this.bufferSize)];
    return _this;
  }

  _createClass(SoundFileProcessor, [{
    key: "process",
    value: function process(inputs) {
      var input = inputs[0]; // we only care about the first input channel, because that contains the position data

      this.inputRingBuffer.push([input[0]]);

      if (this.inputRingBuffer.framesAvailable >= this.bufferSize) {
        this.inputRingBuffer.pull(this.inputRingBufferArraySequence);
        var inputChannel = this.inputRingBufferArraySequence[0];
        var position = inputChannel[inputChannel.length - 1] || 0;
        this.port.postMessage({
          name: 'position',
          position: position
        });
      }

      return true;
    }
  }]);

  return SoundFileProcessor;
}(_wrapNativeSuper(AudioWorkletProcessor));

registerProcessor(processorNames.soundFileProcessor, SoundFileProcessor);`},function(We,Ve,xe){xe.r(Ve),Ve.default=`function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }

function isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }

function _isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

// import dependencies via preval.require so that they're available as values at compile time
var processorNames = {
  "recorderProcessor": "recorder-processor",
  "soundFileProcessor": "sound-file-processor",
  "amplitudeProcessor": "amplitude-processor"
};
var RingBuffer = {
  "default":
  /*#__PURE__*/
  function () {
    /**
     * @constructor
     * @param  {number} length Buffer length in frames.
     * @param  {number} channelCount Buffer channel count.
     */
    function RingBuffer(length, channelCount) {
      _classCallCheck(this, RingBuffer);

      this._readIndex = 0;
      this._writeIndex = 0;
      this._framesAvailable = 0;
      this._channelCount = channelCount;
      this._length = length;
      this._channelData = [];

      for (var i = 0; i < this._channelCount; ++i) {
        this._channelData[i] = new Float32Array(length);
      }
    }
    /**
     * Getter for Available frames in buffer.
     *
     * @return {number} Available frames in buffer.
     */


    _createClass(RingBuffer, [{
      key: "push",

      /**
       * Push a sequence of Float32Arrays to buffer.
       *
       * @param  {array} arraySequence A sequence of Float32Arrays.
       */
      value: function push(arraySequence) {
        // The channel count of arraySequence and the length of each channel must
        // match with this buffer obejct.
        // Transfer data from the |arraySequence| storage to the internal buffer.
        var sourceLength = arraySequence[0] ? arraySequence[0].length : 0;

        for (var i = 0; i < sourceLength; ++i) {
          var writeIndex = (this._writeIndex + i) % this._length;

          for (var channel = 0; channel < this._channelCount; ++channel) {
            this._channelData[channel][writeIndex] = arraySequence[channel][i];
          }
        }

        this._writeIndex += sourceLength;

        if (this._writeIndex >= this._length) {
          this._writeIndex = 0;
        } // For excessive frames, the buffer will be overwritten.


        this._framesAvailable += sourceLength;

        if (this._framesAvailable > this._length) {
          this._framesAvailable = this._length;
        }
      }
      /**
       * Pull data out of buffer and fill a given sequence of Float32Arrays.
       *
       * @param  {array} arraySequence An array of Float32Arrays.
       */

    }, {
      key: "pull",
      value: function pull(arraySequence) {
        // The channel count of arraySequence and the length of each channel must
        // match with this buffer obejct.
        // If the FIFO is completely empty, do nothing.
        if (this._framesAvailable === 0) {
          return;
        }

        var destinationLength = arraySequence[0].length; // Transfer data from the internal buffer to the |arraySequence| storage.

        for (var i = 0; i < destinationLength; ++i) {
          var readIndex = (this._readIndex + i) % this._length;

          for (var channel = 0; channel < this._channelCount; ++channel) {
            arraySequence[channel][i] = this._channelData[channel][readIndex];
          }
        }

        this._readIndex += destinationLength;

        if (this._readIndex >= this._length) {
          this._readIndex = 0;
        }

        this._framesAvailable -= destinationLength;

        if (this._framesAvailable < 0) {
          this._framesAvailable = 0;
        }
      }
    }, {
      key: "framesAvailable",
      get: function get() {
        return this._framesAvailable;
      }
    }]);

    return RingBuffer;
  }()
}["default"];

var AmplitudeProcessor =
/*#__PURE__*/
function (_AudioWorkletProcesso) {
  _inherits(AmplitudeProcessor, _AudioWorkletProcesso);

  function AmplitudeProcessor(options) {
    var _this;

    _classCallCheck(this, AmplitudeProcessor);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(AmplitudeProcessor).call(this));
    var processorOptions = options.processorOptions || {};
    _this.numOutputChannels = options.outputChannelCount || 1;
    _this.numInputChannels = processorOptions.numInputChannels || 2;
    _this.normalize = processorOptions.normalize || false;
    _this.smoothing = processorOptions.smoothing || 0;
    _this.bufferSize = processorOptions.bufferSize || 2048;
    _this.inputRingBuffer = new RingBuffer(_this.bufferSize, _this.numInputChannels);
    _this.outputRingBuffer = new RingBuffer(_this.bufferSize, _this.numOutputChannels);
    _this.inputRingBufferArraySequence = new Array(_this.numInputChannels).fill(null).map(function () {
      return new Float32Array(_this.bufferSize);
    });
    _this.stereoVol = [0, 0];
    _this.stereoVolNorm = [0, 0];
    _this.volMax = 0.001;

    _this.port.onmessage = function (event) {
      var data = event.data;

      if (data.name === 'toggleNormalize') {
        _this.normalize = data.normalize;
      } else if (data.name === 'smoothing') {
        _this.smoothing = Math.max(0, Math.min(1, data.smoothing));
      }
    };

    return _this;
  } // TO DO make this stereo / dependent on # of audio channels


  _createClass(AmplitudeProcessor, [{
    key: "process",
    value: function process(inputs, outputs) {
      var input = inputs[0];
      var output = outputs[0];
      var smoothing = this.smoothing;
      this.inputRingBuffer.push(input);

      if (this.inputRingBuffer.framesAvailable >= this.bufferSize) {
        this.inputRingBuffer.pull(this.inputRingBufferArraySequence);

        for (var channel = 0; channel < this.numInputChannels; ++channel) {
          var inputBuffer = this.inputRingBufferArraySequence[channel];
          var bufLength = inputBuffer.length;
          var sum = 0;

          for (var i = 0; i < bufLength; i++) {
            var x = inputBuffer[i];

            if (this.normalize) {
              sum += Math.max(Math.min(x / this.volMax, 1), -1) * Math.max(Math.min(x / this.volMax, 1), -1);
            } else {
              sum += x * x;
            }
          } // ... then take the square root of the sum.


          var rms = Math.sqrt(sum / bufLength);
          this.stereoVol[channel] = Math.max(rms, this.stereoVol[channel] * smoothing);
          this.volMax = Math.max(this.stereoVol[channel], this.volMax);
        } // calculate stero normalized volume and add volume from all channels together


        var volSum = 0;

        for (var index = 0; index < this.stereoVol.length; index++) {
          this.stereoVolNorm[index] = Math.max(Math.min(this.stereoVol[index] / this.volMax, 1), 0);
          volSum += this.stereoVol[index];
        } // volume is average of channels


        var volume = volSum / this.stereoVol.length; // normalized value

        var volNorm = Math.max(Math.min(volume / this.volMax, 1), 0);
        this.port.postMessage({
          name: 'amplitude',
          volume: volume,
          volNorm: volNorm,
          stereoVol: this.stereoVol,
          stereoVolNorm: this.stereoVolNorm
        }); // pass input through to output

        this.outputRingBuffer.push(this.inputRingBufferArraySequence);
      } // pull 128 frames out of the ring buffer
      // if the ring buffer does not have enough frames, the output will be silent


      this.outputRingBuffer.pull(output);
      return true;
    }
  }]);

  return AmplitudeProcessor;
}(_wrapNativeSuper(AudioWorkletProcessor));

registerProcessor(processorNames.amplitudeProcessor, AmplitudeProcessor);`},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(17)],me=(function(V){V.Frequency=function(O,_){if(!(this instanceof V.Frequency))return new V.Frequency(O,_);V.TimeBase.call(this,O,_)},V.extend(V.Frequency,V.TimeBase),V.Frequency.prototype._primaryExpressions=Object.create(V.TimeBase.prototype._primaryExpressions),V.Frequency.prototype._primaryExpressions.midi={regexp:/^(\d+(?:\.\d+)?midi)/,method:function(O){return this.midiToFrequency(O)}},V.Frequency.prototype._primaryExpressions.note={regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method:function(O,_){var f=G[O.toLowerCase()]+12*(parseInt(_)+1);return this.midiToFrequency(f)}},V.Frequency.prototype._primaryExpressions.tr={regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method:function(O,_,f){var i=1;return O&&O!=="0"&&(i*=this._beatsToUnits(this._timeSignature()*parseFloat(O))),_&&_!=="0"&&(i*=this._beatsToUnits(parseFloat(_))),f&&f!=="0"&&(i*=this._beatsToUnits(parseFloat(f)/4)),i}},V.Frequency.prototype.transpose=function(O){return this._expr=(function(_,f){return _()*this.intervalToFrequencyRatio(f)}).bind(this,this._expr,O),this},V.Frequency.prototype.harmonize=function(O){return this._expr=(function(_,f){for(var i=_(),l=[],g=0;g<f.length;g++)l[g]=i*this.intervalToFrequencyRatio(f[g]);return l}).bind(this,this._expr,O),this},V.Frequency.prototype.toMidi=function(){return this.frequencyToMidi(this.valueOf())},V.Frequency.prototype.toNote=function(){var O=this.valueOf(),_=Math.log(O/V.Frequency.A4)/Math.LN2,f=Math.round(12*_)+57,i=Math.floor(f/12);return i<0&&(f+=-12*i),t[f%12]+i.toString()},V.Frequency.prototype.toSeconds=function(){return 1/this.valueOf()},V.Frequency.prototype.toFrequency=function(){return this.valueOf()},V.Frequency.prototype.toTicks=function(){var O=this._beatsToUnits(1),_=this.valueOf()/O;return Math.floor(_*V.Transport.PPQ)},V.Frequency.prototype._frequencyToUnits=function(O){return O},V.Frequency.prototype._ticksToUnits=function(O){return 1/(60*O/(V.Transport.bpm.value*V.Transport.PPQ))},V.Frequency.prototype._beatsToUnits=function(O){return 1/V.TimeBase.prototype._beatsToUnits.call(this,O)},V.Frequency.prototype._secondsToUnits=function(O){return 1/O},V.Frequency.prototype._defaultUnits="hz";var G={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},t=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return V.Frequency.A4=440,V.Frequency.prototype.midiToFrequency=function(O){return V.Frequency.A4*Math.pow(2,(O-69)/12)},V.Frequency.prototype.frequencyToMidi=function(O){return 69+12*Math.log(O/V.Frequency.A4)/Math.LN2},V.Frequency}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(16)],me=(function(V){return V.TransportTime=function(G,t){if(!(this instanceof V.TransportTime))return new V.TransportTime(G,t);V.Time.call(this,G,t)},V.extend(V.TransportTime,V.Time),V.TransportTime.prototype._unaryExpressions=Object.create(V.Time.prototype._unaryExpressions),V.TransportTime.prototype._unaryExpressions.quantize={regexp:/^@/,method:function(G){var t=this._secondsToTicks(G()),O=Math.ceil(V.Transport.ticks/t);return this._ticksToUnits(O*t)}},V.TransportTime.prototype._secondsToTicks=function(G){var t=G/this._beatsToUnits(1);return Math.round(t*V.Transport.PPQ)},V.TransportTime.prototype.valueOf=function(){return this._secondsToTicks(this._expr())+(this._plusNow?V.Transport.ticks:0)},V.TransportTime.prototype.toTicks=function(){return this.valueOf()},V.TransportTime.prototype.toSeconds=function(){return this._expr()+(this._plusNow?V.Transport.seconds:0)},V.TransportTime.prototype.toFrequency=function(){return 1/this.toSeconds()},V.TransportTime}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(4),xe(13),xe(1),xe(33),xe(21),xe(34),xe(20),xe(35),xe(36),xe(37)],me=(function(V){function G(f,i,l){var g=new f;return l._eval(i[0]).connect(g,0,0),l._eval(i[1]).connect(g,0,1),g}function t(f,i,l){var g=new f;return l._eval(i[0]).connect(g,0,0),g}function O(f){return f?parseFloat(f):void 0}function _(f){return f&&f.args?parseFloat(f.args):void 0}return V.Expr=function(){var f=this._replacements(Array.prototype.slice.call(arguments)),i=this._parseInputs(f);this._nodes=[],this.input=new Array(i);for(var l=0;l<i;l++)this.input[l]=this.context.createGain();var g,y=this._parseTree(f);try{g=this._eval(y)}catch{throw this._disposeNodes(),new Error("Tone.Expr: Could evaluate expression: "+f)}this.output=g},V.extend(V.Expr,V.SignalBase),V.Expr._Expressions={value:{signal:{regexp:/^\d+\.\d+|^\d+/,method:function(f){return new V.Signal(O(f))}},input:{regexp:/^\$\d/,method:function(f,i){return i.input[O(f.substr(1))]}}},glue:{"(":{regexp:/^\(/},")":{regexp:/^\)/},",":{regexp:/^,/}},func:{abs:{regexp:/^abs/,method:t.bind(this,V.Abs)},mod:{regexp:/^mod/,method:function(f,i){var l=_(f[1]),g=new V.Modulo(l);return i._eval(f[0]).connect(g),g}},pow:{regexp:/^pow/,method:function(f,i){var l=_(f[1]),g=new V.Pow(l);return i._eval(f[0]).connect(g),g}},a2g:{regexp:/^a2g/,method:function(f,i){var l=new V.AudioToGain;return i._eval(f[0]).connect(l),l}}},binary:{"+":{regexp:/^\+/,precedence:1,method:G.bind(this,V.Add)},"-":{regexp:/^\-/,precedence:1,method:function(f,i){return f.length===1?t(V.Negate,f,i):G(V.Subtract,f,i)}},"*":{regexp:/^\*/,precedence:0,method:G.bind(this,V.Multiply)}},unary:{"-":{regexp:/^\-/,method:t.bind(this,V.Negate)},"!":{regexp:/^\!/,method:t.bind(this,V.NOT)}}},V.Expr.prototype._parseInputs=function(f){var i=f.match(/\$\d/g),l=0;if(i!==null)for(var g=0;g<i.length;g++){var y=parseInt(i[g].substr(1))+1;l=Math.max(l,y)}return l},V.Expr.prototype._replacements=function(f){for(var i=f.shift(),l=0;l<f.length;l++)i=i.replace(/\%/i,f[l]);return i},V.Expr.prototype._tokenize=function(f){for(var i=-1,l=[];0<f.length;){var g=y(f=f.trim());l.push(g),f=f.substr(g.value.length)}function y(n){for(var o in V.Expr._Expressions){var s=V.Expr._Expressions[o];for(var r in s){var a=s[r],d=a.regexp,h=n.match(d);if(h!==null)return{type:o,value:h[0],method:a.method}}}throw new SyntaxError("Tone.Expr: Unexpected token "+n)}return{next:function(){return l[++i]},peek:function(){return l[i+1]}}},V.Expr.prototype._parseTree=function(f){var i=this._tokenize(f),l=this.isUndef.bind(this);function g(s,r){return!l(s)&&s.type==="glue"&&s.value===r}function y(s,r,a){var d=V.Expr._Expressions[r];if(!l(s))for(var h in d){var c=d[h];if(c.regexp.test(s.value)&&(l(a)||c.precedence===a))return!0}return!1}function n(s){var r;l(s)&&(s=5),r=s<0?function d(){var h,c;return h=i.peek(),y(h,"unary")?(h=i.next(),c=d(),{operator:h.value,method:h.method,args:[c]}):o()}():n(s-1);for(var a=i.peek();y(a,"binary",s);)r={operator:(a=i.next()).value,method:a.method,args:[r,n(s-1)]},a=i.peek();return r}function o(){var s,r;if(s=i.peek(),l(s))throw new SyntaxError("Tone.Expr: Unexpected termination of expression");if(s.type==="func")return function(a){var d=[];if(!g(i.next(),"("))throw new SyntaxError('Tone.Expr: Expected ( in a function call "'+a.value+'"');if(g(i.peek(),")")||(d=function(){for(var h,c=[];h=n(),!l(h)&&(c.push(h),g(i.peek(),","));)i.next();return c}()),g(i.next(),")"))return{method:a.method,args:d,name};throw new SyntaxError('Tone.Expr: Expected ) in a function call "'+a.value+'"')}(s=i.next());if(s.type==="value")return{method:(s=i.next()).method,args:s.value};if(g(s,"(")){if(i.next(),r=n(),!g(s=i.next(),")"))throw new SyntaxError("Expected )");return r}throw new SyntaxError("Tone.Expr: Parse error, cannot process token "+s.value)}return n()},V.Expr.prototype._eval=function(f){if(!this.isUndef(f)){var i=f.method(f.args,this);return this._nodes.push(i),i}},V.Expr.prototype._disposeNodes=function(){for(var f=0;f<this._nodes.length;f++){var i=this._nodes[f];this.isFunction(i.dispose)?i.dispose():this.isFunction(i.disconnect)&&i.disconnect(),i=null,this._nodes[f]=null}this._nodes=null},V.Expr.prototype.dispose=function(){V.prototype.dispose.call(this),this._disposeNodes()},V.Expr}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(21),xe(13),xe(2)],me=(function(V){return V.GreaterThan=function(G){this.createInsOuts(2,0),this._param=this.input[0]=new V.Subtract(G),this.input[1]=this._param.input[1],this._gtz=this.output=new V.GreaterThanZero,this._param.connect(this._gtz)},V.extend(V.GreaterThan,V.Signal),V.GreaterThan.prototype.dispose=function(){return V.prototype.dispose.call(this),this._param.dispose(),this._param=null,this._gtz.dispose(),this._gtz=null,this},V.GreaterThan}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(6),xe(15)],me=(function(V){return V.Abs=function(){this._abs=this.input=this.output=new V.WaveShaper(function(G){return G===0?0:Math.abs(G)},127)},V.extend(V.Abs,V.SignalBase),V.Abs.prototype.dispose=function(){return V.prototype.dispose.call(this),this._abs.dispose(),this._abs=null,this},V.Abs}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(6),xe(1),xe(13)],me=(function(V){return V.Modulo=function(G){this.createInsOuts(1,0),this._shaper=new V.WaveShaper(Math.pow(2,16)),this._multiply=new V.Multiply,this._subtract=this.output=new V.Subtract,this._modSignal=new V.Signal(G),this.input.fan(this._shaper,this._subtract),this._modSignal.connect(this._multiply,0,0),this._shaper.connect(this._multiply,0,1),this._multiply.connect(this._subtract,0,1),this._setWaveShaper(G)},V.extend(V.Modulo,V.SignalBase),V.Modulo.prototype._setWaveShaper=function(G){this._shaper.setMap(function(t){return Math.floor((t+1e-4)/G)})},Object.defineProperty(V.Modulo.prototype,"value",{get:function(){return this._modSignal.value},set:function(G){this._modSignal.value=G,this._setWaveShaper(G)}}),V.Modulo.prototype.dispose=function(){return V.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this._multiply.dispose(),this._multiply=null,this._subtract.dispose(),this._subtract=null,this._modSignal.dispose(),this._modSignal=null,this},V.Modulo}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(6)],me=(function(V){return V.Pow=function(G){this._exp=this.defaultArg(G,1),this._expScaler=this.input=this.output=new V.WaveShaper(this._expFunc(this._exp),8192)},V.extend(V.Pow,V.SignalBase),Object.defineProperty(V.Pow.prototype,"value",{get:function(){return this._exp},set:function(G){this._exp=G,this._expScaler.setMap(this._expFunc(this._exp))}}),V.Pow.prototype._expFunc=function(G){return function(t){return Math.pow(Math.abs(t),G)}},V.Pow.prototype.dispose=function(){return V.prototype.dispose.call(this),this._expScaler.dispose(),this._expScaler=null,this},V.Pow}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(6),xe(2)],me=(function(V){return V.AudioToGain=function(){this._norm=this.input=this.output=new V.WaveShaper(function(G){return(G+1)/2})},V.extend(V.AudioToGain,V.SignalBase),V.AudioToGain.prototype.dispose=function(){return V.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},V.AudioToGain}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(6)],me=(function(V){return V.EqualPowerGain=function(){this._eqPower=this.input=this.output=new V.WaveShaper((function(G){return Math.abs(G)<.001?0:this.equalPowerScale(G)}).bind(this),4096)},V.extend(V.EqualPowerGain,V.SignalBase),V.EqualPowerGain.prototype.dispose=function(){return V.prototype.dispose.call(this),this._eqPower.dispose(),this._eqPower=null,this},V.EqualPowerGain}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){var Ae,me;Ae=[xe(0),xe(19),xe(9)],me=(function(V){return V.TimelineState=function(G){V.Timeline.call(this),this._initial=G},V.extend(V.TimelineState,V.Timeline),V.TimelineState.prototype.getValueAtTime=function(G){var t=this.get(G);return t!==null?t.state:this._initial},V.TimelineState.prototype.setStateAtTime=function(G,t){this.add({state:G,time:t})},V.TimelineState}).apply(Ve,Ae),me!==void 0&&(We.exports=me)},function(We,Ve,xe){xe.r(Ve),xe(24),xe(25);var Ae=xe(3);function me(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}var V=function I(){me(this,I),this.input=Ae.a.createGain(),this.output=Ae.a.createGain(),this.limiter=Ae.a.createDynamicsCompressor(),this.limiter.threshold.value=-3,this.limiter.ratio.value=20,this.limiter.knee.value=1,this.audiocontext=Ae.a,this.output.disconnect(),this.input.connect(this.limiter),this.limiter.connect(this.output),this.meter=Ae.a.createGain(),this.fftMeter=Ae.a.createGain(),this.output.connect(this.meter),this.output.connect(this.fftMeter),this.output.connect(this.audiocontext.destination),this.soundArray=[],this.parts=[],this.extensions=[]},G=new V;p5.prototype.getOutputVolume=function(){return G.output.gain.value},p5.prototype.outputVolume=function(I){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(typeof I=="number"){var k=G.audiocontext.currentTime,W=G.output.gain.value;G.output.gain.cancelScheduledValues(k+w),G.output.gain.linearRampToValueAtTime(W,k+w),G.output.gain.linearRampToValueAtTime(I,k+w+E)}else if(I)I.connect(G.output.gain);else return G.output.gain},p5.prototype.soundOut=p5.soundOut=G,p5.soundOut._silentNode=G.audiocontext.createGain(),p5.soundOut._silentNode.gain.value=0,p5.soundOut._silentNode.connect(G.audiocontext.destination);var t=G,O=xe(5),_=xe.n(O);function f(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(w){return typeof w}:f=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},f(I)}function i(){return t.audiocontext.sampleRate}function l(I){var E=Math.log(I/440)/Math.log(2),w=Math.round(12*E)+69;return w}function g(I){return 440*Math.pow(2,(I-69)/12)}function y(I){if(typeof I!="string")return I;var E={A:21,B:23,C:24,D:26,E:28,F:29,G:31},w=E[I[0].toUpperCase()],k=~~I.slice(-1);switch(w+=12*(k-1),I[1]){case"#":w+=1;break;case"b":w-=1;break}return g(w)}function n(){t.extensions=[];for(var I=0;I<arguments.length;I++)if(arguments[I]=arguments[I].toLowerCase(),["mp3","wav","ogg","m4a","aac"].indexOf(arguments[I])>-1)t.extensions.push(arguments[I]);else throw arguments[I]+" is not a valid sound format!"}function o(){for(var I=0;I<t.soundArray.length;I++)t.soundArray[I].dispose()}function s(I){var E;if(typeof I=="string"){E=I;var w=E.split(".").pop();if(["mp3","wav","ogg","m4a","aac"].indexOf(w)>-1){if(!p5.prototype.isFileSupported(w))for(var k=E.split("."),W=k[k.length-1],J=0;J<t.extensions.length;J++){var je=t.extensions[J],Pe=p5.prototype.isFileSupported(je);if(Pe){W="",k.length===2&&(W+=k[0]);for(var Ne=1;Ne<=k.length-2;Ne++){var ht=k[Ne];W+="."+ht}E=W+=".",E=E+=je;break}}}else for(var pt=0;pt<t.extensions.length;pt++){var Ft=t.extensions[pt],vr=p5.prototype.isFileSupported(Ft);if(vr){E=E+"."+Ft;break}}}else if(f(I)==="object")for(var ar=0;ar<I.length;ar++){var dr=I[ar].split(".").pop(),kr=p5.prototype.isFileSupported(dr);if(kr){E=I[ar];break}}return E}function r(I,E,w,k,W){for(var J in I.mathOps)I.mathOps[J]instanceof W&&(I.mathOps[J].dispose(),w=J,w<I.mathOps.length-1&&(k=I.mathOps[J+1]));return I.mathOps[w-1].disconnect(),I.mathOps[w-1].connect(E),E.connect(k),I.mathOps[w]=E,I}function a(I){var E,w;E=I.getChannelData(0),I.numberOfChannels>1?w=I.getChannelData(1):w=E;var k=d(E,w),W=new window.ArrayBuffer(44+k.length*2),J=new window.DataView(W);h(J,0,"RIFF"),J.setUint32(4,36+k.length*2,!0),h(J,8,"WAVE"),h(J,12,"fmt "),J.setUint32(16,16,!0),J.setUint16(20,1,!0),J.setUint16(22,2,!0),J.setUint32(24,t.audiocontext.sampleRate,!0),J.setUint32(28,t.audiocontext.sampleRate*4,!0),J.setUint16(32,4,!0),J.setUint16(34,16,!0),h(J,36,"data"),J.setUint32(40,k.length*2,!0);for(var je=k.length,Pe=44,Ne=1,ht=0;ht<je;ht++)J.setInt16(Pe,k[ht]*(32767*Ne),!0),Pe+=2;return J}function d(I,E){for(var w=I.length+E.length,k=new Float32Array(w),W=0,J=0;J<w;)k[J++]=I[W],k[J++]=E[W],W++;return k}function h(I,E,w){for(var k=w.length,W=0;W<k;W++)I.setUint8(E+W,w.charCodeAt(W))}function c(I){var E=I,w=new AudioWorkletNode(t.audiocontext,_.a.soundFileProcessor);return w instanceof ScriptProcessorNode&&(E=w.bufferSize),w.disconnect(),w=null,E}function p(I,E){var w=a(I.buffer);p5.prototype.writeFile([w],E,"wav")}var m=function(E,w,k){var W=new Error,J,je;return W.name=E,W.originalStack=W.stack+w,J=W.stack+w,W.failedPath=k,je=J.split(`
`).filter(function(Pe){return!Pe.match(/(p5.|native code|globalInit)/g)}),W.stack=je.join(`
`),W},b=m,A=[xe(27).default,xe(28).default,xe(29).default],T=t.audiocontext,x=!1;function R(){return Promise.all(A.map(function(I){var E=new Blob([I],{type:"application/javascript"}),w=URL.createObjectURL(E);return T.audioWorklet.addModule(w)}))}p5.prototype.registerMethod("init",function(){if(!x){!this.preload&&!window.preload&&(this.preload=function(){}),this._incrementPreload();var I=(function(){x=!0,this._decrementPreload()}).bind(this);R().then(I)}});function S(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function C(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function D(I,E,w){return E&&C(I.prototype,E),I}var N=t.audiocontext,F;if(typeof N.createStereoPanner<"u"){var M=function(){function I(E,w){S(this,I),this.stereoPanner=this.input=N.createStereoPanner(),E.connect(this.stereoPanner),this.stereoPanner.connect(w)}return D(I,[{key:"pan",value:function(w,k){var W=k||0,J=N.currentTime+W;this.stereoPanner.pan.linearRampToValueAtTime(w,J)}},{key:"inputChannels",value:function(){}},{key:"connect",value:function(w){this.stereoPanner.connect(w)}},{key:"disconnect",value:function(){this.stereoPanner&&this.stereoPanner.disconnect()}}]),I}();F=M}else{var L=function(){function I(E,w,k){S(this,I),this.input=N.createGain(),E.connect(this.input),this.left=N.createGain(),this.right=N.createGain(),this.left.channelInterpretation="discrete",this.right.channelInterpretation="discrete",k>1?(this.splitter=N.createChannelSplitter(2),this.input.connect(this.splitter),this.splitter.connect(this.left,1),this.splitter.connect(this.right,0)):(this.input.connect(this.left),this.input.connect(this.right)),this.output=N.createChannelMerger(2),this.left.connect(this.output,0,1),this.right.connect(this.output,0,0),this.output.connect(w)}return D(I,[{key:"pan",value:function(w,k){var W=k||0,J=N.currentTime+W,je=(w+1)/2,Pe=Math.cos(je*Math.PI/2),Ne=Math.sin(je*Math.PI/2);this.left.gain.linearRampToValueAtTime(Ne,J),this.right.gain.linearRampToValueAtTime(Pe,J)}},{key:"inputChannels",value:function(w){w===1?(this.input.disconnect(),this.input.connect(this.left),this.input.connect(this.right)):w===2&&(typeof this.splitter>"u"&&(this.splitter=N.createChannelSplitter(2)),this.input.disconnect(),this.input.connect(this.splitter),this.splitter.connect(this.left,1),this.splitter.connect(this.right,0))}},{key:"connect",value:function(w){this.output.connect(w)}},{key:"disconnect",value:function(){this.output&&this.output.disconnect()}}]),I}();F=L}var z=F;function Y(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Y=function(w){return typeof w}:Y=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},Y(I)}function Z(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function ee(I,E,w){return E&&Z(I.prototype,E),I}function te(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}var oe=t.audiocontext,U=function(E){for(var w=E.length,k=oe.createBuffer(1,E.length,oe.sampleRate),W=k.getChannelData(0),J=0;J<w;J++)W[J]=J;return k},q=function I(E,w,k,W){te(this,I),this.callback=E,this.time=w,this.id=k,this.val=W};function K(I){var E=I.target,w=this;E._playing=!1,E.removeEventListener("ended",w._clearOnEnd),w._onended(w),w.bufferSourceNodes.map(function(k,W){return W}).reverse().forEach(function(k){var W=w.bufferSourceNodes[k];W._playing===!1&&w.bufferSourceNodes.splice(k,1)}),w.bufferSourceNodes.length===0&&(w._playing=!1)}var se=function(){function I(E,w,k,W){if(te(this,I),typeof E<"u"){if(typeof E=="string"||typeof E[0]=="string"){var J=p5.prototype._checkFileFormats(E);this.url=J}else if(Y(E)==="object"&&!(window.File&&window.FileReader&&window.FileList&&window.Blob))throw"Unable to load file because the File API is not supported";E.file&&(E=E.file),this.file=E}this._onended=function(){},this._looping=!1,this._playing=!1,this._paused=!1,this._pauseTime=0,this._cues=[],this._cueIDCounter=0,this._lastPos=0,this._counterNode=null,this._workletNode=null,this.bufferSourceNodes=[],this.bufferSourceNode=null,this.buffer=null,this.playbackRate=1,this.input=t.audiocontext.createGain(),this.output=t.audiocontext.createGain(),this.reversed=!1,this.startTime=0,this.endTime=null,this.pauseTime=0,this.mode="sustain",this.startMillis=null,this.panPosition=0,this.panner=new z(this.output,t.input,2),(this.url||this.file)&&this.load(w,k),t.soundArray.push(this),typeof W=="function"?this._whileLoading=W:this._whileLoading=function(){},this._clearOnEnd=K.bind(this),this.amp=this.setVolume,this.fade=this.setVolume}return ee(I,[{key:"load",value:function(w,k){var W=this,J=new Error().stack;if(this.url!==void 0&&this.url!==""){var je=new XMLHttpRequest;je.addEventListener("progress",function(Ne){W._updateProgress(Ne)},!1),je.open("GET",this.url,!0),je.responseType="arraybuffer",je.onload=function(){if(je.status===200){if(!W.panner)return;oe.decodeAudioData(je.response,function(pt){W.panner&&(W.buffer=pt,W.panner.inputChannels(pt.numberOfChannels),w&&w(W))},function(){if(W.panner){var pt=new b("decodeAudioData",J,W.url),Ft="AudioContext error at decodeAudioData for "+W.url;k?(pt.msg=Ft,k(pt)):console.error(Ft+`
 The error stack trace includes: 
`+pt.stack)}})}else{if(!W.panner)return;var Ne=new b("loadSound",J,W.url),ht="Unable to load "+W.url+". The request status was: "+je.status+" ("+je.statusText+")";k?(Ne.message=ht,k(Ne)):console.error(ht+`
 The error stack trace includes: 
`+Ne.stack)}},je.onerror=function(){var Ne=new b("loadSound",J,W.url),ht="There was no response from the server at "+W.url+". Check the url and internet connectivity.";k?(Ne.message=ht,k(Ne)):console.error(ht+`
 The error stack trace includes: 
`+Ne.stack)},je.send()}else if(this.file!==void 0){var Pe=new FileReader;Pe.onload=function(){W.panner&&oe.decodeAudioData(Pe.result,function(Ne){W.panner&&(W.buffer=Ne,W.panner.inputChannels(Ne.numberOfChannels),w&&w(W))})},Pe.onerror=function(Ne){W.panner&&onerror&&onerror(Ne)},Pe.readAsArrayBuffer(this.file)}}},{key:"_updateProgress",value:function(w){if(w.lengthComputable){var k=w.loaded/w.total*.99;this._whileLoading(k,w)}else this._whileLoading("size unknown")}},{key:"isLoaded",value:function(){return!!this.buffer}},{key:"play",value:function(w,k,W,J,je){if(!this.output){console.warn("SoundFile.play() called after dispose");return}var Pe=t.audiocontext.currentTime,Ne,ht,pt=w||0;if(pt<0&&(pt=0),pt=pt+Pe,typeof k<"u"&&this.rate(k),typeof W<"u"&&this.setVolume(W),this.buffer){if(this._pauseTime=0,this.mode==="restart"&&this.buffer&&this.bufferSourceNode&&(this.bufferSourceNode.stop(pt),this._counterNode.stop(pt)),this.mode==="untildone"&&this.isPlaying())return;if(this.bufferSourceNode=this._initSourceNode(),delete this._counterNode,this._counterNode=this._initCounterNode(),J)if(J>=0&&J<this.buffer.duration)Ne=J;else throw"start time out of range";else Ne=0;je&&(je=je<=this.buffer.duration-Ne?je:this.buffer.duration),this._paused?(this.bufferSourceNode.start(pt,this.pauseTime,je),this._counterNode.start(pt,this.pauseTime,je)):(this.bufferSourceNode.start(pt,Ne,je),this._counterNode.start(pt,Ne,je)),this._playing=!0,this._paused=!1,this.bufferSourceNodes.push(this.bufferSourceNode),this.bufferSourceNode._arrayIndex=this.bufferSourceNodes.length-1,this.bufferSourceNode.addEventListener("ended",this._clearOnEnd)}else throw"not ready to play file, buffer has yet to load. Try preload()";this.bufferSourceNode.loop=this._looping,this._counterNode.loop=this._looping,this._looping===!0&&(ht=je||Ne-1e-15,this.bufferSourceNode.loopStart=Ne,this.bufferSourceNode.loopEnd=ht,this._counterNode.loopStart=Ne,this._counterNode.loopEnd=ht)}},{key:"playMode",value:function(w){var k=w.toLowerCase();if(k==="restart"&&this.buffer&&this.bufferSourceNode)for(var W=0;W<this.bufferSourceNodes.length-1;W++){var J=t.audiocontext.currentTime;this.bufferSourceNodes[W].stop(J)}if(k==="restart"||k==="sustain"||k==="untildone")this.mode=k;else throw'Invalid play mode. Must be either "restart" or "sustain"'}},{key:"pause",value:function(w){var k=t.audiocontext.currentTime,W=w||0,J=W+k;this.isPlaying()&&this.buffer&&this.bufferSourceNode?(this._paused=!0,this._playing=!1,this.pauseTime=this.currentTime(),this.bufferSourceNode.stop(J),this._counterNode.stop(J),this._pauseTime=this.currentTime()):this._pauseTime=0}},{key:"loop",value:function(w,k,W,J,je){this._looping=!0,this.play(w,k,W,J,je)}},{key:"setLoop",value:function(w){if(w===!0)this._looping=!0;else if(w===!1)this._looping=!1;else throw"Error: setLoop accepts either true or false";this.bufferSourceNode&&(this.bufferSourceNode.loop=this._looping,this._counterNode.loop=this._looping)}},{key:"isLooping",value:function(){return this.bufferSourceNode?this._looping===!0&&this.isPlaying()===!0:!1}},{key:"isPlaying",value:function(){return this._playing}},{key:"isPaused",value:function(){return this._paused}},{key:"stop",value:function(w){var k=w||0;if(this.mode==="sustain"||this.mode==="untildone")this.stopAll(k),this._playing=!1,this.pauseTime=0,this._paused=!1;else if(this.buffer&&this.bufferSourceNode){var W=t.audiocontext.currentTime,J=k||0;this.pauseTime=0,this.bufferSourceNode.stop(W+J),this._counterNode.stop(W+J),this._playing=!1,this._paused=!1}}},{key:"stopAll",value:function(w){var k=t.audiocontext.currentTime,W=w||0;if(this.buffer&&this.bufferSourceNode){for(var J in this.bufferSourceNodes){var je=this.bufferSourceNodes[J];if(je)try{je.stop(k+W)}catch{}}this._counterNode.stop(k+W)}}},{key:"getVolume",value:function(){return this.output.gain.value}},{key:"pan",value:function(w,k){this.panPosition=w,this.panner.pan(w,k)}},{key:"getPan",value:function(){return this.panPosition}},{key:"rate",value:function(w){var k=!1;if(typeof w>"u")return this.playbackRate;if(this.playbackRate=w,w===0?w=1e-13:w<0&&!this.reversed?(w=Math.abs(w),k=!0):w>0&&this.reversed&&(k=!0),this.bufferSourceNode){var W=t.audiocontext.currentTime;this.bufferSourceNode.playbackRate.cancelScheduledValues(W),this.bufferSourceNode.playbackRate.linearRampToValueAtTime(Math.abs(w),W),this._counterNode.playbackRate.cancelScheduledValues(W),this._counterNode.playbackRate.linearRampToValueAtTime(Math.abs(w),W)}return k&&this.reverseBuffer(),this.playbackRate}},{key:"setPitch",value:function(w){var k=g(w)/g(60);this.rate(k)}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"setVolume",value:function(w,k,W){if(typeof w=="number"){var J=k||0,je=W||0,Pe=t.audiocontext.currentTime,Ne=this.output.gain.value;this.output.gain.cancelScheduledValues(Pe+je),this.output.gain.linearRampToValueAtTime(Ne,Pe+je),this.output.gain.linearRampToValueAtTime(w,Pe+je+J)}else if(w)w.connect(this.output.gain);else return this.output.gain}},{key:"duration",value:function(){return this.buffer?this.buffer.duration:0}},{key:"currentTime",value:function(){return this.reversed?Math.abs(this._lastPos-this.buffer.length)/oe.sampleRate:this._lastPos/oe.sampleRate}},{key:"jump",value:function(w,k){if(w<0||w>this.buffer.duration)throw"jump time out of range";if(k>this.buffer.duration-w)throw"end time out of range";var W=w||0,J=k||void 0;this.isPlaying()&&(this.stop(0),this.play(0,this.playbackRate,this.output.gain.value,W,J))}},{key:"channels",value:function(){return this.buffer.numberOfChannels}},{key:"sampleRate",value:function(){return this.buffer.sampleRate}},{key:"frames",value:function(){return this.buffer.length}},{key:"getPeaks",value:function(w){if(this.buffer){if(w||(w=window.width*5),this.buffer){for(var k=this.buffer,W=k.length/w,J=~~(W/10)||1,je=k.numberOfChannels,Pe=new Float32Array(Math.round(w)),Ne=0;Ne<je;Ne++)for(var ht=k.getChannelData(Ne),pt=0;pt<w;pt++){for(var Ft=~~(pt*W),vr=~~(Ft+W),ar=0,dr=Ft;dr<vr;dr+=J){var kr=ht[dr];(kr>ar||-kr>ar)&&(ar=kr)}(Ne===0||Math.abs(ar)>Pe[pt])&&(Pe[pt]=ar)}return Pe}}else throw"Cannot load peaks yet, buffer is not loaded"}},{key:"reverseBuffer",value:function(){if(this.buffer){var w=this._lastPos/oe.sampleRate,k=this.getVolume();this.setVolume(0,.001);for(var W=this.buffer.numberOfChannels,J=0;J<W;J++)this.buffer.getChannelData(J).reverse();this.reversed=!this.reversed,this.isPlaying()&&w&&this.jump(this.duration()-w),this.setVolume(k,.001)}else throw"SoundFile is not done loading"}},{key:"onended",value:function(w){return this._onended=w,this}},{key:"add",value:function(){}},{key:"dispose",value:function(){var w=t.audiocontext.currentTime,k=t.soundArray.indexOf(this);if(t.soundArray.splice(k,1),this.stop(w),this.buffer&&this.bufferSourceNode){for(var W=0;W<this.bufferSourceNodes.length-1;W++)if(this.bufferSourceNodes[W]!==null){this.bufferSourceNodes[W].disconnect();try{this.bufferSourceNodes[W].stop(w)}catch{console.warn("no buffer source node to dispose")}this.bufferSourceNodes[W]=null}if(this.isPlaying()){try{this._counterNode.stop(w)}catch(J){console.log(J)}this._counterNode=null}}this.output&&(this.output.disconnect(),this.output=null),this.panner&&(this.panner.disconnect(),this.panner=null)}},{key:"connect",value:function(w){w?w.hasOwnProperty("input")?this.panner.connect(w.input):this.panner.connect(w):this.panner.connect(t.input)}},{key:"disconnect",value:function(){this.panner&&this.panner.disconnect()}},{key:"getLevel",value:function(){console.warn("p5.SoundFile.getLevel has been removed from the library. Use p5.Amplitude instead")}},{key:"setPath",value:function(w,k){var W=p5.prototype._checkFileFormats(w);this.url=W,this.load(k)}},{key:"setBuffer",value:function(w){var k=w.length,W=w[0].length,J=oe.createBuffer(k,W,oe.sampleRate);w[0]instanceof Float32Array||(w[0]=new Float32Array(w[0]));for(var je=0;je<k;je++){var Pe=J.getChannelData(je);Pe.set(w[je])}this.buffer=J,this.panner.inputChannels(k)}},{key:"_initCounterNode",value:function(){var w=this,k=this,W=oe.currentTime,J=oe.createBufferSource(),je=c(256);return k._workletNode&&(k._workletNode.disconnect(),delete k._workletNode),k._workletNode=new AudioWorkletNode(oe,_.a.soundFileProcessor,{processorOptions:{bufferSize:je}}),k._workletNode.port.onmessage=function(Pe){if(Pe.data.name==="position"){if(Pe.data.position===0)return;w._lastPos=Pe.data.position,w._onTimeUpdate(k._lastPos)}},J.buffer=U(k.buffer),J.playbackRate.setValueAtTime(k.playbackRate,W),J.connect(k._workletNode),k._workletNode.connect(p5.soundOut._silentNode),J}},{key:"_initSourceNode",value:function(){var w=oe.createBufferSource();return w.buffer=this.buffer,w.playbackRate.value=this.playbackRate,w.connect(this.output),w}},{key:"processPeaks",value:function(w,k,W,J){console.warn("processPeaks is deprecated")}},{key:"addCue",value:function(w,k,W){var J=this._cueIDCounter++,je=new q(k,w,J,W);return this._cues.push(je),J}},{key:"removeCue",value:function(w){for(var k=this._cues.length,W=0;W<k;W++){var J=this._cues[W];if(J.id===w){this._cues.splice(W,1);break}}this._cues.length}},{key:"clearCues",value:function(){this._cues=[]}},{key:"_onTimeUpdate",value:function(w){for(var k=w/this.buffer.sampleRate,W=this._cues.length,J=0;J<W;J++){var je=this._cues[J],Pe=je.time,Ne=je.val,ht=this._prevUpdateTime||0,pt=k;ht<=Pe&&Pe<=pt&&je.callback(Ne)}this._prevUpdateTime=k}},{key:"save",value:function(w){p5.prototype.saveSound(this,w,"wav")}},{key:"getBlob",value:function(){var w=a(this.buffer);return new Blob([w],{type:"audio/wav"})}}]),I}();function ie(I,E,w,k){window.location.origin.indexOf("file://")>-1&&window.cordova==="undefined"&&window.alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS");var W=this,J=new se(I,function(){typeof E=="function"&&E.apply(W,arguments),typeof W._decrementPreload=="function"&&W._decrementPreload()},w,k);return J}var le=se;function $(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function ce(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function ye(I,E,w){return E&&ce(I.prototype,E),I}var _e=function(){function I(E){$(this,I),this.bufferSize=c(2048),this.audiocontext=t.audiocontext,this._workletNode=new AudioWorkletNode(this.audiocontext,_.a.amplitudeProcessor,{outputChannelCount:[1],parameterData:{smoothing:E||0},processorOptions:{normalize:!1,smoothing:E||0,numInputChannels:2,bufferSize:this.bufferSize}}),this._workletNode.port.onmessage=(function(w){w.data.name==="amplitude"&&(this.volume=w.data.volume,this.volNorm=w.data.volNorm,this.stereoVol=w.data.stereoVol,this.stereoVolNorm=w.data.stereoVolNorm)}).bind(this),this.input=this._workletNode,this.output=this.audiocontext.createGain(),this.volume=0,this.volNorm=0,this.stereoVol=[0,0],this.stereoVolNorm=[0,0],this.normalize=!1,this._workletNode.connect(this.output),this.output.gain.value=0,this.output.connect(this.audiocontext.destination),t.meter.connect(this._workletNode),t.soundArray.push(this)}return ye(I,[{key:"setInput",value:function(w,k){t.meter.disconnect(),k&&(this._workletNode.parameters.get("smoothing").value=k),w==null?(console.log("Amplitude input source is not ready! Connecting to main output instead"),t.meter.connect(this._workletNode)):w?(w.connect(this._workletNode),this._workletNode.disconnect(),this._workletNode.connect(this.output)):t.meter.connect(this._workletNode)}},{key:"connect",value:function(w){w?w.hasOwnProperty("input")?this.output.connect(w.input):this.output.connect(w):this.output.connect(this.panner.connect(t.input))}},{key:"disconnect",value:function(){this.output&&this.output.disconnect()}},{key:"getLevel",value:function(w){return typeof w<"u"?this.normalize?this.stereoVolNorm[w]:this.stereoVol[w]:this.normalize?this.volNorm:this.volume}},{key:"toggleNormalize",value:function(w){typeof w=="boolean"?this.normalize=w:this.normalize=!this.normalize,this._workletNode.port.postMessage({name:"toggleNormalize",normalize:this.normalize})}},{key:"smooth",value:function(w){w>=0&&w<1?this._workletNode.port.postMessage({name:"smoothing",smoothing:w}):console.log("Error: smoothing must be between 0 and 1")}},{key:"dispose",value:function(){var w=t.soundArray.indexOf(this);t.soundArray.splice(w,1),this.input&&(this.input.disconnect(),delete this.input),this.output&&(this.output.disconnect(),delete this.output),this._workletNode.disconnect(),delete this._workletNode}}]),I}(),he=_e;function ve(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function Ee(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function Fe(I,E,w){return E&&Ee(I.prototype,E),I}var Oe=function(){function I(E,w){ve(this,I),this.input=this.analyser=t.audiocontext.createAnalyser(),Object.defineProperties(this,{bins:{get:function(){return this.analyser.fftSize/2},set:function(W){this.analyser.fftSize=W*2},configurable:!0,enumerable:!0},smoothing:{get:function(){return this.analyser.smoothingTimeConstant},set:function(W){this.analyser.smoothingTimeConstant=W},configurable:!0,enumerable:!0}}),this.smooth(E),this.bins=w||1024,t.fftMeter.connect(this.analyser),this.freqDomain=new Uint8Array(this.analyser.frequencyBinCount),this.timeDomain=new Uint8Array(this.analyser.frequencyBinCount),this.bass=[20,140],this.lowMid=[140,400],this.mid=[400,2600],this.highMid=[2600,5200],this.treble=[5200,14e3],t.soundArray.push(this)}return Fe(I,[{key:"setInput",value:function(w){w?(w.output?w.output.connect(this.analyser):w.connect&&w.connect(this.analyser),t.fftMeter.disconnect()):t.fftMeter.connect(this.analyser)}},{key:"waveform",value:function(){for(var w,k,W=new Array,J=0;J<arguments.length;J++)typeof arguments[J]=="number"&&(w=arguments[J],this.analyser.fftSize=w*2),typeof arguments[J]=="string"&&(k=arguments[J]);if(k&&!p5.prototype._isSafari())return Je(this,this.timeDomain),this.analyser.getFloatTimeDomainData(this.timeDomain),this.timeDomain;mt(this,this.timeDomain),this.analyser.getByteTimeDomainData(this.timeDomain);for(var je=0;je<this.timeDomain.length;je++){var Pe=p5.prototype.map(this.timeDomain[je],0,255,-1,1);W.push(Pe)}return W}},{key:"analyze",value:function(){for(var w,k=0;k<arguments.length;k++)typeof arguments[k]=="number"&&(this.bins=arguments[k],this.analyser.fftSize=this.bins*2),typeof arguments[k]=="string"&&(w=arguments[k]);if(w&&w.toLowerCase()==="db")return Ge(this),this.analyser.getFloatFrequencyData(this.freqDomain),this.freqDomain;$e(this,this.freqDomain),this.analyser.getByteFrequencyData(this.freqDomain);var W=Array.apply([],this.freqDomain);return W}},{key:"getEnergy",value:function(w,k){var W=t.audiocontext.sampleRate/2;if(w==="bass"?(w=this.bass[0],k=this.bass[1]):w==="lowMid"?(w=this.lowMid[0],k=this.lowMid[1]):w==="mid"?(w=this.mid[0],k=this.mid[1]):w==="highMid"?(w=this.highMid[0],k=this.highMid[1]):w==="treble"&&(w=this.treble[0],k=this.treble[1]),typeof w!="number")throw"invalid input for getEnergy()";if(k)if(w&&k){if(w>k){var je=k;k=w,w=je}for(var Pe=Math.round(w/W*this.freqDomain.length),Ne=Math.round(k/W*this.freqDomain.length),ht=0,pt=0,Ft=Pe;Ft<=Ne;Ft++)ht+=this.freqDomain[Ft],pt+=1;var vr=ht/pt;return vr}else throw"invalid input for getEnergy()";else{var J=Math.round(w/W*this.freqDomain.length);return this.freqDomain[J]}}},{key:"getFreq",value:function(w,k){console.log("getFreq() is deprecated. Please use getEnergy() instead.");var W=this.getEnergy(w,k);return W}},{key:"getCentroid",value:function(){for(var w=t.audiocontext.sampleRate/2,k=0,W=0,J=0;J<this.freqDomain.length;J++)k+=J*this.freqDomain[J],W+=this.freqDomain[J];var je=0;W!==0&&(je=k/W);var Pe=je*(w/this.freqDomain.length);return Pe}},{key:"smooth",value:function(w){return typeof w<"u"&&(this.smoothing=w),this.smoothing}},{key:"dispose",value:function(){var w=t.soundArray.indexOf(this);t.soundArray.splice(w,1),this.analyser&&(this.analyser.disconnect(),delete this.analyser)}},{key:"linAverages",value:function(w){for(var k=w||16,W=this.freqDomain,J=W.length,je=Math.floor(J/k),Pe=new Array(k),Ne=0,ht=0;ht<J;ht++)Pe[Ne]=Pe[Ne]!==void 0?(Pe[Ne]+W[ht])/2:W[ht],ht%je===je-1&&Ne++;return Pe}},{key:"logAverages",value:function(w){for(var k=t.audiocontext.sampleRate/2,W=this.freqDomain,J=W.length,je=new Array(w.length),Pe=0,Ne=0;Ne<J;Ne++){var ht=Math.round(Ne*k/this.freqDomain.length);ht>w[Pe].hi&&Pe++,je[Pe]=je[Pe]!==void 0?(je[Pe]+W[Ne])/2:W[Ne]}return je}},{key:"getOctaveBands",value:function(w,k){var W=w||3,J=k||15.625,je=[],Pe={lo:J/Math.pow(2,1/(2*W)),ctr:J,hi:J*Math.pow(2,1/(2*W))};je.push(Pe);for(var Ne=t.audiocontext.sampleRate/2;Pe.hi<Ne;){var ht={};ht.lo=Pe.hi,ht.ctr=Pe.ctr*Math.pow(2,1/W),ht.hi=ht.ctr*Math.pow(2,1/(2*W)),je.push(ht),Pe=ht}return je}}]),I}();function Ge(I){I.freqDomain instanceof Float32Array||(I.freqDomain=new Float32Array(I.analyser.frequencyBinCount))}function $e(I){I.freqDomain instanceof Uint8Array||(I.freqDomain=new Uint8Array(I.analyser.frequencyBinCount))}function Je(I){I.timeDomain instanceof Float32Array||(I.timeDomain=new Float32Array(I.analyser.frequencyBinCount))}function mt(I){I.timeDomain instanceof Uint8Array||(I.timeDomain=new Uint8Array(I.analyser.frequencyBinCount))}var tt=Oe,de=xe(4),Re=xe.n(de),Ce=xe(1),qe=xe.n(Ce),et=xe(8),ft=xe.n(et);function ot(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ot=function(w){return typeof w}:ot=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},ot(I)}function rt(I,E){return E&&(ot(E)==="object"||typeof E=="function")?E:re(I)}function re(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function Q(I){return Q=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},Q(I)}function ne(I,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(E&&E.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),E&&ue(I,E)}function ue(I,E){return ue=Object.setPrototypeOf||function(k,W){return k.__proto__=W,k},ue(I,E)}function we(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function Le(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function Ze(I,E,w){return E&&Le(I.prototype,E),I}function He(I,E,w,k,W){var J=I.oscillator;for(var je in I.mathOps)I.mathOps[je]instanceof W&&(J.disconnect(),I.mathOps[je].dispose(),w=je,w<I.mathOps.length-2&&(k=I.mathOps[je+1]));return w===I.mathOps.length-1&&I.mathOps.push(k),je>0&&(J=I.mathOps[je-1]),J.disconnect(),J.connect(E),E.connect(k),I.mathOps[w]=E,I}var Te=function(){function I(E,w){if(we(this,I),typeof E=="string"){var k=w;w=E,E=k}if(typeof w=="number"){var W=w;w=E,E=W}this.started=!1,this.phaseAmount=void 0,this.oscillator=t.audiocontext.createOscillator(),this.f=E||440,this.oscillator.type=w||"sine",this.oscillator.frequency.setValueAtTime(this.f,t.audiocontext.currentTime),this.output=t.audiocontext.createGain(),this._freqMods=[],this.output.gain.value=.5,this.output.gain.setValueAtTime(.5,t.audiocontext.currentTime),this.oscillator.connect(this.output),this.panPosition=0,this.connection=t.input,this.panner=new z(this.output,this.connection,1),this.mathOps=[this.output],t.soundArray.push(this),this.fade=this.amp}return Ze(I,[{key:"start",value:function(w,k){if(this.started){var W=t.audiocontext.currentTime;this.stop(W)}if(!this.started){var J=k||this.f,je=this.oscillator.type;this.oscillator&&(this.oscillator.disconnect(),delete this.oscillator),this.oscillator=t.audiocontext.createOscillator(),this.oscillator.frequency.value=Math.abs(J),this.oscillator.type=je,this.oscillator.connect(this.output),w=w||0,this.oscillator.start(w+t.audiocontext.currentTime),this.freqNode=this.oscillator.frequency;for(var Pe in this._freqMods)typeof this._freqMods[Pe].connect<"u"&&this._freqMods[Pe].connect(this.oscillator.frequency);this.started=!0}}},{key:"stop",value:function(w){if(this.started){var k=w||0,W=t.audiocontext.currentTime;this.oscillator.stop(k+W),this.started=!1}}},{key:"amp",value:function(w){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(typeof w=="number"){var J=t.audiocontext.currentTime;this.output.gain.linearRampToValueAtTime(w,J+W+k)}else if(w)w.connect(this.output.gain);else return this.output.gain}},{key:"getAmp",value:function(){return this.output.gain.value}},{key:"freq",value:function(w){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(typeof w=="number"&&!isNaN(w)){this.f=w;var J=t.audiocontext.currentTime;k===0?this.oscillator.frequency.setValueAtTime(w,W+J):w>0?this.oscillator.frequency.exponentialRampToValueAtTime(w,W+k+J):this.oscillator.frequency.linearRampToValueAtTime(w,W+k+J),this.phaseAmount&&this.phase(this.phaseAmount)}else if(w)w.output&&(w=w.output),w.connect(this.oscillator.frequency),this._freqMods.push(w);else return this.oscillator.frequency}},{key:"getFreq",value:function(){return this.oscillator.frequency.value}},{key:"setType",value:function(w){this.oscillator.type=w}},{key:"getType",value:function(){return this.oscillator.type}},{key:"connect",value:function(w){w?w.hasOwnProperty("input")?(this.panner.connect(w.input),this.connection=w.input):(this.panner.connect(w),this.connection=w):this.panner.connect(t.input)}},{key:"disconnect",value:function(){this.output&&this.output.disconnect(),this.panner&&(this.panner.disconnect(),this.output&&this.output.connect(this.panner)),this.oscMods=[]}},{key:"pan",value:function(w,k){this.panPosition=w,this.panner.pan(w,k)}},{key:"getPan",value:function(){return this.panPosition}},{key:"dispose",value:function(){var w=t.soundArray.indexOf(this);if(t.soundArray.splice(w,1),this.oscillator){var k=t.audiocontext.currentTime;this.stop(k),this.disconnect(),this.panner=null,this.oscillator=null}this.osc2&&this.osc2.dispose()}},{key:"phase",value:function(w){var k=p5.prototype.map(w,0,1,0,1/this.f),W=t.audiocontext.currentTime;this.phaseAmount=w,this.dNode||(this.dNode=t.audiocontext.createDelay(),this.oscillator.disconnect(),this.oscillator.connect(this.dNode),this.dNode.connect(this.output)),this.dNode.delayTime.setValueAtTime(k,W)}},{key:"add",value:function(w){var k=new Re.a(w),W=this.mathOps.length-1,J=this.output;return He(this,k,W,J,Re.a)}},{key:"mult",value:function(w){var k=new qe.a(w),W=this.mathOps.length-1,J=this.output;return He(this,k,W,J,qe.a)}},{key:"scale",value:function(w,k,W,J){var je,Pe;arguments.length===4?(je=p5.prototype.map(W,w,k,0,1)-.5,Pe=p5.prototype.map(J,w,k,0,1)-.5):(je=arguments[0],Pe=arguments[1]);var Ne=new ft.a(je,Pe),ht=this.mathOps.length-1,pt=this.output;return He(this,Ne,ht,pt,ft.a)}}]),I}(),Qe=function(I){ne(E,I);function E(w){return we(this,E),rt(this,Q(E).call(this,w,"sine"))}return E}(Te),st=function(I){ne(E,I);function E(w){return we(this,E),rt(this,Q(E).call(this,w,"triangle"))}return E}(Te),_t=function(I){ne(E,I);function E(w){return we(this,E),rt(this,Q(E).call(this,w,"sawtooth"))}return E}(Te),Tt=function(I){ne(E,I);function E(w){return we(this,E),rt(this,Q(E).call(this,w,"square"))}return E}(Te),gt=Te,vt=xe(7),yt=xe.n(vt);p5.Envelope=function(I,E,w,k,W,J){this.aTime=I||.1,this.aLevel=E||1,this.dTime=w||.5,this.dLevel=k||0,this.rTime=W||0,this.rLevel=J||0,this._rampHighPercentage=.98,this._rampLowPercentage=.02,this.output=t.audiocontext.createGain(),this.control=new yt.a,this._init(),this.control.connect(this.output),this.connection=null,this.mathOps=[this.control],this.isExponential=!1,this.sourceToClear=null,this.wasTriggered=!1,t.soundArray.push(this)},p5.Envelope.prototype._init=function(){var I=t.audiocontext.currentTime,E=I;this.control.setTargetAtTime(1e-5,E,.001),this._setRampAD(this.aTime,this.dTime)},p5.Envelope.prototype.set=function(I,E,w,k,W,J){this.aTime=I,this.aLevel=E,this.dTime=w||0,this.dLevel=k||0,this.rTime=W||0,this.rLevel=J||0,this._setRampAD(I,w)},p5.Envelope.prototype.setADSR=function(I,E,w,k){this.aTime=I,this.dTime=E||0,this.sPercent=w||0,this.dLevel=typeof w<"u"?w*(this.aLevel-this.rLevel)+this.rLevel:0,this.rTime=k||0,this._setRampAD(I,E)},p5.Envelope.prototype.setRange=function(I,E){this.aLevel=I||1,this.rLevel=E||0},p5.Envelope.prototype._setRampAD=function(I,E){this._rampAttackTime=this.checkExpInput(I),this._rampDecayTime=this.checkExpInput(E);var w=1;w=Math.log(1/this.checkExpInput(1-this._rampHighPercentage)),this._rampAttackTC=I/this.checkExpInput(w),w=Math.log(1/this._rampLowPercentage),this._rampDecayTC=E/this.checkExpInput(w)},p5.Envelope.prototype.setRampPercentages=function(I,E){this._rampHighPercentage=this.checkExpInput(I),this._rampLowPercentage=this.checkExpInput(E);var w=1;w=Math.log(1/this.checkExpInput(1-this._rampHighPercentage)),this._rampAttackTC=this._rampAttackTime/this.checkExpInput(w),w=Math.log(1/this._rampLowPercentage),this._rampDecayTC=this._rampDecayTime/this.checkExpInput(w)},p5.Envelope.prototype.setInput=function(){for(var I=0;I<arguments.length;I++)this.connect(arguments[I])},p5.Envelope.prototype.setExp=function(I){this.isExponential=I},p5.Envelope.prototype.checkExpInput=function(I){return I<=0&&(I=1e-8),I},p5.Envelope.prototype.play=function(I,E,w){var k=E||0;I&&this.connection!==I&&this.connect(I),this.triggerAttack(I,k),this.triggerRelease(I,k+this.aTime+this.dTime+~~w)},p5.Envelope.prototype.triggerAttack=function(I,E){var w=t.audiocontext.currentTime,k=E||0,W=w+k;this.lastAttack=W,this.wasTriggered=!0,I&&this.connection!==I&&this.connect(I);var J=this.control.getValueAtTime(W);this.isExponential===!0?this.control.exponentialRampToValueAtTime(this.checkExpInput(J),W):this.control.linearRampToValueAtTime(J,W),W+=this.aTime,this.isExponential===!0?(this.control.exponentialRampToValueAtTime(this.checkExpInput(this.aLevel),W),J=this.checkExpInput(this.control.getValueAtTime(W)),this.control.cancelScheduledValues(W),this.control.exponentialRampToValueAtTime(J,W)):(this.control.linearRampToValueAtTime(this.aLevel,W),J=this.control.getValueAtTime(W),this.control.cancelScheduledValues(W),this.control.linearRampToValueAtTime(J,W)),W+=this.dTime,this.isExponential===!0?(this.control.exponentialRampToValueAtTime(this.checkExpInput(this.dLevel),W),J=this.checkExpInput(this.control.getValueAtTime(W)),this.control.cancelScheduledValues(W),this.control.exponentialRampToValueAtTime(J,W)):(this.control.linearRampToValueAtTime(this.dLevel,W),J=this.control.getValueAtTime(W),this.control.cancelScheduledValues(W),this.control.linearRampToValueAtTime(J,W))},p5.Envelope.prototype.triggerRelease=function(I,E){if(this.wasTriggered){var w=t.audiocontext.currentTime,k=E||0,W=w+k;I&&this.connection!==I&&this.connect(I);var J=this.control.getValueAtTime(W);this.isExponential===!0?this.control.exponentialRampToValueAtTime(this.checkExpInput(J),W):this.control.linearRampToValueAtTime(J,W),W+=this.rTime,this.isExponential===!0?(this.control.exponentialRampToValueAtTime(this.checkExpInput(this.rLevel),W),J=this.checkExpInput(this.control.getValueAtTime(W)),this.control.cancelScheduledValues(W),this.control.exponentialRampToValueAtTime(J,W)):(this.control.linearRampToValueAtTime(this.rLevel,W),J=this.control.getValueAtTime(W),this.control.cancelScheduledValues(W),this.control.linearRampToValueAtTime(J,W)),this.wasTriggered=!1}},p5.Envelope.prototype.ramp=function(I,E,w,k){var W=t.audiocontext.currentTime,J=E||0,je=W+J,Pe=this.checkExpInput(w),Ne=typeof k<"u"?this.checkExpInput(k):void 0;I&&this.connection!==I&&this.connect(I);var ht=this.checkExpInput(this.control.getValueAtTime(je));Pe>ht?(this.control.setTargetAtTime(Pe,je,this._rampAttackTC),je+=this._rampAttackTime):Pe<ht&&(this.control.setTargetAtTime(Pe,je,this._rampDecayTC),je+=this._rampDecayTime),Ne!==void 0&&(Ne>Pe?this.control.setTargetAtTime(Ne,je,this._rampAttackTC):Ne<Pe&&this.control.setTargetAtTime(Ne,je,this._rampDecayTC))},p5.Envelope.prototype.connect=function(I){this.connection=I,(I instanceof p5.Oscillator||I instanceof p5.SoundFile||I instanceof p5.AudioIn||I instanceof p5.Reverb||I instanceof p5.Noise||I instanceof p5.Filter||I instanceof p5.Delay)&&(I=I.output.gain),I instanceof AudioParam&&I.setValueAtTime(0,t.audiocontext.currentTime),this.output.connect(I)},p5.Envelope.prototype.disconnect=function(){this.output&&this.output.disconnect()},p5.Envelope.prototype.add=function(I){var E=new Re.a(I),w=this.mathOps.length,k=this.output;return p5.prototype._mathChain(this,E,w,k,Re.a)},p5.Envelope.prototype.mult=function(I){var E=new qe.a(I),w=this.mathOps.length,k=this.output;return p5.prototype._mathChain(this,E,w,k,qe.a)},p5.Envelope.prototype.scale=function(I,E,w,k){var W=new ft.a(I,E,w,k),J=this.mathOps.length,je=this.output;return p5.prototype._mathChain(this,W,J,je,ft.a)},p5.Envelope.prototype.dispose=function(){var I=t.soundArray.indexOf(this);t.soundArray.splice(I,1),this.disconnect(),this.control&&(this.control.dispose(),this.control=null);for(var E=1;E<this.mathOps.length;E++)this.mathOps[E].dispose()},p5.Env=function(I,E,w,k,W,J){console.warn("WARNING: p5.Env is now deprecated and may be removed in future versions. Please use the new p5.Envelope instead."),p5.Envelope.call(this,I,E,w,k,W,J)},p5.Env.prototype=Object.create(p5.Envelope.prototype);var Mt=p5.Envelope,Lt=Mt;function Zt(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zt=function(w){return typeof w}:Zt=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},Zt(I)}function Pt(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function zt(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function tr(I,E,w){return E&&zt(I.prototype,E),I}function kt(I,E){return E&&(Zt(E)==="object"||typeof E=="function")?E:rr(I)}function rr(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function Kt(I){return Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},Kt(I)}function Dt(I,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(E&&E.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),E&&Mr(I,E)}function Mr(I,E){return Mr=Object.setPrototypeOf||function(k,W){return k.__proto__=W,k},Mr(I,E)}var Ar=function(){for(var I=2*t.audiocontext.sampleRate,E=t.audiocontext.createBuffer(1,I,t.audiocontext.sampleRate),w=E.getChannelData(0),k=0;k<I;k++)w[k]=Math.random()*2-1;return E.type="white",E}(),Rr=function(){var I=2*t.audiocontext.sampleRate,E=t.audiocontext.createBuffer(1,I,t.audiocontext.sampleRate),w=E.getChannelData(0),k,W,J,je,Pe,Ne,ht;k=W=J=je=Pe=Ne=ht=0;for(var pt=0;pt<I;pt++){var Ft=Math.random()*2-1;k=.99886*k+Ft*.0555179,W=.99332*W+Ft*.0750759,J=.969*J+Ft*.153852,je=.8665*je+Ft*.3104856,Pe=.55*Pe+Ft*.5329522,Ne=-.7616*Ne-Ft*.016898,w[pt]=k+W+J+je+Pe+Ne+ht+Ft*.5362,w[pt]*=.11,ht=Ft*.115926}return E.type="pink",E}(),Lr=function(){for(var I=2*t.audiocontext.sampleRate,E=t.audiocontext.createBuffer(1,I,t.audiocontext.sampleRate),w=E.getChannelData(0),k=0,W=0;W<I;W++){var J=Math.random()*2-1;w[W]=(k+.02*J)/1.02,k=w[W],w[W]*=3.5}return E.type="brown",E}(),Zr=function(I){Dt(E,I);function E(w){var k;Pt(this,E),k=kt(this,Kt(E).call(this));var W;return delete k.f,delete k.freq,delete k.oscillator,w==="brown"?W=Lr:w==="pink"?W=Rr:W=Ar,k.buffer=W,k}return tr(E,[{key:"setType",value:function(k){switch(k){case"white":this.buffer=Ar;break;case"pink":this.buffer=Rr;break;case"brown":this.buffer=Lr;break;default:this.buffer=Ar}if(this.started){var W=t.audiocontext.currentTime;this.stop(W),this.start(W+.01)}}},{key:"getType",value:function(){return this.buffer.type}},{key:"start",value:function(){this.started&&this.stop(),this.noise=t.audiocontext.createBufferSource(),this.noise.buffer=this.buffer,this.noise.loop=!0,this.noise.connect(this.output);var k=t.audiocontext.currentTime;this.noise.start(k),this.started=!0}},{key:"stop",value:function(){var k=t.audiocontext.currentTime;this.noise&&(this.noise.stop(k),this.started=!1)}},{key:"dispose",value:function(){var k=t.audiocontext.currentTime,W=t.soundArray.indexOf(this);t.soundArray.splice(W,1),this.noise&&(this.noise.disconnect(),this.stop(k)),this.output&&this.output.disconnect(),this.panner&&this.panner.disconnect(),this.output=null,this.panner=null,this.buffer=null,this.noise=null}}]),E}(gt),ge=Zr,Ke=xe(2),ut=xe.n(Ke);function Ye(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ye=function(w){return typeof w}:Ye=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},Ye(I)}function Et(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function ze(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function It(I,E,w){return E&&ze(I.prototype,E),I}function ct(I,E){return E&&(Ye(E)==="object"||typeof E=="function")?E:xt(I)}function xt(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function lt(I){return lt=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},lt(I)}function er(I,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(E&&E.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),E&&$t(I,E)}function $t(I,E){return $t=Object.setPrototypeOf||function(k,W){return k.__proto__=W,k},$t(I,E)}var fr=function(I){er(E,I);function E(w,k){var W;Et(this,E),W=ct(this,lt(E).call(this,w,"sawtooth")),W.w=k||0,W.osc2=new _t(w),W.dNode=t.audiocontext.createDelay(),W.dcOffset=qt(),W.dcGain=t.audiocontext.createGain(),W.dcOffset.connect(W.dcGain),W.dcGain.connect(W.output),W.f=w||440;var J=W.w/W.oscillator.frequency.value;return W.dNode.delayTime.value=J,W.dcGain.gain.value=1.7*(.5-W.w),W.osc2.disconnect(),W.osc2.panner.disconnect(),W.osc2.amp(-1),W.osc2.output.connect(W.dNode),W.dNode.connect(W.output),W.output.gain.value=1,W.output.connect(W.panner),W}return It(E,[{key:"width",value:function(k){if(typeof k=="number"){if(k<=1&&k>=0){this.w=k;var W=this.w/this.oscillator.frequency.value;this.dNode.delayTime.value=W}this.dcGain.gain.value=1.7*(.5-this.w)}else{k.connect(this.dNode.delayTime);var J=new ut.a(-.5);k.connect(J);var je=new qe.a(-1),Pe=new qe.a(1.7);J=J.connect(je).connect(Pe),J.connect(this.dcGain.gain)}}},{key:"start",value:function(k,W){var J=t.audiocontext.currentTime,je=W||0;if(!this.started){var Pe=k||this.f,Ne=this.oscillator.type;this.oscillator=t.audiocontext.createOscillator(),this.oscillator.frequency.setValueAtTime(Pe,J),this.oscillator.type=Ne,this.oscillator.connect(this.output),this.oscillator.start(je+J),this.osc2.oscillator=t.audiocontext.createOscillator(),this.osc2.oscillator.frequency.setValueAtTime(Pe,je+J),this.osc2.oscillator.type=Ne,this.osc2.oscillator.connect(this.osc2.output),this.osc2.start(je+J),this.freqNode=[this.oscillator.frequency,this.osc2.oscillator.frequency],this.dcOffset=qt(),this.dcOffset.connect(this.dcGain),this.dcOffset.start(je+J),this.mods!==void 0&&this.mods.frequency!==void 0&&(this.mods.frequency.connect(this.freqNode[0]),this.mods.frequency.connect(this.freqNode[1])),this.started=!0,this.osc2.started=!0}}},{key:"stop",value:function(k){if(this.started){var W=k||0,J=t.audiocontext.currentTime;this.oscillator.stop(W+J),this.osc2.oscillator&&this.osc2.oscillator.stop(W+J),this.dcOffset.stop(W+J),this.started=!1,this.osc2.started=!1}}},{key:"freq",value:function(k){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(typeof k=="number"){this.f=k;var je=t.audiocontext.currentTime,Pe=this.oscillator.frequency.value;this.oscillator.frequency.cancelScheduledValues(je),this.oscillator.frequency.setValueAtTime(Pe,je+J),this.oscillator.frequency.exponentialRampToValueAtTime(k,J+W+je),this.osc2.oscillator.frequency.cancelScheduledValues(je),this.osc2.oscillator.frequency.setValueAtTime(Pe,je+J),this.osc2.oscillator.frequency.exponentialRampToValueAtTime(k,J+W+je),this.freqMod&&(this.freqMod.output.disconnect(),this.freqMod=null)}else k.output&&(k.output.disconnect(),k.output.connect(this.oscillator.frequency),k.output.connect(this.osc2.oscillator.frequency),this.freqMod=k)}}]),E}(gt);function qt(){for(var I=t.audiocontext,E=I.createBuffer(1,2048,I.sampleRate),w=E.getChannelData(0),k=0;k<2048;k++)w[k]=1;var W=I.createBufferSource();return W.buffer=E,W.loop=!0,W}var Wt=fr;function nr(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function ir(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function or(I,E,w){return E&&ir(I.prototype,E),I}t.inputSources=[];var Yn=function(){function I(E){nr(this,I),this.input=t.audiocontext.createGain(),this.output=t.audiocontext.createGain(),this.stream=null,this.mediaStream=null,this.currentSource=null,this.enabled=!1,this.amplitude=new he,this.output.connect(this.amplitude.input),(!window.MediaStreamTrack||!window.navigator.mediaDevices||!window.navigator.mediaDevices.getUserMedia)&&(E?E():window.alert("This browser does not support MediaStreamTrack and mediaDevices")),t.soundArray.push(this)}return or(I,[{key:"start",value:function(w,k){var W=this;this.stream&&this.stop();var J=t.inputSources[W.currentSource],je={audio:{sampleRate:t.audiocontext.sampleRate,echoCancellation:!1}};t.inputSources[this.currentSource]&&(je.audio.deviceId=J.deviceId),window.navigator.mediaDevices.getUserMedia(je).then(function(Pe){W.stream=Pe,W.enabled=!0,W.mediaStream=t.audiocontext.createMediaStreamSource(Pe),W.mediaStream.connect(W.output),W.amplitude.setInput(W.output),w&&w()}).catch(function(Pe){k?k(Pe):console.error(Pe)})}},{key:"stop",value:function(){this.stream&&(this.stream.getTracks().forEach(function(w){w.stop()}),this.mediaStream.disconnect(),delete this.mediaStream,delete this.stream)}},{key:"connect",value:function(w){w?w.hasOwnProperty("input")?this.output.connect(w.input):w.hasOwnProperty("analyser")?this.output.connect(w.analyser):this.output.connect(w):this.output.connect(t.input)}},{key:"disconnect",value:function(){this.output&&(this.output.disconnect(),this.output.connect(this.amplitude.input))}},{key:"getLevel",value:function(w){return w&&(this.amplitude.smoothing=w),this.amplitude.getLevel()}},{key:"amp",value:function(w,k){if(k){var W=k||0,J=this.output.gain.value;this.output.gain.cancelScheduledValues(t.audiocontext.currentTime),this.output.gain.setValueAtTime(J,t.audiocontext.currentTime),this.output.gain.linearRampToValueAtTime(w,W+t.audiocontext.currentTime)}else this.output.gain.cancelScheduledValues(t.audiocontext.currentTime),this.output.gain.setValueAtTime(w,t.audiocontext.currentTime)}},{key:"getSources",value:function(w,k){return new Promise(function(W,J){window.navigator.mediaDevices.enumerateDevices().then(function(je){t.inputSources=je.filter(function(Pe){return Pe.kind==="audioinput"}),W(t.inputSources),w&&w(t.inputSources)}).catch(function(je){J(je),k?k(je):console.error("This browser does not support MediaStreamTrack.getSources()")})})}},{key:"setSource",value:function(w){t.inputSources.length>0&&w<t.inputSources.length?(this.currentSource=w,console.log("set source to ",t.inputSources[this.currentSource])):console.log("unable to set input source"),this.stream&&this.stream.active&&this.start()}},{key:"dispose",value:function(){var w=t.soundArray.indexOf(this);t.soundArray.splice(w,1),this.stop(),this.output&&this.output.disconnect(),this.amplitude&&this.amplitude.disconnect(),delete this.amplitude,delete this.output}}]),I}(),hn=Yn,Xn=xe(23),Zn=xe.n(Xn);function Kn(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function Qn(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function $n(I,E,w){return E&&Qn(I.prototype,E),I}var hr=function(){function I(){Kn(this,I),this.ac=t.audiocontext,this.input=this.ac.createGain(),this.output=this.ac.createGain(),this._drywet=new Zn.a(1),this.wet=this.ac.createGain(),this.input.connect(this._drywet.a),this.wet.connect(this._drywet.b),this._drywet.connect(this.output),this.connect(),t.soundArray.push(this)}return $n(I,[{key:"amp",value:function(w){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,J=t.audiocontext.currentTime,je=J+W,Pe=je+k+.001,Ne=this.output.gain.value;this.output.gain.cancelScheduledValues(J),this.output.gain.linearRampToValueAtTime(Ne,je+.001),this.output.gain.linearRampToValueAtTime(w,Pe)}},{key:"chain",value:function(){if(arguments.length>0){this.connect(arguments[0]);for(var w=1;w<arguments.length;w+=1)arguments[w-1].connect(arguments[w])}return this}},{key:"drywet",value:function(w){return typeof w<"u"&&(this._drywet.fade.value=w),this._drywet.fade.value}},{key:"connect",value:function(w){var k=w||p5.soundOut.input;this.output.connect(k.input?k.input:k)}},{key:"disconnect",value:function(){this.output&&this.output.disconnect()}},{key:"dispose",value:function(){var w=t.soundArray.indexOf(this);t.soundArray.splice(w,1),this.input&&(this.input.disconnect(),delete this.input),this.output&&(this.output.disconnect(),delete this.output),this._drywet&&(this._drywet.disconnect(),delete this._drywet),this.wet&&(this.wet.disconnect(),delete this.wet),this.ac=void 0}}]),I}(),lr=hr;function Sr(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sr=function(w){return typeof w}:Sr=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},Sr(I)}function Kr(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function Jn(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function eo(I,E,w){return E&&Jn(I.prototype,E),I}function Qr(I,E){return E&&(Sr(E)==="object"||typeof E=="function")?E:pn(I)}function pn(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function Dr(I,E,w){return typeof Reflect<"u"&&Reflect.get?Dr=Reflect.get:Dr=function(W,J,je){var Pe=mn(W,J);if(Pe){var Ne=Object.getOwnPropertyDescriptor(Pe,J);return Ne.get?Ne.get.call(je):Ne.value}},Dr(I,E,w||I)}function mn(I,E){for(;!Object.prototype.hasOwnProperty.call(I,E)&&(I=br(I),I!==null););return I}function br(I){return br=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},br(I)}function Ir(I,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(E&&E.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),E&&nn(I,E)}function nn(I,E){return nn=Object.setPrototypeOf||function(k,W){return k.__proto__=W,k},nn(I,E)}var Pr=function(I){Ir(E,I);function E(w){var k;return Kr(this,E),k=Qr(this,br(E).call(this)),k.biquad=k.ac.createBiquadFilter(),k.input.connect(k.biquad),k.biquad.connect(k.wet),w&&k.setType(w),k._on=!0,k._untoggledType=k.biquad.type,k}return eo(E,[{key:"process",value:function(k,W,J,je){k.connect(this.input),this.set(W,J,je)}},{key:"set",value:function(k,W,J){k&&this.freq(k,J),W&&this.res(W,J)}},{key:"freq",value:function(k,W){var J=W||0;return k<=0&&(k=1),typeof k=="number"?(this.biquad.frequency.cancelScheduledValues(this.ac.currentTime+.01+J),this.biquad.frequency.exponentialRampToValueAtTime(k,this.ac.currentTime+.02+J)):k&&k.connect(this.biquad.frequency),this.biquad.frequency.value}},{key:"res",value:function(k,W){var J=W||0;return typeof k=="number"?(this.biquad.Q.value=k,this.biquad.Q.cancelScheduledValues(this.ac.currentTime+.01+J),this.biquad.Q.linearRampToValueAtTime(k,this.ac.currentTime+.02+J)):k&&k.connect(this.biquad.Q),this.biquad.Q.value}},{key:"gain",value:function(k,W){var J=W||0;return typeof k=="number"?(this.biquad.gain.value=k,this.biquad.gain.cancelScheduledValues(this.ac.currentTime+.01+J),this.biquad.gain.linearRampToValueAtTime(k,this.ac.currentTime+.02+J)):k&&k.connect(this.biquad.gain),this.biquad.gain.value}},{key:"toggle",value:function(){return this._on=!this._on,this._on===!0?this.biquad.type=this._untoggledType:this._on===!1&&(this.biquad.type="allpass"),this._on}},{key:"setType",value:function(k){this.biquad.type=k,this._untoggledType=this.biquad.type}},{key:"dispose",value:function(){Dr(br(E.prototype),"dispose",this).call(this),this.biquad&&(this.biquad.disconnect(),delete this.biquad)}}]),E}(lr),yn=function(I){Ir(E,I);function E(){return Kr(this,E),Qr(this,br(E).call(this,"lowpass"))}return E}(Pr),gn=function(I){Ir(E,I);function E(){return Kr(this,E),Qr(this,br(E).call(this,"highpass"))}return E}(Pr),$r=function(I){Ir(E,I);function E(){return Kr(this,E),Qr(this,br(E).call(this,"bandpass"))}return E}(Pr),Tr=Pr;function ur(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ur=function(w){return typeof w}:ur=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},ur(I)}function vn(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function bn(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function Or(I,E,w){return E&&bn(I.prototype,E),I}function _n(I,E){return E&&(ur(E)==="object"||typeof E=="function")?E:to(I)}function to(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function Fr(I){return Fr=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},Fr(I)}function xn(I,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(E&&E.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),E&&on(I,E)}function on(I,E){return on=Object.setPrototypeOf||function(k,W){return k.__proto__=W,k},on(I,E)}var wn=function(I){xn(E,I);function E(w,k){var W;return vn(this,E),W=_n(this,Fr(E).call(this,"peaking")),W.disconnect(),W.set(w,k),W.biquad.gain.value=0,delete W.input,delete W.output,delete W._drywet,delete W.wet,W}return Or(E,[{key:"amp",value:function(){console.warn("`amp()` is not available for p5.EQ bands. Use `.gain()`")}},{key:"drywet",value:function(){console.warn("`drywet()` is not available for p5.EQ bands.")}},{key:"connect",value:function(k){var W=k||p5.soundOut.input;this.biquad?this.biquad.connect(W.input?W.input:W):this.output.connect(W.input?W.input:W)}},{key:"disconnect",value:function(){this.biquad&&this.biquad.disconnect()}},{key:"dispose",value:function(){var k=t.soundArray.indexOf(this);t.soundArray.splice(k,1),this.disconnect(),delete this.biquad}}]),E}(Tr),jn=wn;function Jr(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jr=function(w){return typeof w}:Jr=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},Jr(I)}function Sn(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function ro(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function no(I,E,w){return E&&ro(I.prototype,E),I}function oo(I,E){return E&&(Jr(E)==="object"||typeof E=="function")?E:so(I)}function so(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function Nr(I,E,w){return typeof Reflect<"u"&&Reflect.get?Nr=Reflect.get:Nr=function(W,J,je){var Pe=yr(W,J);if(Pe){var Ne=Object.getOwnPropertyDescriptor(Pe,J);return Ne.get?Ne.get.call(je):Ne.value}},Nr(I,E,w||I)}function yr(I,E){for(;!Object.prototype.hasOwnProperty.call(I,E)&&(I=cr(I),I!==null););return I}function cr(I){return cr=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},cr(I)}function Br(I,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(E&&E.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),E&&Er(I,E)}function Er(I,E){return Er=Object.setPrototypeOf||function(k,W){return k.__proto__=W,k},Er(I,E)}var gr=function(I){Br(E,I);function E(w){var k;Sn(this,E),k=oo(this,cr(E).call(this)),w=w===3||w===8?w:3;var W;w===3?W=Math.pow(2,3):W=2,k.bands=[];for(var J,je,Pe=0;Pe<w;Pe++)Pe===w-1?(J=21e3,je=.01):Pe===0?(J=100,je=.1):Pe===1?(J=w===3?360*W:360,je=1):(J=k.bands[Pe-1].freq()*W,je=1),k.bands[Pe]=k._newBand(J,je),Pe>0?k.bands[Pe-1].connect(k.bands[Pe].biquad):k.input.connect(k.bands[Pe].biquad);return k.bands[w-1].connect(k.output),k}return no(E,[{key:"process",value:function(k){k.connect(this.input)}},{key:"set",value:function(){if(arguments.length===this.bands.length*2)for(var k=0;k<arguments.length;k+=2)this.bands[k/2].freq(arguments[k]),this.bands[k/2].gain(arguments[k+1]);else console.error("Argument mismatch. .set() should be called with "+this.bands.length*2+" arguments. (one frequency and gain value pair for each band of the eq)")}},{key:"_newBand",value:function(k,W){return new jn(k,W)}},{key:"dispose",value:function(){if(Nr(cr(E.prototype),"dispose",this).call(this),this.bands){for(;this.bands.length>0;)delete this.bands.pop().dispose();delete this.bands}}}]),E}(lr),Ur=gr;function io(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function _r(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function en(I,E,w){return E&&_r(I.prototype,E),I}var Tn=function(){function I(E){io(this,I),this.ac=t.audiocontext,this.listener=this.ac.listener}return en(I,[{key:"process",value:function(w){w.connect(this.input)}},{key:"position",value:function(w,k,W,J){return this.positionX(w,J),this.positionY(k,J),this.positionZ(W,J),[this.listener.positionX.value,this.listener.positionY.value,this.listener.positionZ.value]}},{key:"positionX",value:function(w,k){var W=k||0;return typeof w=="number"?(this.listener.positionX.value=w,this.listener.positionX.cancelScheduledValues(this.ac.currentTime+.01+W),this.listener.positionX.linearRampToValueAtTime(w,this.ac.currentTime+.02+W)):w&&w.connect(this.listener.positionX),this.listener.positionX.value}},{key:"positionY",value:function(w,k){var W=k||0;return typeof w=="number"?(this.listener.positionY.value=w,this.listener.positionY.cancelScheduledValues(this.ac.currentTime+.01+W),this.listener.positionY.linearRampToValueAtTime(w,this.ac.currentTime+.02+W)):w&&w.connect(this.listener.positionY),this.listener.positionY.value}},{key:"positionZ",value:function(w,k){var W=k||0;return typeof w=="number"?(this.listener.positionZ.value=w,this.listener.positionZ.cancelScheduledValues(this.ac.currentTime+.01+W),this.listener.positionZ.linearRampToValueAtTime(w,this.ac.currentTime+.02+W)):w&&w.connect(this.listener.positionZ),this.listener.positionZ.value}},{key:"orient",value:function(w,k,W,J,je,Pe,Ne){return arguments.length===3||arguments.length===4?(Ne=arguments[3],this.orientForward(w,k,W,Ne)):(arguments.length===6||arguments===7)&&(this.orientForward(w,k,W),this.orientUp(J,je,Pe,Ne)),[this.listener.forwardX.value,this.listener.forwardY.value,this.listener.forwardZ.value,this.listener.upX.value,this.listener.upY.value,this.listener.upZ.value]}},{key:"orientForward",value:function(w,k,W,J){return this.forwardX(w,J),this.forwardY(k,J),this.forwardZ(W,J),[this.listener.forwardX,this.listener.forwardY,this.listener.forwardZ]}},{key:"orientUp",value:function(w,k,W,J){return this.upX(w,J),this.upY(k,J),this.upZ(W,J),[this.listener.upX,this.listener.upY,this.listener.upZ]}},{key:"forwardX",value:function(w,k){var W=k||0;return typeof w=="number"?(this.listener.forwardX.value=w,this.listener.forwardX.cancelScheduledValues(this.ac.currentTime+.01+W),this.listener.forwardX.linearRampToValueAtTime(w,this.ac.currentTime+.02+W)):w&&w.connect(this.listener.forwardX),this.listener.forwardX.value}},{key:"forwardY",value:function(w,k){var W=k||0;return typeof w=="number"?(this.listener.forwardY.value=w,this.listener.forwardY.cancelScheduledValues(this.ac.currentTime+.01+W),this.listener.forwardY.linearRampToValueAtTime(w,this.ac.currentTime+.02+W)):w&&w.connect(this.listener.forwardY),this.listener.forwardY.value}},{key:"forwardZ",value:function(w,k){var W=k||0;return typeof w=="number"?(this.listener.forwardZ.value=w,this.listener.forwardZ.cancelScheduledValues(this.ac.currentTime+.01+W),this.listener.forwardZ.linearRampToValueAtTime(w,this.ac.currentTime+.02+W)):w&&w.connect(this.listener.forwardZ),this.listener.forwardZ.value}},{key:"upX",value:function(w,k){var W=k||0;return typeof w=="number"?(this.listener.upX.value=w,this.listener.upX.cancelScheduledValues(this.ac.currentTime+.01+W),this.listener.upX.linearRampToValueAtTime(w,this.ac.currentTime+.02+W)):w&&w.connect(this.listener.upX),this.listener.upX.value}},{key:"upY",value:function(w,k){var W=k||0;return typeof w=="number"?(this.listener.upY.value=w,this.listener.upY.cancelScheduledValues(this.ac.currentTime+.01+W),this.listener.upY.linearRampToValueAtTime(w,this.ac.currentTime+.02+W)):w&&w.connect(this.listener.upY),this.listener.upY.value}},{key:"upZ",value:function(w,k){var W=k||0;return typeof w=="number"?(this.listener.upZ.value=w,this.listener.upZ.cancelScheduledValues(this.ac.currentTime+.01+W),this.listener.upZ.linearRampToValueAtTime(w,this.ac.currentTime+.02+W)):w&&w.connect(this.listener.upZ),this.listener.upZ.value}}]),I}(),En=Tn;function Gr(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gr=function(w){return typeof w}:Gr=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},Gr(I)}function kn(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function Mn(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function An(I,E,w){return E&&Mn(I.prototype,E),I}function sn(I,E){return E&&(Gr(E)==="object"||typeof E=="function")?E:Pn(I)}function Pn(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function Vr(I,E,w){return typeof Reflect<"u"&&Reflect.get?Vr=Reflect.get:Vr=function(W,J,je){var Pe=On(W,J);if(Pe){var Ne=Object.getOwnPropertyDescriptor(Pe,J);return Ne.get?Ne.get.call(je):Ne.value}},Vr(I,E,w||I)}function On(I,E){for(;!Object.prototype.hasOwnProperty.call(I,E)&&(I=Cr(I),I!==null););return I}function Cr(I){return Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},Cr(I)}function Cn(I,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(E&&E.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),E&&tn(I,E)}function tn(I,E){return tn=Object.setPrototypeOf||function(k,W){return k.__proto__=W,k},tn(I,E)}var Rn=function(I){Cn(E,I);function E(){var w;return kn(this,E),w=sn(this,Cr(E).call(this)),w.panner=w.ac.createPanner(),w.panner.panningModel="HRTF",w.panner.distanceModel="linear",w.panner.connect(w.output),w.input.connect(w.panner),w}return An(E,[{key:"process",value:function(k){k.connect(this.input)}},{key:"set",value:function(k,W,J,je){return this.positionX(k,je),this.positionY(W,je),this.positionZ(J,je),[this.panner.positionX.value,this.panner.positionY.value,this.panner.positionZ.value]}},{key:"positionX",value:function(k,W){var J=W||0;return typeof k=="number"?(this.panner.positionX.value=k,this.panner.positionX.cancelScheduledValues(this.ac.currentTime+.01+J),this.panner.positionX.linearRampToValueAtTime(k,this.ac.currentTime+.02+J)):k&&k.connect(this.panner.positionX),this.panner.positionX.value}},{key:"positionY",value:function(k,W){var J=W||0;return typeof k=="number"?(this.panner.positionY.value=k,this.panner.positionY.cancelScheduledValues(this.ac.currentTime+.01+J),this.panner.positionY.linearRampToValueAtTime(k,this.ac.currentTime+.02+J)):k&&k.connect(this.panner.positionY),this.panner.positionY.value}},{key:"positionZ",value:function(k,W){var J=W||0;return typeof k=="number"?(this.panner.positionZ.value=k,this.panner.positionZ.cancelScheduledValues(this.ac.currentTime+.01+J),this.panner.positionZ.linearRampToValueAtTime(k,this.ac.currentTime+.02+J)):k&&k.connect(this.panner.positionZ),this.panner.positionZ.value}},{key:"orient",value:function(k,W,J,je){return this.orientX(k,je),this.orientY(W,je),this.orientZ(J,je),[this.panner.orientationX.value,this.panner.orientationY.value,this.panner.orientationZ.value]}},{key:"orientX",value:function(k,W){var J=W||0;return typeof k=="number"?(this.panner.orientationX.value=k,this.panner.orientationX.cancelScheduledValues(this.ac.currentTime+.01+J),this.panner.orientationX.linearRampToValueAtTime(k,this.ac.currentTime+.02+J)):k&&k.connect(this.panner.orientationX),this.panner.orientationX.value}},{key:"orientY",value:function(k,W){var J=W||0;return typeof k=="number"?(this.panner.orientationY.value=k,this.panner.orientationY.cancelScheduledValues(this.ac.currentTime+.01+J),this.panner.orientationY.linearRampToValueAtTime(k,this.ac.currentTime+.02+J)):k&&k.connect(this.panner.orientationY),this.panner.orientationY.value}},{key:"orientZ",value:function(k,W){var J=W||0;return typeof k=="number"?(this.panner.orientationZ.value=k,this.panner.orientationZ.cancelScheduledValues(this.ac.currentTime+.01+J),this.panner.orientationZ.linearRampToValueAtTime(k,this.ac.currentTime+.02+J)):k&&k.connect(this.panner.orientationZ),this.panner.orientationZ.value}},{key:"setFalloff",value:function(k,W){this.maxDist(k),this.rolloff(W)}},{key:"maxDist",value:function(k){return typeof k=="number"&&(this.panner.maxDistance=k),this.panner.maxDistance}},{key:"rolloff",value:function(k){return typeof k=="number"&&(this.panner.rolloffFactor=k),this.panner.rolloffFactor}},{key:"dispose",value:function(){Vr(Cr(E.prototype),"dispose",this).call(this),this.panner&&(this.panner.disconnect(),delete this.panner)}}]),E}(lr),Ln=Rn;function zr(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zr=function(w){return typeof w}:zr=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},zr(I)}function an(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function rn(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function ln(I,E,w){return E&&rn(I.prototype,E),I}function Dn(I,E){return E&&(zr(E)==="object"||typeof E=="function")?E:xr(I)}function xr(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function pr(I,E,w){return typeof Reflect<"u"&&Reflect.get?pr=Reflect.get:pr=function(W,J,je){var Pe=dt(W,J);if(Pe){var Ne=Object.getOwnPropertyDescriptor(Pe,J);return Ne.get?Ne.get.call(je):Ne.value}},pr(I,E,w||I)}function dt(I,E){for(;!Object.prototype.hasOwnProperty.call(I,E)&&(I=qr(I),I!==null););return I}function qr(I){return qr=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},qr(I)}function In(I,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(E&&E.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),E&&wr(I,E)}function wr(I,E){return wr=Object.setPrototypeOf||function(k,W){return k.__proto__=W,k},wr(I,E)}var ao=function(I){In(E,I);function E(){var w;return an(this,E),w=Dn(this,qr(E).call(this)),w._split=w.ac.createChannelSplitter(2),w._merge=w.ac.createChannelMerger(2),w._leftGain=w.ac.createGain(),w._rightGain=w.ac.createGain(),w.leftDelay=w.ac.createDelay(),w.rightDelay=w.ac.createDelay(),w._leftFilter=new Tr,w._rightFilter=new Tr,w._leftFilter.disconnect(),w._rightFilter.disconnect(),w._leftFilter.biquad.frequency.setValueAtTime(1200,w.ac.currentTime),w._rightFilter.biquad.frequency.setValueAtTime(1200,w.ac.currentTime),w._leftFilter.biquad.Q.setValueAtTime(.3,w.ac.currentTime),w._rightFilter.biquad.Q.setValueAtTime(.3,w.ac.currentTime),w.input.connect(w._split),w.leftDelay.connect(w._leftGain),w.rightDelay.connect(w._rightGain),w._leftGain.connect(w._leftFilter.input),w._rightGain.connect(w._rightFilter.input),w._merge.connect(w.wet),w._leftFilter.biquad.gain.setValueAtTime(1,w.ac.currentTime),w._rightFilter.biquad.gain.setValueAtTime(1,w.ac.currentTime),w.setType(0),w._maxDelay=w.leftDelay.delayTime.maxValue,w.feedback(.5),w}return ln(E,[{key:"process",value:function(k,W,J,je){var Pe=J||0,Ne=W||0;if(Pe>=1)throw new Error("Feedback value will force a positive feedback loop.");if(Ne>=this._maxDelay)throw new Error("Delay Time exceeds maximum delay time of "+this._maxDelay+" second.");k.connect(this.input),this.leftDelay.delayTime.setValueAtTime(Ne,this.ac.currentTime),this.rightDelay.delayTime.setValueAtTime(Ne,this.ac.currentTime),this._leftGain.gain.value=Pe,this._rightGain.gain.value=Pe,je&&(this._leftFilter.freq(je),this._rightFilter.freq(je))}},{key:"delayTime",value:function(k){typeof k!="number"?(k.connect(this.leftDelay.delayTime),k.connect(this.rightDelay.delayTime)):(this.leftDelay.delayTime.cancelScheduledValues(this.ac.currentTime),this.rightDelay.delayTime.cancelScheduledValues(this.ac.currentTime),this.leftDelay.delayTime.linearRampToValueAtTime(k,this.ac.currentTime),this.rightDelay.delayTime.linearRampToValueAtTime(k,this.ac.currentTime))}},{key:"feedback",value:function(k){if(k&&typeof k!="number")k.connect(this._leftGain.gain),k.connect(this._rightGain.gain);else{if(k>=1)throw new Error("Feedback value will force a positive feedback loop.");typeof k=="number"&&(this._leftGain.gain.value=k,this._rightGain.gain.value=k)}return this._leftGain.gain.value}},{key:"filter",value:function(k,W){this._leftFilter.set(k,W),this._rightFilter.set(k,W)}},{key:"setType",value:function(k){switch(k===1&&(k="pingPong"),this._split.disconnect(),this._leftFilter.disconnect(),this._rightFilter.disconnect(),this._split.connect(this.leftDelay,0),this._split.connect(this.rightDelay,1),k){case"pingPong":this._rightFilter.setType(this._leftFilter.biquad.type),this._leftFilter.output.connect(this._merge,0,0),this._rightFilter.output.connect(this._merge,0,1),this._leftFilter.output.connect(this.rightDelay),this._rightFilter.output.connect(this.leftDelay);break;default:this._leftFilter.output.connect(this._merge,0,0),this._rightFilter.output.connect(this._merge,0,1),this._leftFilter.output.connect(this.leftDelay),this._rightFilter.output.connect(this.rightDelay)}}},{key:"dispose",value:function(){pr(qr(E.prototype),"dispose",this).call(this),this._split.disconnect(),this._leftFilter.dispose(),this._rightFilter.dispose(),this._merge.disconnect(),this._leftGain.disconnect(),this._rightGain.disconnect(),this.leftDelay.disconnect(),this.rightDelay.disconnect(),this._split=void 0,this._leftFilter=void 0,this._rightFilter=void 0,this._merge=void 0,this._leftGain=void 0,this._rightGain=void 0,this.leftDelay=void 0,this.rightDelay=void 0}}]),E}(lr),lo=ao;function At(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?At=function(w){return typeof w}:At=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},At(I)}function Fn(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function mr(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function Nn(I,E,w){return E&&mr(I.prototype,E),I}function Bn(I,E){return E&&(At(E)==="object"||typeof E=="function")?E:uo(I)}function uo(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function Wr(I,E,w){return typeof Reflect<"u"&&Reflect.get?Wr=Reflect.get:Wr=function(W,J,je){var Pe=co(W,J);if(Pe){var Ne=Object.getOwnPropertyDescriptor(Pe,J);return Ne.get?Ne.get.call(je):Ne.value}},Wr(I,E,w||I)}function co(I,E){for(;!Object.prototype.hasOwnProperty.call(I,E)&&(I=jr(I),I!==null););return I}function jr(I){return jr=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},jr(I)}function Yt(I,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(E&&E.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),E&&Hr(I,E)}function Hr(I,E){return Hr=Object.setPrototypeOf||function(k,W){return k.__proto__=W,k},Hr(I,E)}var u=function(I){Yt(E,I);function E(){var w;return Fn(this,E),w=Bn(this,jr(E).call(this)),w._initConvolverNode(),w.input.gain.value=.5,w._seconds=3,w._decay=2,w._reverse=!1,w._buildImpulse(),w}return Nn(E,[{key:"_initConvolverNode",value:function(){this.convolverNode=this.ac.createConvolver(),this.input.connect(this.convolverNode),this.convolverNode.connect(this.wet)}},{key:"_teardownConvolverNode",value:function(){this.convolverNode&&(this.convolverNode.disconnect(),delete this.convolverNode)}},{key:"_setBuffer",value:function(k){this._teardownConvolverNode(),this._initConvolverNode(),this.convolverNode.buffer=k}},{key:"process",value:function(k,W,J,je){k.connect(this.input);var Pe=!1;W&&(this._seconds=W,Pe=!0),J&&(this._decay=J),je&&(this._reverse=je),Pe&&this._buildImpulse()}},{key:"set",value:function(k,W,J){var je=!1;k&&(this._seconds=k,je=!0),W&&(this._decay=W),J&&(this._reverse=J),je&&this._buildImpulse()}},{key:"_buildImpulse",value:function(){var k=this.ac.sampleRate,W=k*this._seconds,J=this._decay,je=this.ac.createBuffer(2,W,k),Pe=je.getChannelData(0),Ne=je.getChannelData(1),ht,pt;for(pt=0;pt<W;pt++)ht=this._reverse?W-pt:pt,Pe[pt]=(Math.random()*2-1)*Math.pow(1-ht/W,J),Ne[pt]=(Math.random()*2-1)*Math.pow(1-ht/W,J);this._setBuffer(je)}},{key:"dispose",value:function(){Wr(jr(E.prototype),"dispose",this).call(this),this._teardownConvolverNode()}}]),E}(lr),v=function(I){Yt(E,I);function E(w,k,W){var J;return Fn(this,E),J=Bn(this,jr(E).call(this)),J._initConvolverNode(),J.input.gain.value=.5,w?(J.impulses=[],J._loadBuffer(w,k,W)):(J._seconds=3,J._decay=2,J._reverse=!1,J._buildImpulse()),J.impulses=[],J.set=null,J}return Nn(E,[{key:"_loadBuffer",value:function(k,W,J){var je=p5.prototype._checkFileFormats(k),Pe=this,Ne=new Error().stack,ht=Object(Ae.b)(),pt=new XMLHttpRequest;pt.open("GET",je,!0),pt.responseType="arraybuffer",pt.onload=function(){if(pt.status===200)ht.decodeAudioData(pt.response,function(ar){var dr={},kr=je.split("/");dr.name=kr[kr.length-1],dr.audioBuffer=ar,Pe.impulses.push(dr),Pe._setBuffer(dr.audioBuffer),W&&W(dr)},function(){var ar=new b("decodeAudioData",Ne,Pe.url),dr="AudioContext error at decodeAudioData for "+Pe.url;J?(ar.msg=dr,J(ar)):console.error(dr+`
 The error stack trace includes: 
`+ar.stack)});else{var Ft=new b("loadConvolver",Ne,Pe.url),vr="Unable to load "+Pe.url+". The request status was: "+pt.status+" ("+pt.statusText+")";J?(Ft.message=vr,J(Ft)):console.error(vr+`
 The error stack trace includes: 
`+Ft.stack)}},pt.onerror=function(){var Ft=new b("loadConvolver",Ne,Pe.url),vr="There was no response from the server at "+Pe.url+". Check the url and internet connectivity.";J?(Ft.message=vr,J(Ft)):console.error(vr+`
 The error stack trace includes: 
`+Ft.stack)},pt.send()}},{key:"process",value:function(k){k.connect(this.input)}},{key:"addImpulse",value:function(k,W,J){window.location.origin.indexOf("file://")>-1&&window.cordova==="undefined"&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS"),this._loadBuffer(k,W,J)}},{key:"resetImpulse",value:function(k,W,J){window.location.origin.indexOf("file://")>-1&&window.cordova==="undefined"&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS"),this.impulses=[],this._loadBuffer(k,W,J)}},{key:"toggleImpulse",value:function(k){if(typeof k=="number"&&k<this.impulses.length&&this._setBuffer(this.impulses[k].audioBuffer),typeof k=="string"){for(var W=0;W<this.impulses.length;W++)if(this.impulses[W].name===k){this._setBuffer(this.impulses[W].audioBuffer);break}}}},{key:"dispose",value:function(){Wr(jr(E.prototype),"dispose",this).call(this);for(var k in this.impulses)this.impulses[k]&&(this.impulses[k]=null)}}]),E}(u);function j(I,E,w){window.location.origin.indexOf("file://")>-1&&window.cordova==="undefined"&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS");var k=this,W=new v(I,function(J){typeof E=="function"&&E(J),typeof k._decrementPreload=="function"&&k._decrementPreload()},w);return W.impulses=[],W}var P=xe(11),B=xe.n(P);function H(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function X(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function ae(I,E,w){return E&&X(I.prototype,E),I}var fe=function(){function I(){H(this,I),this.clock=new B.a({callback:this.ontick.bind(this)}),this.syncedParts=[],this.bpm=120,this._init(),this.prevTick=0,this.tatumTime=0,this.tickCallback=function(){}}return ae(I,[{key:"ontick",value:function(w){var k=w-this.prevTick,W=w-t.audiocontext.currentTime;if(!(k-this.tatumTime<=-.02)){this.prevTick=w;var J=this;this.syncedParts.forEach(function(je){je.isPlaying&&(je.incrementStep(W),je.phrases.forEach(function(Pe){var Ne=Pe.sequence,ht=J.metroTicks%Ne.length;Ne[ht]!==0&&(J.metroTicks<Ne.length||!Pe.looping)&&Pe.callback(W,Ne[ht])}))}),this.metroTicks+=1,this.tickCallback(W)}}},{key:"setBPM",value:function(w){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=60/(w*this.tatums),J=t.audiocontext.currentTime;this.tatumTime=W,this.clock.frequency.setValueAtTime(this.clock.frequency.value,J),this.clock.frequency.linearRampToValueAtTime(w,J+k),this.bpm=w}},{key:"getBPM",value:function(){return this.clock.getRate()/this.tatums*60}},{key:"_init",value:function(){this.metroTicks=0}},{key:"resetSync",value:function(w){this.syncedParts=[w]}},{key:"pushSync",value:function(w){this.syncedParts.push(w)}},{key:"start",value:function(w){var k=w||0,W=t.audiocontext.currentTime;this.clock.start(W+k),this.setBPM(this.bpm)}},{key:"stop",value:function(w){var k=w||0,W=t.audiocontext.currentTime;this.clock.stop(W+k)}},{key:"beatLength",value:function(w){this.tatums=1/w/4}}]),I}(),pe=fe;function Se(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function ke(I,E,w){return E&&Se(I.prototype,E),I}function Me(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}var be=120;p5.prototype.setBPM=function(I,E){be=I;for(var w in t.parts)t.parts[w]&&t.parts[w].setBPM(I,E)};var Xe=function I(E,w,k){Me(this,I),this.phraseStep=0,this.name=E,this.callback=w,this.sequence=k},De=function(){function I(E,w){Me(this,I),this.length=E||0,this.partStep=0,this.phrases=[],this.isPlaying=!1,this.noLoop(),this.tatums=w||.0625,this.metro=new pe,this.metro._init(),this.metro.beatLength(this.tatums),this.metro.setBPM(be),t.parts.push(this),this.callback=function(){}}return ke(I,[{key:"setBPM",value:function(w,k){this.metro.setBPM(w,k)}},{key:"getBPM",value:function(){return this.metro.getBPM()}},{key:"start",value:function(w){if(!this.isPlaying){this.isPlaying=!0,this.metro.resetSync(this);var k=w||0;this.metro.start(k)}}},{key:"loop",value:function(w){this.looping=!0,this.onended=function(){this.partStep=0};var k=w||0;this.start(k)}},{key:"noLoop",value:function(){this.looping=!1,this.onended=function(){this.stop()}}},{key:"stop",value:function(w){this.partStep=0,this.pause(w)}},{key:"pause",value:function(w){this.isPlaying=!1;var k=w||0;this.metro.stop(k)}},{key:"addPhrase",value:function(w,k,W){var J;if(arguments.length===3)J=new Xe(w,k,W);else if(arguments[0]instanceof Xe)J=arguments[0];else throw"invalid input. addPhrase accepts name, callback, array or a p5.Phrase";this.phrases.push(J),J.sequence.length>this.length&&(this.length=J.sequence.length)}},{key:"removePhrase",value:function(w){for(var k in this.phrases)this.phrases[k].name===w&&this.phrases.splice(k,1)}},{key:"getPhrase",value:function(w){for(var k in this.phrases)if(this.phrases[k].name===w)return this.phrases[k]}},{key:"replaceSequence",value:function(w,k){for(var W in this.phrases)this.phrases[W].name===w&&(this.phrases[W].sequence=k)}},{key:"incrementStep",value:function(w){this.partStep<this.length-1?(this.callback(w),this.partStep+=1):!this.looping&&this.partStep===this.length-1&&this.onended()}},{key:"onStep",value:function(w){this.callback=w}}]),I}(),Be=function(){function I(){Me(this,I),this.parts=[],this.currentPart=new Array(arguments.length);var E=this;for(var w in arguments)this.parts[w]=arguments[w],this.parts[w].nextPart=this.parts[w+1],this.parts[w].onended=function(){E.resetPart(w),Ie(E)};this.looping=!1}return ke(I,[{key:"onended",value:function(){this.looping?this.parts[0].start():this.parts[this.parts.length-1].onended=function(){this.stop(),this.resetParts()},this.currentPart=0}},{key:"start",value:function(){this.parts[this.currentPart].start(),this.scoreStep=0}},{key:"stop",value:function(){this.parts[this.currentPart].stop(),this.currentPart=0,this.scoreStep=0}},{key:"pause",value:function(){this.parts[this.currentPart].stop()}},{key:"loop",value:function(){this.looping=!0,this.start()}},{key:"noLoop",value:function(){this.looping=!1}},{key:"resetParts",value:function(){var w=this;this.parts.forEach(function(k){w.resetParts[k]})}},{key:"resetPart",value:function(w){this.parts[w].stop(),this.parts[w].partStep=0;for(var k in this.parts[w].phrases)this.parts[w]&&(this.parts[w].phrases[k].phraseStep=0)}},{key:"setBPM",value:function(w,k){for(var W in this.parts)this.parts[W]&&this.parts[W].setBPM(w,k)}}]),I}();function Ie(I){I.currentPart++,I.currentPart>=I.parts.length?(I.scoreStep=0,I.onended()):(I.scoreStep=0,I.parts[I.currentPart-1].stop(),I.parts[I.currentPart].start())}function Ue(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function it(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function nt(I,E,w){return E&&it(I.prototype,E),I}var at=function(){function I(E,w){Ue(this,I),Object.defineProperty(this,"bpm",{get:function(){return this._bpm},set:function(J){this.musicalTimeMode||console.warn('Changing the BPM in "seconds" mode has no effect. BPM is only relevant in musicalTimeMode when the interval is specified as a string ("2n", "4n", "1m"...etc)'),this._bpm=J,this._update()}}),Object.defineProperty(this,"timeSignature",{get:function(){return this._timeSignature},set:function(J){this.musicalTimeMode||console.warn('Changing the timeSignature in "seconds" mode has no effect. BPM is only relevant in musicalTimeMode when the interval is specified as a string ("2n", "4n", "1m"...etc)'),this._timeSignature=J,this._update()}}),Object.defineProperty(this,"interval",{get:function(){return this._interval},set:function(J){this.musicalTimeMode=typeof J!="number",this._interval=J,this._update()}}),Object.defineProperty(this,"iterations",{get:function(){return this.clock.ticks}}),this.callback=E,this.musicalTimeMode=typeof this._interval!="number",this._interval=w||1,this._timeSignature=4,this._bpm=60,this.isPlaying=!1,this.maxIterations=1/0;var k=this;this.clock=new B.a({callback:function(J){var je=J-t.audiocontext.currentTime;je>0&&k.iterations<=k.maxIterations&&k.callback(je)},frequency:this._calcFreq()})}return nt(I,[{key:"start",value:function(w){var k=w||0,W=t.audiocontext.currentTime;this.isPlaying||(this.clock.start(W+k),this.isPlaying=!0)}},{key:"stop",value:function(w){var k=w||0,W=t.audiocontext.currentTime;this.isPlaying&&(this.clock.stop(W+k),this.isPlaying=!1)}},{key:"pause",value:function(w){var k=w||0,W=t.audiocontext.currentTime;this.isPlaying&&(this.clock.pause(W+k),this.isPlaying=!1)}},{key:"syncedStart",value:function(w,k){var W=k||0,J=t.audiocontext.currentTime;if(!w.isPlaying)w.clock.start(J+W),w.isPlaying=!0,this.clock.start(J+W),this.isPlaying=!0;else if(w.isPlaying){var je=w.clock._nextTick-t.audiocontext.currentTime;this.clock.start(J+je),this.isPlaying=!0}}},{key:"_update",value:function(){this.clock.frequency.value=this._calcFreq()}},{key:"_calcFreq",value:function(){if(typeof this._interval=="number")return this.musicalTimeMode=!1,1/this._interval;if(typeof this._interval=="string")return this.musicalTimeMode=!0,this._bpm/60/this._convertNotation(this._interval)*(this._timeSignature/4)}},{key:"_convertNotation",value:function(w){var k=w.slice(-1);switch(w=Number(w.slice(0,-1)),k){case"m":return this._measure(w);case"n":return this._note(w);default:console.warn("Specified interval is not formatted correctly. See Tone.js timing reference for more info: https://github.com/Tonejs/Tone.js/wiki/Time")}}},{key:"_measure",value:function(w){return w*this._timeSignature}},{key:"_note",value:function(w){return this._timeSignature/w}}]),I}(),St=at;function wt(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wt=function(w){return typeof w}:wt=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},wt(I)}function Ot(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function Gt(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function Nt(I,E,w){return E&&Gt(I.prototype,E),I}function Ct(I,E){return E&&(wt(E)==="object"||typeof E=="function")?E:bt(I)}function bt(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function Vt(I,E,w){return typeof Reflect<"u"&&Reflect.get?Vt=Reflect.get:Vt=function(W,J,je){var Pe=Ht(W,J);if(Pe){var Ne=Object.getOwnPropertyDescriptor(Pe,J);return Ne.get?Ne.get.call(je):Ne.value}},Vt(I,E,w||I)}function Ht(I,E){for(;!Object.prototype.hasOwnProperty.call(I,E)&&(I=Bt(I),I!==null););return I}function Bt(I){return Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},Bt(I)}function Rt(I,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(E&&E.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),E&&Xt(I,E)}function Xt(I,E){return Xt=Object.setPrototypeOf||function(k,W){return k.__proto__=W,k},Xt(I,E)}var Qt=function(I){Rt(E,I);function E(){var w;return Ot(this,E),w=Ct(this,Bt(E).call(this)),w.compressor=w.ac.createDynamicsCompressor(),w.input.connect(w.compressor),w.compressor.connect(w.wet),w}return Nt(E,[{key:"process",value:function(k,W,J,je,Pe,Ne){k.connect(this.input),this.set(W,J,je,Pe,Ne)}},{key:"set",value:function(k,W,J,je,Pe){typeof k<"u"&&this.attack(k),typeof W<"u"&&this.knee(W),typeof J<"u"&&this.ratio(J),typeof je<"u"&&this.threshold(je),typeof Pe<"u"&&this.release(Pe)}},{key:"attack",value:function(k,W){var J=W||0;return typeof k=="number"?(this.compressor.attack.value=k,this.compressor.attack.cancelScheduledValues(this.ac.currentTime+.01+J),this.compressor.attack.linearRampToValueAtTime(k,this.ac.currentTime+.02+J)):typeof k<"u"&&k.connect(this.compressor.attack),this.compressor.attack.value}},{key:"knee",value:function(k,W){var J=W||0;return typeof k=="number"?(this.compressor.knee.value=k,this.compressor.knee.cancelScheduledValues(this.ac.currentTime+.01+J),this.compressor.knee.linearRampToValueAtTime(k,this.ac.currentTime+.02+J)):typeof k<"u"&&k.connect(this.compressor.knee),this.compressor.knee.value}},{key:"ratio",value:function(k,W){var J=W||0;return typeof k=="number"?(this.compressor.ratio.value=k,this.compressor.ratio.cancelScheduledValues(this.ac.currentTime+.01+J),this.compressor.ratio.linearRampToValueAtTime(k,this.ac.currentTime+.02+J)):typeof k<"u"&&k.connect(this.compressor.ratio),this.compressor.ratio.value}},{key:"threshold",value:function(k,W){var J=W||0;return typeof k=="number"?(this.compressor.threshold.value=k,this.compressor.threshold.cancelScheduledValues(this.ac.currentTime+.01+J),this.compressor.threshold.linearRampToValueAtTime(k,this.ac.currentTime+.02+J)):typeof k<"u"&&k.connect(this.compressor.threshold),this.compressor.threshold.value}},{key:"release",value:function(k,W){var J=W||0;return typeof k=="number"?(this.compressor.release.value=k,this.compressor.release.cancelScheduledValues(this.ac.currentTime+.01+J),this.compressor.release.linearRampToValueAtTime(k,this.ac.currentTime+.02+J)):typeof number<"u"&&k.connect(this.compressor.release),this.compressor.release.value}},{key:"reduction",value:function(){return this.compressor.reduction.value}},{key:"dispose",value:function(){Vt(Bt(E.prototype),"dispose",this).call(this),this.compressor&&(this.compressor.disconnect(),delete this.compressor)}}]),E}(lr),sr=Qt;function Ut(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function Jt(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function Yr(I,E,w){return E&&Jt(I.prototype,E),I}var Xr=function(){function I(E,w,k,W){Ut(this,I),this.framesPerPeak=W||20,this.framesSinceLastPeak=0,this.decayRate=.95,this.threshold=k||.35,this.cutoff=0,this.cutoffMult=1.5,this.energy=0,this.penergy=0,this.currentValue=0,this.isDetected=!1,this.f1=E||40,this.f2=w||2e4,this._onPeak=function(){}}return Yr(I,[{key:"update",value:function(w){var k=this.energy=w.getEnergy(this.f1,this.f2)/255;k>this.cutoff&&k>this.threshold&&k-this.penergy>0?(this._onPeak(),this.isDetected=!0,this.cutoff=k*this.cutoffMult,this.framesSinceLastPeak=0):(this.isDetected=!1,this.framesSinceLastPeak<=this.framesPerPeak?this.framesSinceLastPeak++:(this.cutoff*=this.decayRate,this.cutoff=Math.max(this.cutoff,this.threshold))),this.currentValue=k,this.penergy=k}},{key:"onPeak",value:function(w,k){var W=this;W._onPeak=function(){w(W.energy,k)}}}]),I}(),wo=Xr;function Go(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function Vo(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function zo(I,E,w){return E&&Vo(I.prototype,E),I}var Un=t.audiocontext,qo=function(){function I(){Go(this,I),this.input=Un.createGain(),this.output=Un.createGain(),this._inputChannels=2,this._outputChannels=2;var E=c(1024);this._workletNode=new AudioWorkletNode(Un,_.a.recorderProcessor,{outputChannelCount:[this._outputChannels],processorOptions:{numInputChannels:this._inputChannels,bufferSize:E}}),this._workletNode.port.onmessage=(function(w){if(w.data.name==="buffers"){var k=[new Float32Array(w.data.leftBuffer),new Float32Array(w.data.rightBuffer)];this._callback(k)}}).bind(this),this._callback=function(){},this._workletNode.connect(p5.soundOut._silentNode),this.setInput(),t.soundArray.push(this)}return zo(I,[{key:"setInput",value:function(w){this.input.disconnect(),this.input=null,this.input=Un.createGain(),this.input.connect(this._workletNode),this.input.connect(this.output),w?w.connect(this.input):p5.soundOut.output.connect(this.input)}},{key:"record",value:function(w,k,W){this._workletNode.port.postMessage({name:"start",duration:k}),w&&W?this._callback=function(J){w.setBuffer(J),W()}:w&&(this._callback=function(J){w.setBuffer(J)})}},{key:"stop",value:function(){this._workletNode.port.postMessage({name:"stop"})}},{key:"dispose",value:function(){var w=t.soundArray.indexOf(this);t.soundArray.splice(w,1),this._callback=function(){},this.input&&this.input.disconnect(),this.input=null,this._workletNode=null}}]),I}(),Wo=qo;function Gn(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gn=function(w){return typeof w}:Gn=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},Gn(I)}function Ho(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function Yo(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function Xo(I,E,w){return E&&Yo(I.prototype,E),I}function Zo(I,E){return E&&(Gn(E)==="object"||typeof E=="function")?E:Ko(I)}function Ko(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function Vn(I,E,w){return typeof Reflect<"u"&&Reflect.get?Vn=Reflect.get:Vn=function(W,J,je){var Pe=Qo(W,J);if(Pe){var Ne=Object.getOwnPropertyDescriptor(Pe,J);return Ne.get?Ne.get.call(je):Ne.value}},Vn(I,E,w||I)}function Qo(I,E){for(;!Object.prototype.hasOwnProperty.call(I,E)&&(I=un(I),I!==null););return I}function un(I){return un=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},un(I)}function $o(I,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(E&&E.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),E&&fo(I,E)}function fo(I,E){return fo=Object.setPrototypeOf||function(k,W){return k.__proto__=W,k},fo(I,E)}function jo(I){for(var E=typeof I=="number"?I:50,w=44100,k=new Float32Array(w),W=Math.PI/180,J=0,je;J<w;++J)je=J*2/w-1,k[J]=(3+E)*je*20*W/(Math.PI+E*Math.abs(je));return k}var Jo=function(I){$o(E,I);function E(w,k){var W;if(Ho(this,E),W=Zo(this,un(E).call(this)),typeof w>"u"&&(w=.25),typeof w!="number")throw new Error("amount must be a number");if(typeof k>"u"&&(k="2x"),typeof k!="string")throw new Error("oversample must be a String");var J=p5.prototype.map(w,0,1,0,2e3);return W.waveShaperNode=W.ac.createWaveShaper(),W.amount=J,W.waveShaperNode.curve=jo(J),W.waveShaperNode.oversample=k,W.input.connect(W.waveShaperNode),W.waveShaperNode.connect(W.wet),W}return Xo(E,[{key:"process",value:function(k,W,J){k.connect(this.input),this.set(W,J)}},{key:"set",value:function(k,W){if(k){var J=p5.prototype.map(k,0,1,0,2e3);this.amount=J,this.waveShaperNode.curve=jo(J)}W&&(this.waveShaperNode.oversample=W)}},{key:"getAmount",value:function(){return this.amount}},{key:"getOversample",value:function(){return this.waveShaperNode.oversample}},{key:"dispose",value:function(){Vn(un(E.prototype),"dispose",this).call(this),this.waveShaperNode&&(this.waveShaperNode.disconnect(),this.waveShaperNode=null)}}]),E}(lr),es=Jo;function ts(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function rs(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function ns(I,E,w){return E&&rs(I.prototype,E),I}var os=function(){function I(){ts(this,I),this.ac=t.audiocontext,this.input=this.ac.createGain(),this.output=this.ac.createGain(),this.input.gain.value=.5,this.input.connect(this.output),t.soundArray.push(this)}return ns(I,[{key:"setInput",value:function(w){w.connect(this.input)}},{key:"connect",value:function(w){var k=w||p5.soundOut.input;this.output.connect(k.input?k.input:k)}},{key:"disconnect",value:function(){this.output&&this.output.disconnect()}},{key:"amp",value:function(w){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,J=t.audiocontext.currentTime,je=this.output.gain.value;this.output.gain.cancelScheduledValues(J),this.output.gain.linearRampToValueAtTime(je,J+W),this.output.gain.linearRampToValueAtTime(w,J+W+k)}},{key:"dispose",value:function(){var w=t.soundArray.indexOf(this);t.soundArray.splice(w,1),this.output&&(this.output.disconnect(),delete this.output),this.input&&(this.input.disconnect(),delete this.input)}}]),I}(),ss=os;function is(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function as(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function ls(I,E,w){return E&&as(I.prototype,E),I}var us=function(){function I(){is(this,I),this.ac=t.audiocontext,this.output=this.ac.createGain(),this.connect(),t.soundArray.push(this)}return ls(I,[{key:"play",value:function(w,k,W,J){}},{key:"triggerAttack",value:function(w,k,W){}},{key:"triggerRelease",value:function(w){}},{key:"amp",value:function(w,k){}},{key:"connect",value:function(w){var k=w||t.input;this.output.connect(k.input?k.input:k)}},{key:"disconnect",value:function(){this.output.disconnect()}},{key:"dispose",value:function(){this.output&&(this.output.disconnect(),delete this.output)}}]),I}(),So=us;function zn(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zn=function(w){return typeof w}:zn=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},zn(I)}function cs(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function fs(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function ds(I,E,w){return E&&fs(I.prototype,E),I}function hs(I,E){return E&&(zn(E)==="object"||typeof E=="function")?E:ho(I)}function ho(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function qn(I,E,w){return typeof Reflect<"u"&&Reflect.get?qn=Reflect.get:qn=function(W,J,je){var Pe=ps(W,J);if(Pe){var Ne=Object.getOwnPropertyDescriptor(Pe,J);return Ne.get?Ne.get.call(je):Ne.value}},qn(I,E,w||I)}function ps(I,E){for(;!Object.prototype.hasOwnProperty.call(I,E)&&(I=cn(I),I!==null););return I}function cn(I){return cn=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},cn(I)}function ms(I,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(E&&E.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),E&&po(I,E)}function po(I,E){return po=Object.setPrototypeOf||function(k,W){return k.__proto__=W,k},po(I,E)}var ys=.15,gs=function(I){ms(E,I);function E(){var w;return cs(this,E),w=hs(this,cn(E).call(this)),w.oscillator=new gt,w.env=new Lt,w.env.setRange(1,0),w.env.setExp(!0),w.setADSR(.02,.25,.05,.35),w.oscillator.disconnect(),w.oscillator.connect(w.output),w.env.disconnect(),w.env.setInput(w.output.gain),w.oscillator.output.gain.value=1,w.oscillator.start(),w.connect(),t.soundArray.push(ho(w)),Object.defineProperties(ho(w),{attack:{get:function(){return this.env.aTime},set:function(W){this.env.setADSR(W,this.env.dTime,this.env.sPercent,this.env.rTime)}},decay:{get:function(){return this.env.dTime},set:function(W){this.env.setADSR(this.env.aTime,W,this.env.sPercent,this.env.rTime)}},sustain:{get:function(){return this.env.sPercent},set:function(W){this.env.setADSR(this.env.aTime,this.env.dTime,W,this.env.rTime)}},release:{get:function(){return this.env.rTime},set:function(W){this.env.setADSR(this.env.aTime,this.env.dTime,this.env.sPercent,W)}}}),w}return ds(E,[{key:"play",value:function(k,W,J,je){this.triggerAttack(k,W,~~J),this.triggerRelease(~~J+(je||ys))}},{key:"triggerAttack",value:function(k,W){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,je=y(k),Pe=W||.1;this.oscillator.freq(je,0,J),this.env.ramp(this.output.gain,J,Pe)}},{key:"triggerRelease",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.env.ramp(this.output.gain,k,0)}},{key:"setADSR",value:function(k,W,J,je){this.env.setADSR(k,W,J,je)}},{key:"amp",value:function(k,W){var J=W||0;return typeof k<"u"&&this.oscillator.amp(k,J),this.oscillator.amp().value}},{key:"connect",value:function(k){var W=k||t.input;this.output.connect(W.input?W.input:W)}},{key:"disconnect",value:function(){this.output&&this.output.disconnect()}},{key:"dispose",value:function(){qn(cn(E.prototype),"dispose",this).call(this),this.env&&this.env.dispose(),this.oscillator&&this.oscillator.dispose()}}]),E}(So),vs=gs;function bs(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function _s(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function xs(I,E,w){return E&&_s(I.prototype,E),I}var ws=function(){function I(E,w,k,W){bs(this,I),this.isDetected=!1,this.freqLow=E,this.freqHigh=w,this.treshold=k,this.energy=0,this.penergy=0,this.sensitivity=500,this.callback=W}return xs(I,[{key:"update",value:function(w,k){if(this.energy=w.getEnergy(this.freqLow,this.freqHigh)/255,this.isDetected===!1&&this.energy-this.penergy>this.treshold){this.isDetected=!0,this.callback?this.callback(this.energy):k&&k(this.energy);var W=this;setTimeout(function(){W.isDetected=!1},this.sensitivity)}this.penergy=this.energy}}]),I}(),js=ws;function Ss(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function Ts(I,E){for(var w=0;w<E.length;w++){var k=E[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function Es(I,E,w){return E&&Ts(I.prototype,E),I}var ks=function(){function I(E,w){Ss(this,I),this.audiovoices=[],this.notes={},this._newest=0,this._oldest=0,this.maxVoices=w||8,this.AudioVoice=E===void 0?p5.MonoSynth:E,this._voicesInUse=new yt.a(0),this.output=t.audiocontext.createGain(),this.connect(),this._allocateVoices(),t.soundArray.push(this)}return Es(I,[{key:"_allocateVoices",value:function(){for(var w=0;w<this.maxVoices;w++)this.audiovoices.push(new this.AudioVoice),this.audiovoices[w].disconnect(),this.audiovoices[w].connect(this.output)}},{key:"play",value:function(w,k,W){var J=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;this.noteAttack(w,k,W),this.noteRelease(w,W+J)}},{key:"noteADSR",value:function(w,k,W,J,je){var Pe=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,Ne=t.audiocontext.currentTime,ht=Ne+Pe;this.audiovoices[this.notes[w].getValueAtTime(ht)].setADSR(k,W,J,je)}},{key:"setADSR",value:function(w,k,W,J){this.audiovoices.forEach(function(je){je.setADSR(w,k,W,J)})}},{key:"noteAttack",value:function(w,k){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,J=t.audiocontext.currentTime+W,je=y(w),Pe=k||.1,Ne;this.notes[je]&&this.notes[je].getValueAtTime(J)!==null&&this.noteRelease(je,0),this._voicesInUse.getValueAtTime(J)<this.maxVoices?Ne=Math.max(~~this._voicesInUse.getValueAtTime(J),0):(Ne=this._oldest,oldestNote=l(this.audiovoices[this._oldest].oscillator.freq().value),this.noteRelease(oldestNote),this._oldest=(this._oldest+1)%(this.maxVoices-1)),this.notes[je]=new yt.a,this.notes[je].setValueAtTime(Ne,J);var ht=this._voicesInUse._searchBefore(J)===null?0:this._voicesInUse._searchBefore(J).value;if(this._voicesInUse.setValueAtTime(ht+1,J),this._updateAfter(J,1),this._newest=Ne,typeof Pe=="number"){var pt=1/this._voicesInUse.getValueAtTime(J)*2;Pe=Pe>pt?pt:Pe}this.audiovoices[Ne].triggerAttack(je,Pe,W)}},{key:"_updateAfter",value:function(w,k){if(this._voicesInUse._searchAfter(w)!==null){this._voicesInUse._searchAfter(w).value+=k;var W=this._voicesInUse._searchAfter(w).time;this._updateAfter(W,k)}}},{key:"noteRelease",value:function(w,k){var W=t.audiocontext.currentTime,J=k||0,je=W+J;if(!w){this.audiovoices.forEach(function(pt){pt.triggerRelease(J)}),this._voicesInUse.setValueAtTime(0,je);for(var Pe in this.notes)this.notes[Pe].dispose(),delete this.notes[Pe];return}var Ne=y(w);if(!this.notes[Ne]||this.notes[Ne].getValueAtTime(je)===null)console.warn("Cannot release a note that is not already playing");else{var ht=Math.max(~~this._voicesInUse.getValueAtTime(je).value,1);this._voicesInUse.setValueAtTime(ht-1,je),ht>0&&this._updateAfter(je,-1),this.audiovoices[this.notes[Ne].getValueAtTime(je)].triggerRelease(J),this.notes[Ne].dispose(),delete this.notes[Ne],this._newest=this._newest===0?0:(this._newest-1)%(this.maxVoices-1)}}},{key:"connect",value:function(w){var k=w||t.input;this.output.connect(k.input?k.input:k)}},{key:"disconnect",value:function(){this.output&&this.output.disconnect()}},{key:"dispose",value:function(){this.audiovoices.forEach(function(w){w.dispose()}),this.output&&(this.output.disconnect(),delete this.output)}}]),I}(),Ms=ks;function As(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}var Ps=function I(){As(this,I),console.warn("p5.Signal is deprecated , Use Tone.js Signal instead ")},Os=Ps;p5.prototype.getAudioContext=Ae.b,p5.prototype.userStartAudio=Ae.c,p5.prototype.sampleRate=i,p5.prototype.freqToMidi=l,p5.prototype.midiToFreq=g,p5.prototype.noteToFreq=y,p5.prototype.soundFormats=n,p5.prototype.disposeSound=o,p5.prototype._checkFileFormats=s,p5.prototype._mathChain=r,p5.prototype.convertToWav=a,p5.prototype.interleave=d,p5.prototype.writeUTFBytes=h,p5.prototype.safeBufferSize=c,p5.prototype.saveSound=p,p5.prototype.registerMethod("remove",p5.prototype.disposeSound),p5.Panner=z,p5.SoundFile=le,p5.prototype.loadSound=ie,p5.prototype.registerPreloadMethod("loadSound",p5.prototype),p5.Amplitude=he,p5.FFT=tt,p5.Oscillator=gt,p5.SinOsc=Qe,p5.TriOsc=st,p5.SawOsc=_t,p5.SqrOsc=Tt,p5.Noise=ge,p5.Pulse=Wt,p5.AudioIn=hn,p5.Effect=lr,p5.Filter=Tr,p5.LowPass=yn,p5.HighPass=gn,p5.BandPass=$r,p5.EQ=Ur,p5.listener3D=En,p5.Panner3D=Ln,p5.Delay=lo,p5.Reverb=u,p5.Convolver=v,p5.prototype.createConvolver=j,p5.prototype.registerPreloadMethod("createConvolver",p5.prototype),p5.Metro=pe,p5.Phrase=Xe,p5.Part=De,p5.Score=Be,p5.SoundLoop=St,p5.Compressor=sr,p5.peakDetect=wo,p5.SoundRecorder=Wo,p5.Distortion=es,p5.Gain=ss,p5.AudioVoice=So,p5.MonoSynth=vs,p5.OnsetDetect=js,p5.PolySynth=Ms,p5.PeakDetect=wo,p5.Signal=Os}])}()),Po}Bs();const Us="modulepreload",Gs=function(We){return"/Haxophone/"+We},Co={},Vs=function(Ve,xe,Ae){let me=Promise.resolve();if(xe&&xe.length>0){document.getElementsByTagName("link");const G=document.querySelector("meta[property=csp-nonce]"),t=(G==null?void 0:G.nonce)||(G==null?void 0:G.getAttribute("nonce"));me=Promise.allSettled(xe.map(O=>{if(O=Gs(O),O in Co)return;Co[O]=!0;const _=O.endsWith(".css"),f=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${O}"]${f}`))return;const i=document.createElement("link");if(i.rel=_?"stylesheet":Us,_||(i.as="script"),i.crossOrigin="",i.href=O,t&&i.setAttribute("nonce",t),document.head.appendChild(i),_)return new Promise((l,g)=>{i.addEventListener("load",l),i.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${O}`)))})}))}function V(G){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=G,window.dispatchEvent(t),!t.defaultPrevented)throw G}return me.then(G=>{for(const t of G||[])t.status==="rejected"&&V(t.reason);return Ve().catch(V)})};var Wn={exports:{}},go={},Ro;function xo(){if(Ro)return go;Ro=1;function We(Ve){return Ve&&Ve.__esModule?Ve:{default:Ve}}return go._=We,go}function zs(We){throw new Error('Could not dynamically require "'+We+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var vo={},bo={},Lo;function qs(){return Lo||(Lo=1,function(We){"use client";Object.defineProperty(We,"__esModule",{value:!0}),Object.defineProperty(We,"LoadableContext",{enumerable:!0,get:function(){return Ae}});const Ae=xo()._(dn()).default.createContext(null)}(bo)),bo}var Do;function Ws(){return Do||(Do=1,function(We){Object.defineProperty(We,"__esModule",{value:!0}),Object.defineProperty(We,"default",{enumerable:!0,get:function(){return g}});const xe=xo()._(dn()),Ae=qs();function me(y){return y&&y.default?y.default:y}const V=[],G=[];let t=!1;function O(y){let n=y(),o={loading:!0,loaded:null,error:null};return o.promise=n.then(s=>(o.loading=!1,o.loaded=s,s)).catch(s=>{throw o.loading=!1,o.error=s,s}),o}function _(y,n){let o=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},n),s=null;function r(){if(!s){const h=new f(y,o);s={getCurrentValue:h.getCurrentValue.bind(h),subscribe:h.subscribe.bind(h),retry:h.retry.bind(h),promise:h.promise.bind(h)}}return s.promise()}if(typeof window>"u"&&V.push(r),!t&&typeof window<"u"){const h=o.webpack&&typeof zs.resolveWeak=="function"?o.webpack():o.modules;h&&G.push(c=>{for(const p of h)if(c.includes(p))return r()})}function a(){r();const h=xe.default.useContext(Ae.LoadableContext);h&&Array.isArray(o.modules)&&o.modules.forEach(c=>{h(c)})}function d(h,c){a();const p=xe.default.useSyncExternalStore(s.subscribe,s.getCurrentValue,s.getCurrentValue);return xe.default.useImperativeHandle(c,()=>({retry:s.retry}),[]),xe.default.useMemo(()=>p.loading||p.error?xe.default.createElement(o.loading,{isLoading:p.loading,pastDelay:p.pastDelay,timedOut:p.timedOut,error:p.error,retry:s.retry}):p.loaded?xe.default.createElement(me(p.loaded),h):null,[h,p])}return d.preload=()=>r(),d.displayName="LoadableComponent",xe.default.forwardRef(d)}class f{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};const{_res:n,_opts:o}=this;n.loading&&(typeof o.delay=="number"&&(o.delay===0?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},o.delay)),typeof o.timeout=="number"&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},o.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(s=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(n){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...n},this._callbacks.forEach(o=>o())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(n){return this._callbacks.add(n),()=>{this._callbacks.delete(n)}}constructor(n,o){this._loadFn=n,this._opts=o,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function i(y){return _(O,y)}function l(y,n){let o=[];for(;y.length;){let s=y.pop();o.push(s(n))}return Promise.all(o).then(()=>{if(y.length)return l(y,n)})}i.preloadAll=()=>new Promise((y,n)=>{l(V).then(y,n)}),i.preloadReady=y=>(y===void 0&&(y=[]),new Promise(n=>{const o=()=>(t=!0,n());l(G,y).then(o,o)})),typeof window<"u"&&(window.__NEXT_PRELOADREADY=i.preloadReady);const g=i}(vo)),vo}var Io;function Hs(){return Io||(Io=1,function(We,Ve){Object.defineProperty(Ve,"__esModule",{value:!0});function xe(f,i){for(var l in i)Object.defineProperty(f,l,{enumerable:!0,get:i[l]})}xe(Ve,{default:function(){return _},noSSR:function(){return O}});const Ae=xo(),me=Bo();dn();const V=Ae._(Ws()),G=typeof window>"u";function t(f){return{default:(f==null?void 0:f.default)||f}}function O(f,i){if(delete i.webpack,delete i.modules,!G)return f(i);const l=i.loading;return()=>(0,me.jsx)(l,{error:null,isLoading:!0,pastDelay:!1,timedOut:!1})}function _(f,i){let l=V.default,g={loading:o=>{let{error:s,isLoading:r,pastDelay:a}=o;return null}};f instanceof Promise?g.loader=()=>f:typeof f=="function"?g.loader=f:typeof f=="object"&&(g={...g,...f}),g={...g,...i};const y=g.loader,n=()=>y!=null?y().then(t):Promise.resolve(t(()=>null));return g.loadableGenerated&&(g={...g,...g.loadableGenerated},delete g.loadableGenerated),typeof g.ssr=="boolean"&&!g.ssr?(delete g.webpack,delete g.modules,O(l,g)):l({...g,loader:n})}(typeof Ve.default=="function"||typeof Ve.default=="object"&&Ve.default!==null)&&typeof Ve.default.__esModule>"u"&&(Object.defineProperty(Ve.default,"__esModule",{value:!0}),Object.assign(Ve.default,Ve),We.exports=Ve.default)}(Wn,Wn.exports)),Wn.exports}var _o,Fo;function Ys(){return Fo||(Fo=1,_o=Hs()),_o}var Xs=Ys();const Zs=No(Xs);Zs(()=>Vs(()=>Promise.resolve().then(()=>Ns),void 0),{ssr:!1});
